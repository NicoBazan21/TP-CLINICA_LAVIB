"use strict";(self.webpackChunktp2_clinica=self.webpackChunktp2_clinica||[]).push([[179],{9058:(bt,Be,U)=>{U.d(Be,{BH:()=>ye,L:()=>me,LL:()=>de,P0:()=>Mt,Pz:()=>We,Sg:()=>Ye,UG:()=>sn,ZR:()=>je,aH:()=>le,b$:()=>lt,eu:()=>Fe,hl:()=>Re,m9:()=>Li,ne:()=>Xn,pd:()=>yn,q4:()=>ln,ru:()=>zn,tV:()=>ee,uI:()=>ct,vZ:()=>yr,w1:()=>Sr,xO:()=>Ur,xb:()=>kr,z$:()=>st,zd:()=>en});const se=function(fe){const W=[];let Q=0;for(let G=0;G<fe.length;G++){let q=fe.charCodeAt(G);q<128?W[Q++]=q:q<2048?(W[Q++]=q>>6|192,W[Q++]=63&q|128):55296==(64512&q)&&G+1<fe.length&&56320==(64512&fe.charCodeAt(G+1))?(q=65536+((1023&q)<<10)+(1023&fe.charCodeAt(++G)),W[Q++]=q>>18|240,W[Q++]=q>>12&63|128,W[Q++]=q>>6&63|128,W[Q++]=63&q|128):(W[Q++]=q>>12|224,W[Q++]=q>>6&63|128,W[Q++]=63&q|128)}return W},X={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,W){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[];for(let q=0;q<fe.length;q+=3){const be=fe[q],et=q+1<fe.length,ht=et?fe[q+1]:0,Lt=q+2<fe.length,rn=Lt?fe[q+2]:0;let Zn=(15&ht)<<2|rn>>6,qr=63&rn;Lt||(qr=64,et||(Zn=64)),G.push(Q[be>>2],Q[(3&be)<<4|ht>>4],Q[Zn],Q[qr])}return G.join("")},encodeString(fe,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(fe):this.encodeByteArray(se(fe),W)},decodeString(fe,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(fe):function(fe){const W=[];let Q=0,G=0;for(;Q<fe.length;){const q=fe[Q++];if(q<128)W[G++]=String.fromCharCode(q);else if(q>191&&q<224){const be=fe[Q++];W[G++]=String.fromCharCode((31&q)<<6|63&be)}else if(q>239&&q<365){const Lt=((7&q)<<18|(63&fe[Q++])<<12|(63&fe[Q++])<<6|63&fe[Q++])-65536;W[G++]=String.fromCharCode(55296+(Lt>>10)),W[G++]=String.fromCharCode(56320+(1023&Lt))}else{const be=fe[Q++],et=fe[Q++];W[G++]=String.fromCharCode((15&q)<<12|(63&be)<<6|63&et)}}return W.join("")}(this.decodeStringToByteArray(fe,W))},decodeStringToByteArray(fe,W){this.init_();const Q=W?this.charToByteMapWebSafe_:this.charToByteMap_,G=[];for(let q=0;q<fe.length;){const be=Q[fe.charAt(q++)],ht=q<fe.length?Q[fe.charAt(q)]:0;++q;const rn=q<fe.length?Q[fe.charAt(q)]:64;++q;const Qt=q<fe.length?Q[fe.charAt(q)]:64;if(++q,null==be||null==ht||null==rn||null==Qt)throw new Ee;G.push(be<<2|ht>>4),64!==rn&&(G.push(ht<<4&240|rn>>2),64!==Qt&&G.push(rn<<6&192|Qt))}return G},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const me=function(fe){return function(fe){const W=se(fe);return X.encodeByteArray(W,!0)}(fe).replace(/\./g,"")},ee=function(fe){try{return X.decodeString(fe,!0)}catch(W){console.error("base64Decode failed: ",W)}return null},At=()=>{try{return function Ze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const fe=process.env.__FIREBASE_DEFAULTS__;return fe?JSON.parse(fe):void 0})()||(()=>{if(typeof document>"u")return;let fe;try{fe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const W=fe&&ee(fe[1]);return W&&JSON.parse(W)})()}catch(fe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${fe}`)}},ln=fe=>{var W,Q;return null===(Q=null===(W=At())||void 0===W?void 0:W.emulatorHosts)||void 0===Q?void 0:Q[fe]},Mt=fe=>{const W=ln(fe);if(!W)return;const Q=W.lastIndexOf(":");if(Q<=0||Q+1===W.length)throw new Error(`Invalid host ${W} with no separate hostname and port!`);const G=parseInt(W.substring(Q+1),10);return"["===W[0]?[W.substring(1,Q-1),G]:[W.substring(0,Q),G]},le=()=>{var fe;return null===(fe=At())||void 0===fe?void 0:fe.config},We=fe=>{var W;return null===(W=At())||void 0===W?void 0:W[`_${fe}`]};class ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,Q)=>{this.resolve=W,this.reject=Q})}wrapCallback(W){return(Q,G)=>{Q?this.reject(Q):this.resolve(G),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(Q):W(Q,G))}}}function Ye(fe,W){if(fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const G=W||"demo-project",q=fe.iat||0,be=fe.sub||fe.user_id;if(!be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const et=Object.assign({iss:`https://securetoken.google.com/${G}`,aud:G,iat:q,exp:q+3600,auth_time:q,sub:be,user_id:be,firebase:{sign_in_provider:"custom",identities:{}}},fe);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(et)),""].join(".")}function st(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ct(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function sn(){var fe;const W=null===(fe=At())||void 0===fe?void 0:fe.forceEnvironment;if("node"===W)return!0;if("browser"===W)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function zn(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function lt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Sr(){const fe=st();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function Re(){try{return"object"==typeof indexedDB}catch{return!1}}function Fe(){return new Promise((fe,W)=>{try{let Q=!0;const G="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(G);q.onsuccess=()=>{q.result.close(),Q||self.indexedDB.deleteDatabase(G),fe(!0)},q.onupgradeneeded=()=>{Q=!1},q.onerror=()=>{var be;W((null===(be=q.error)||void 0===be?void 0:be.message)||"")}}catch(Q){W(Q)}})}class je extends Error{constructor(W,Q,G){super(Q),this.code=W,this.customData=G,this.name="FirebaseError",Object.setPrototypeOf(this,je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,de.prototype.create)}}class de{constructor(W,Q,G){this.service=W,this.serviceName=Q,this.errors=G}create(W,...Q){const G=Q[0]||{},q=`${this.service}/${W}`,be=this.errors[W],et=be?function Ce(fe,W){return fe.replace(Se,(Q,G)=>{const q=W[G];return null!=q?String(q):`<${G}?>`})}(be,G):"Error";return new je(q,`${this.serviceName}: ${et} (${q}).`,G)}}const Se=/\{\$([^}]+)}/g;function kr(fe){for(const W in fe)if(Object.prototype.hasOwnProperty.call(fe,W))return!1;return!0}function yr(fe,W){if(fe===W)return!0;const Q=Object.keys(fe),G=Object.keys(W);for(const q of Q){if(!G.includes(q))return!1;const be=fe[q],et=W[q];if(Ji(be)&&Ji(et)){if(!yr(be,et))return!1}else if(be!==et)return!1}for(const q of G)if(!Q.includes(q))return!1;return!0}function Ji(fe){return null!==fe&&"object"==typeof fe}function Ur(fe){const W=[];for(const[Q,G]of Object.entries(fe))Array.isArray(G)?G.forEach(q=>{W.push(encodeURIComponent(Q)+"="+encodeURIComponent(q))}):W.push(encodeURIComponent(Q)+"="+encodeURIComponent(G));return W.length?"&"+W.join("&"):""}function en(fe){const W={};return fe.replace(/^\?/,"").split("&").forEach(G=>{if(G){const[q,be]=G.split("=");W[decodeURIComponent(q)]=decodeURIComponent(be)}}),W}function yn(fe){const W=fe.indexOf("?");if(!W)return"";const Q=fe.indexOf("#",W);return fe.substring(W,Q>0?Q:void 0)}function Xn(fe,W){const Q=new Ri(fe,W);return Q.subscribe.bind(Q)}class Ri{constructor(W,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{W(this)}).catch(G=>{this.error(G)})}next(W){this.forEachObserver(Q=>{Q.next(W)})}error(W){this.forEachObserver(Q=>{Q.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,Q,G){let q;if(void 0===W&&void 0===Q&&void 0===G)throw new Error("Missing Observer.");q=function wn(fe,W){if("object"!=typeof fe||null===fe)return!1;for(const Q of W)if(Q in fe&&"function"==typeof fe[Q])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:Q,complete:G},void 0===q.next&&(q.next=tn),void 0===q.error&&(q.error=tn),void 0===q.complete&&(q.complete=tn);const be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),be}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,W)}sendOne(W,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{Q(this.observers[W])}catch(G){typeof console<"u"&&console.error&&console.error(G)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tn(){}function Li(fe){return fe&&fe._delegate?fe._delegate:fe}},1486:(bt,Be,U)=>{U.d(Be,{V:()=>se});var y=U(3403),re=U(3076),ve=U(5879);const se=(Z,X)=>((0,ve.f3M)(re.K),(0,ve.f3M)(y.F0),!0)},3076:(bt,Be,U)=>{U.d(Be,{K:()=>X});var y=U(5861),re=U(3435),ve=U(5349),se=U(5017),Z=U(5879);let X=(()=>{class Ee{constructor(me,ee,ce){this.auth=me,this.firestore=ee,this.storage=ce,this.coleccionUsuarios=(0,ve.hJ)(this.firestore,"usuarios"),this.coleccionEspecialidades=(0,ve.hJ)(this.firestore,"especialidades")}guardarPaciente(me){const ee=(0,ve.JU)(this.coleccionUsuarios);return(0,ve.pl)(ee,{id:ee.id,nombre:me.nombre,apellido:me.apellido,edad:me.edad,dni:me.dni,obraSocial:me.obraSocial,mail:me.mail,clave:me.clave,rol:me.rol})}guardarEspecialista(me){const ee=(0,ve.JU)(this.coleccionUsuarios);return(0,ve.pl)(ee,{id:ee.id,nombre:me.nombre,apellido:me.apellido,edad:me.edad,dni:me.dni,habilitado:me.habilitado,mail:me.mail,clave:me.clave,especialidad:me.especialidad,rol:me.rol})}guardarAdmin(me){const ee=(0,ve.JU)(this.coleccionUsuarios);return(0,ve.pl)(ee,{id:ee.id,nombre:me.nombre,apellido:me.apellido,edad:me.edad,dni:me.dni,mail:me.mail,clave:me.clave,rol:me.rol})}guardarEspecialidad(me){const ee=(0,ve.JU)(this.coleccionEspecialidades);return(0,ve.pl)(ee,{id:ee.id,especialidad:me})}traerEspecialidades(){return(0,ve.BS)(this.coleccionEspecialidades)}traerEspecialistas(){const me=(0,ve.IO)(this.coleccionUsuarios,(0,ve.ar)("rol","==","Especialista"));return(0,ve.BS)(me)}modificar(me){const ee=(0,ve.JU)(this.coleccionUsuarios,me.id);(0,ve.r7)(ee,{...me})}traerUsuarios(){return(0,ve.BS)(this.coleccionUsuarios)}buscarUsuario(me){const ee=(0,ve.IO)(this.coleccionUsuarios,(0,ve.ar)("mail","==",me));return new Promise(ce=>{(0,ve.BS)(ee).subscribe(De=>{ce(De[0])})})}subirImagen(me,ee,ce){const De=(0,se.iH)(this.storage,`${ce}/${ee}`);(0,se.KV)(De,me)}traerImagenes(me){const ee=(0,se.iH)(this.storage,me);let ce=[];return new Promise(De=>{(0,se.aF)(ee).then(function(){var Ae=(0,y.Z)(function*(Ze){for(let Le of Ze.items){const Qe=yield(0,se.Jt)(Le);ce.push(Qe)}De(ce)});return function(Ze){return Ae.apply(this,arguments)}}())})}register(me,ee){return(0,re.Xb)(this.auth,me,ee)}login(me,ee){return(0,re.e5)(this.auth,me,ee)}logout(){return(0,re.w7)(this.auth)}obtenerSesion(){return this.auth.currentUser}enviarEmailVerificacion(){const me=(0,re.v0)();return(0,re.w$)(me.currentUser)}static#e=this.\u0275fac=function(ee){return new(ee||Ee)(Z.LFG(re.gx),Z.LFG(ve.gg),Z.LFG(se.Ke))};static#t=this.\u0275prov=Z.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})()},6842:(bt,Be,U)=>{var y=U(6593),re=U(3403),ve=U(1486),se=U(5879);const Z=[{path:"",loadChildren:()=>Promise.all([U.e(223),U.e(530),U.e(492)]).then(U.bind(U,4492)).then(B=>B.InicioModule)},{path:"clinica",canActivate:[ve.V],loadChildren:()=>Promise.all([U.e(223),U.e(549)]).then(U.bind(U,9549)).then(B=>B.ClinicaModule)}];let X=(()=>{class B{static#e=this.\u0275fac=function(P){return new(P||B)};static#t=this.\u0275mod=se.oAB({type:B});static#n=this.\u0275inj=se.cJS({imports:[re.Bz.forRoot(Z),re.Bz]})}return B})(),Ee=(()=>{class B{constructor(){this.title="TP2 CLINICA"}static#e=this.\u0275fac=function(P){return new(P||B)};static#t=this.\u0275cmp=se.Xpm({type:B,selectors:[["app-root"]],decls:1,vars:0,template:function(P,j){1&P&&se._UZ(0,"router-outlet")},dependencies:[re.lC]})}return B})();var Me=U(6825);function ee(B){return new se.vHH(3e3,!1)}function jt(B){switch(B.length){case 0:return new Me.ZN;case 1:return B[0];default:return new Me.ZE(B)}}function Tn(B,m,T=new Map,P=new Map){const j=[],J=[];let pe=-1,ge=null;if(m.forEach(xe=>{const Je=xe.get("offset"),Et=Je==pe,xt=Et&&ge||new Map;xe.forEach((Mn,Yt)=>{let Kt=Yt,Ot=Mn;if("offset"!==Yt)switch(Kt=B.normalizePropertyName(Kt,j),Ot){case Me.k1:Ot=T.get(Yt);break;case Me.l3:Ot=P.get(Yt);break;default:Ot=B.normalizeStyleValue(Yt,Kt,Ot,j)}xt.set(Kt,Ot)}),Et||J.push(xt),ge=xt,pe=Je}),j.length)throw function Jt(B){return new se.vHH(3502,!1)}();return J}function dn(B,m,T,P){switch(m){case"start":B.onStart(()=>P(T&&or(T,"start",B)));break;case"done":B.onDone(()=>P(T&&or(T,"done",B)));break;case"destroy":B.onDestroy(()=>P(T&&or(T,"destroy",B)))}}function or(B,m,T){const J=Un(B.element,B.triggerName,B.fromState,B.toState,m||B.phaseName,T.totalTime??B.totalTime,!!T.disabled),pe=B._data;return null!=pe&&(J._data=pe),J}function Un(B,m,T,P,j="",J=0,pe){return{element:B,triggerName:m,fromState:T,toState:P,phaseName:j,totalTime:J,disabled:!!pe}}function mn(B,m,T){let P=B.get(m);return P||B.set(m,P=T),P}function kr(B){const m=B.indexOf(":");return[B.substring(1,m),B.slice(m+1)]}const Vr=(()=>typeof document>"u"?null:document.documentElement)();function yr(B){const m=B.parentNode||B.host||null;return m===Vr?null:m}let Mr=null,Ur=!1;function Xn(B,m){for(;m;){if(m===B)return!0;m=yr(m)}return!1}function Ri(B,m,T){if(T)return Array.from(B.querySelectorAll(m));const P=B.querySelector(m);return P?[P]:[]}let wn=(()=>{class B{validateStyleProperty(T){return function en(B){Mr||(Mr=function hn(){return typeof document<"u"?document.body:null}()||{},Ur=!!Mr.style&&"WebkitAppearance"in Mr.style);let m=!0;return Mr.style&&!function Ji(B){return"ebkit"==B.substring(1,6)}(B)&&(m=B in Mr.style,!m&&Ur&&(m="Webkit"+B.charAt(0).toUpperCase()+B.slice(1)in Mr.style)),m}(T)}matchesElement(T,P){return!1}containsElement(T,P){return Xn(T,P)}getParentElement(T){return yr(T)}query(T,P,j){return Ri(T,P,j)}computeStyle(T,P,j){return j||""}animate(T,P,j,J,pe,ge=[],xe){return new Me.ZN(j,J)}static#e=this.\u0275fac=function(P){return new(P||B)};static#t=this.\u0275prov=se.Yz7({token:B,factory:B.\u0275fac})}return B})(),tn=(()=>{class B{static#e=this.NOOP=new wn}return B})();const ki=1e3,pn="ng-enter",_i="ng-leave",Wr="ng-trigger",Hi=".ng-trigger",qn="ng-animating",ci=".ng-animating";function Jr(B){if("number"==typeof B)return B;const m=B.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:yi(parseFloat(m[1]),m[2])}function yi(B,m){return"s"===m?B*ki:B}function Xr(B,m,T){return B.hasOwnProperty("duration")?B:function nr(B,m,T){let j,J=0,pe="";if("string"==typeof B){const ge=B.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ge)return m.push(ee()),{duration:0,delay:0,easing:""};j=yi(parseFloat(ge[1]),ge[2]);const xe=ge[3];null!=xe&&(J=yi(parseFloat(xe),ge[4]));const Je=ge[5];Je&&(pe=Je)}else j=B;if(!T){let ge=!1,xe=m.length;j<0&&(m.push(function ce(){return new se.vHH(3100,!1)}()),ge=!0),J<0&&(m.push(function De(){return new se.vHH(3101,!1)}()),ge=!0),ge&&m.splice(xe,0,ee())}return{duration:j,delay:J,easing:pe}}(B,m,T)}function un(B,m={}){return Object.keys(B).forEach(T=>{m[T]=B[T]}),m}function li(B){const m=new Map;return Object.keys(B).forEach(T=>{m.set(T,B[T])}),m}function W(B,m=new Map,T){if(T)for(let[P,j]of T)m.set(P,j);for(let[P,j]of B)m.set(P,j);return m}function Q(B,m,T){m.forEach((P,j)=>{const J=Qt(j);T&&!T.has(j)&&T.set(j,B.style[J]),B.style[J]=P})}function G(B,m){m.forEach((T,P)=>{const j=Qt(P);B.style[j]=""})}function q(B){return Array.isArray(B)?1==B.length?B[0]:(0,Me.vP)(B):B}const et=new RegExp("{{\\s*(.+?)\\s*}}","g");function ht(B){let m=[];if("string"==typeof B){let T;for(;T=et.exec(B);)m.push(T[1]);et.lastIndex=0}return m}function Lt(B,m,T){const P=B.toString(),j=P.replace(et,(J,pe)=>{let ge=m[pe];return null==ge&&(T.push(function Ze(B){return new se.vHH(3003,!1)}()),ge=""),ge.toString()});return j==P?B:j}function rn(B){const m=[];let T=B.next();for(;!T.done;)m.push(T.value),T=B.next();return m}const Pt=/-+([a-z0-9])/g;function Qt(B){return B.replace(Pt,(...m)=>m[1].toUpperCase())}function Nr(B,m,T){switch(m.type){case 7:return B.visitTrigger(m,T);case 0:return B.visitState(m,T);case 1:return B.visitTransition(m,T);case 2:return B.visitSequence(m,T);case 3:return B.visitGroup(m,T);case 4:return B.visitAnimate(m,T);case 5:return B.visitKeyframes(m,T);case 6:return B.visitStyle(m,T);case 8:return B.visitReference(m,T);case 9:return B.visitAnimateChild(m,T);case 10:return B.visitAnimateRef(m,T);case 11:return B.visitQuery(m,T);case 12:return B.visitStagger(m,T);default:throw function Le(B){return new se.vHH(3004,!1)}()}}function qe(B,m){return window.getComputedStyle(B)[m]}const hr="*";function Jn(B,m){const T=[];return"string"==typeof B?B.split(/\s*,\s*/).forEach(P=>function Rs(B,m,T){if(":"==B[0]){const xe=function vi(B,m){switch(B){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(T,P)=>parseFloat(P)>parseFloat(T);case":decrement":return(T,P)=>parseFloat(P)<parseFloat(T);default:return m.push(function lt(B){return new se.vHH(3016,!1)}()),"* => *"}}(B,T);if("function"==typeof xe)return void m.push(xe);B=xe}const P=B.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==P||P.length<4)return T.push(function zn(B){return new se.vHH(3015,!1)}()),m;const j=P[1],J=P[2],pe=P[3];m.push(Xi(j,pe));"<"==J[0]&&!(j==hr&&pe==hr)&&m.push(Xi(pe,j))}(P,T,m)):T.push(B),T}const Qr=new Set(["true","1"]),Bs=new Set(["false","0"]);function Xi(B,m){const T=Qr.has(B)||Bs.has(B),P=Qr.has(m)||Bs.has(m);return(j,J)=>{let pe=B==hr||B==j,ge=m==hr||m==J;return!pe&&T&&"boolean"==typeof j&&(pe=j?Qr.has(B):Bs.has(B)),!ge&&P&&"boolean"==typeof J&&(ge=J?Qr.has(m):Bs.has(m)),pe&&ge}}const Ps=new RegExp("s*:selfs*,?","g");function ho(B,m,T,P){return new Js(B).build(m,T,P)}class Js{constructor(m){this._driver=m}build(m,T,P){const j=new $s(T);return this._resetContextStyleTimingState(j),Nr(this,q(m),j)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles=new Map,m.collectedStyles.set("",new Map),m.currentTime=0}visitTrigger(m,T){let P=T.queryCount=0,j=T.depCount=0;const J=[],pe=[];return"@"==m.name.charAt(0)&&T.errors.push(function yt(){return new se.vHH(3006,!1)}()),m.definitions.forEach(ge=>{if(this._resetContextStyleTimingState(T),0==ge.type){const xe=ge,Je=xe.name;Je.toString().split(/\s*,\s*/).forEach(Et=>{xe.name=Et,J.push(this.visitState(xe,T))}),xe.name=Je}else if(1==ge.type){const xe=this.visitTransition(ge,T);P+=xe.queryCount,j+=xe.depCount,pe.push(xe)}else T.errors.push(function At(){return new se.vHH(3007,!1)}())}),{type:7,name:m.name,states:J,transitions:pe,queryCount:P,depCount:j,options:null}}visitState(m,T){const P=this.visitStyle(m.styles,T),j=m.options&&m.options.params||null;if(P.containsDynamicStyles){const J=new Set,pe=j||{};P.styles.forEach(ge=>{ge instanceof Map&&ge.forEach(xe=>{ht(xe).forEach(Je=>{pe.hasOwnProperty(Je)||J.add(Je)})})}),J.size&&(rn(J.values()),T.errors.push(function ln(B,m){return new se.vHH(3008,!1)}()))}return{type:0,name:m.name,style:P,options:j?{params:j}:null}}visitTransition(m,T){T.queryCount=0,T.depCount=0;const P=Nr(this,q(m.animation),T);return{type:1,matchers:Jn(m.expr,T.errors),animation:P,queryCount:T.queryCount,depCount:T.depCount,options:On(m.options)}}visitSequence(m,T){return{type:2,steps:m.steps.map(P=>Nr(this,P,T)),options:On(m.options)}}visitGroup(m,T){const P=T.currentTime;let j=0;const J=m.steps.map(pe=>{T.currentTime=P;const ge=Nr(this,pe,T);return j=Math.max(j,T.currentTime),ge});return T.currentTime=j,{type:3,steps:J,options:On(m.options)}}visitAnimate(m,T){const P=function Ts(B,m){if(B.hasOwnProperty("duration"))return B;if("number"==typeof B)return us(Xr(B,m).duration,0,"");const T=B;if(T.split(/\s+/).some(J=>"{"==J.charAt(0)&&"{"==J.charAt(1))){const J=us(0,0,"");return J.dynamic=!0,J.strValue=T,J}const j=Xr(T,m);return us(j.duration,j.delay,j.easing)}(m.timings,T.errors);T.currentAnimateTimings=P;let j,J=m.styles?m.styles:(0,Me.oB)({});if(5==J.type)j=this.visitKeyframes(J,T);else{let pe=m.styles,ge=!1;if(!pe){ge=!0;const Je={};P.easing&&(Je.easing=P.easing),pe=(0,Me.oB)(Je)}T.currentTime+=P.duration+P.delay;const xe=this.visitStyle(pe,T);xe.isEmptyStep=ge,j=xe}return T.currentAnimateTimings=null,{type:4,timings:P,style:j,options:null}}visitStyle(m,T){const P=this._makeStyleAst(m,T);return this._validateStyleAst(P,T),P}_makeStyleAst(m,T){const P=[],j=Array.isArray(m.styles)?m.styles:[m.styles];for(let ge of j)"string"==typeof ge?ge===Me.l3?P.push(ge):T.errors.push(new se.vHH(3002,!1)):P.push(li(ge));let J=!1,pe=null;return P.forEach(ge=>{if(ge instanceof Map&&(ge.has("easing")&&(pe=ge.get("easing"),ge.delete("easing")),!J))for(let xe of ge.values())if(xe.toString().indexOf("{{")>=0){J=!0;break}}),{type:6,styles:P,easing:pe,offset:m.offset,containsDynamicStyles:J,options:null}}_validateStyleAst(m,T){const P=T.currentAnimateTimings;let j=T.currentTime,J=T.currentTime;P&&J>0&&(J-=P.duration+P.delay),m.styles.forEach(pe=>{"string"!=typeof pe&&pe.forEach((ge,xe)=>{const Je=T.collectedStyles.get(T.currentQuerySelector),Et=Je.get(xe);let xt=!0;Et&&(J!=j&&J>=Et.startTime&&j<=Et.endTime&&(T.errors.push(function We(B,m,T,P,j){return new se.vHH(3010,!1)}()),xt=!1),J=Et.startTime),xt&&Je.set(xe,{startTime:J,endTime:j}),T.options&&function be(B,m,T){const P=m.params||{},j=ht(B);j.length&&j.forEach(J=>{P.hasOwnProperty(J)||T.push(function Ae(B){return new se.vHH(3001,!1)}())})}(ge,T.options,T.errors)})})}visitKeyframes(m,T){const P={type:5,styles:[],options:null};if(!T.currentAnimateTimings)return T.errors.push(function ye(){return new se.vHH(3011,!1)}()),P;let J=0;const pe=[];let ge=!1,xe=!1,Je=0;const Et=m.steps.map(Ai=>{const Tr=this._makeStyleAst(Ai,T);let Qi=null!=Tr.offset?Tr.offset:function as(B){if("string"==typeof B)return null;let m=null;if(Array.isArray(B))B.forEach(T=>{if(T instanceof Map&&T.has("offset")){const P=T;m=parseFloat(P.get("offset")),P.delete("offset")}});else if(B instanceof Map&&B.has("offset")){const T=B;m=parseFloat(T.get("offset")),T.delete("offset")}return m}(Tr.styles),Yr=0;return null!=Qi&&(J++,Yr=Tr.offset=Qi),xe=xe||Yr<0||Yr>1,ge=ge||Yr<Je,Je=Yr,pe.push(Yr),Tr});xe&&T.errors.push(function Ye(){return new se.vHH(3012,!1)}()),ge&&T.errors.push(function st(){return new se.vHH(3200,!1)}());const xt=m.steps.length;let Mn=0;J>0&&J<xt?T.errors.push(function ct(){return new se.vHH(3202,!1)}()):0==J&&(Mn=1/(xt-1));const Yt=xt-1,Kt=T.currentTime,Ot=T.currentAnimateTimings,Rr=Ot.duration;return Et.forEach((Ai,Tr)=>{const Qi=Mn>0?Tr==Yt?1:Mn*Tr:pe[Tr],Yr=Qi*Rr;T.currentTime=Kt+Ot.delay+Yr,Ot.duration=Yr,this._validateStyleAst(Ai,T),Ai.offset=Qi,P.styles.push(Ai)}),P}visitReference(m,T){return{type:8,animation:Nr(this,q(m.animation),T),options:On(m.options)}}visitAnimateChild(m,T){return T.depCount++,{type:9,options:On(m.options)}}visitAnimateRef(m,T){return{type:10,animation:this.visitReference(m.animation,T),options:On(m.options)}}visitQuery(m,T){const P=T.currentQuerySelector,j=m.options||{};T.queryCount++,T.currentQuery=m;const[J,pe]=function Ms(B){const m=!!B.split(/\s*,\s*/).find(T=>":self"==T);return m&&(B=B.replace(Ps,"")),B=B.replace(/@\*/g,Hi).replace(/@\w+/g,T=>Hi+"-"+T.slice(1)).replace(/:animating/g,ci),[B,m]}(m.selector);T.currentQuerySelector=P.length?P+" "+J:J,mn(T.collectedStyles,T.currentQuerySelector,new Map);const ge=Nr(this,q(m.animation),T);return T.currentQuery=null,T.currentQuerySelector=P,{type:11,selector:J,limit:j.limit||0,optional:!!j.optional,includeSelf:pe,animation:ge,originalSelector:m.selector,options:On(m.options)}}visitStagger(m,T){T.currentQuery||T.errors.push(function sn(){return new se.vHH(3013,!1)}());const P="full"===m.timings?{duration:0,delay:0,easing:"full"}:Xr(m.timings,T.errors,!0);return{type:12,animation:Nr(this,q(m.animation),T),timings:P,options:null}}}class $s{constructor(m){this.errors=m,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function On(B){return B?(B=un(B)).params&&(B.params=function bn(B){return B?un(B):null}(B.params)):B={},B}function us(B,m,T){return{duration:B,delay:m,easing:T}}function js(B,m,T,P,j,J,pe=null,ge=!1){return{type:1,element:B,keyframes:m,preStyleProps:T,postStyleProps:P,duration:j,delay:J,totalTime:j+J,easing:pe,subTimeline:ge}}class mo{constructor(){this._map=new Map}get(m){return this._map.get(m)||[]}append(m,T){let P=this._map.get(m);P||this._map.set(m,P=[]),P.push(...T)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const zi=new RegExp(":enter","g"),na=new RegExp(":leave","g");function Ei(B,m,T,P,j,J=new Map,pe=new Map,ge,xe,Je=[]){return(new fo).buildKeyframes(B,m,T,P,j,J,pe,ge,xe,Je)}class fo{buildKeyframes(m,T,P,j,J,pe,ge,xe,Je,Et=[]){Je=Je||new mo;const xt=new bo(m,T,Je,j,J,Et,[]);xt.options=xe;const Mn=xe.delay?Jr(xe.delay):0;xt.currentTimeline.delayNextStep(Mn),xt.currentTimeline.setStyles([pe],null,xt.errors,xe),Nr(this,P,xt);const Yt=xt.timelines.filter(Kt=>Kt.containsAnimation());if(Yt.length&&ge.size){let Kt;for(let Ot=Yt.length-1;Ot>=0;Ot--){const Rr=Yt[Ot];if(Rr.element===T){Kt=Rr;break}}Kt&&!Kt.allowOnlyTimelineStyles()&&Kt.setStyles([ge],null,xt.errors,xe)}return Yt.length?Yt.map(Kt=>Kt.buildKeyframes()):[js(T,[],[],[],0,Mn,"",!1)]}visitTrigger(m,T){}visitState(m,T){}visitTransition(m,T){}visitAnimateChild(m,T){const P=T.subInstructions.get(T.element);if(P){const j=T.createSubContext(m.options),J=T.currentTimeline.currentTime,pe=this._visitSubInstructions(P,j,j.options);J!=pe&&T.transformIntoNewTimeline(pe)}T.previousNode=m}visitAnimateRef(m,T){const P=T.createSubContext(m.options);P.transformIntoNewTimeline(),this._applyAnimationRefDelays([m.options,m.animation.options],T,P),this.visitReference(m.animation,P),T.transformIntoNewTimeline(P.currentTimeline.currentTime),T.previousNode=m}_applyAnimationRefDelays(m,T,P){for(const j of m){const J=j?.delay;if(J){const pe="number"==typeof J?J:Jr(Lt(J,j?.params??{},T.errors));P.delayNextStep(pe)}}}_visitSubInstructions(m,T,P){let J=T.currentTimeline.currentTime;const pe=null!=P.duration?Jr(P.duration):null,ge=null!=P.delay?Jr(P.delay):null;return 0!==pe&&m.forEach(xe=>{const Je=T.appendInstructionToTimeline(xe,pe,ge);J=Math.max(J,Je.duration+Je.delay)}),J}visitReference(m,T){T.updateOptions(m.options,!0),Nr(this,m.animation,T),T.previousNode=m}visitSequence(m,T){const P=T.subContextCount;let j=T;const J=m.options;if(J&&(J.params||J.delay)&&(j=T.createSubContext(J),j.transformIntoNewTimeline(),null!=J.delay)){6==j.previousNode.type&&(j.currentTimeline.snapshotCurrentStyles(),j.previousNode=Xs);const pe=Jr(J.delay);j.delayNextStep(pe)}m.steps.length&&(m.steps.forEach(pe=>Nr(this,pe,j)),j.currentTimeline.applyStylesToKeyframe(),j.subContextCount>P&&j.transformIntoNewTimeline()),T.previousNode=m}visitGroup(m,T){const P=[];let j=T.currentTimeline.currentTime;const J=m.options&&m.options.delay?Jr(m.options.delay):0;m.steps.forEach(pe=>{const ge=T.createSubContext(m.options);J&&ge.delayNextStep(J),Nr(this,pe,ge),j=Math.max(j,ge.currentTimeline.currentTime),P.push(ge.currentTimeline)}),P.forEach(pe=>T.currentTimeline.mergeTimelineCollectedStyles(pe)),T.transformIntoNewTimeline(j),T.previousNode=m}_visitTiming(m,T){if(m.dynamic){const P=m.strValue;return Xr(T.params?Lt(P,T.params,T.errors):P,T.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,T){const P=T.currentAnimateTimings=this._visitTiming(m.timings,T),j=T.currentTimeline;P.delay&&(T.incrementTime(P.delay),j.snapshotCurrentStyles());const J=m.style;5==J.type?this.visitKeyframes(J,T):(T.incrementTime(P.duration),this.visitStyle(J,T),j.applyStylesToKeyframe()),T.currentAnimateTimings=null,T.previousNode=m}visitStyle(m,T){const P=T.currentTimeline,j=T.currentAnimateTimings;!j&&P.hasCurrentStyleProperties()&&P.forwardFrame();const J=j&&j.easing||m.easing;m.isEmptyStep?P.applyEmptyStep(J):P.setStyles(m.styles,J,T.errors,T.options),T.previousNode=m}visitKeyframes(m,T){const P=T.currentAnimateTimings,j=T.currentTimeline.duration,J=P.duration,ge=T.createSubContext().currentTimeline;ge.easing=P.easing,m.styles.forEach(xe=>{ge.forwardTime((xe.offset||0)*J),ge.setStyles(xe.styles,xe.easing,T.errors,T.options),ge.applyStylesToKeyframe()}),T.currentTimeline.mergeTimelineCollectedStyles(ge),T.transformIntoNewTimeline(j+J),T.previousNode=m}visitQuery(m,T){const P=T.currentTimeline.currentTime,j=m.options||{},J=j.delay?Jr(j.delay):0;J&&(6===T.previousNode.type||0==P&&T.currentTimeline.hasCurrentStyleProperties())&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=Xs);let pe=P;const ge=T.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!j.optional,T.errors);T.currentQueryTotal=ge.length;let xe=null;ge.forEach((Je,Et)=>{T.currentQueryIndex=Et;const xt=T.createSubContext(m.options,Je);J&&xt.delayNextStep(J),Je===T.element&&(xe=xt.currentTimeline),Nr(this,m.animation,xt),xt.currentTimeline.applyStylesToKeyframe(),pe=Math.max(pe,xt.currentTimeline.currentTime)}),T.currentQueryIndex=0,T.currentQueryTotal=0,T.transformIntoNewTimeline(pe),xe&&(T.currentTimeline.mergeTimelineCollectedStyles(xe),T.currentTimeline.snapshotCurrentStyles()),T.previousNode=m}visitStagger(m,T){const P=T.parentContext,j=T.currentTimeline,J=m.timings,pe=Math.abs(J.duration),ge=pe*(T.currentQueryTotal-1);let xe=pe*T.currentQueryIndex;switch(J.duration<0?"reverse":J.easing){case"reverse":xe=ge-xe;break;case"full":xe=P.currentStaggerTime}const Et=T.currentTimeline;xe&&Et.delayNextStep(xe);const xt=Et.currentTime;Nr(this,m.animation,T),T.previousNode=m,P.currentStaggerTime=j.currentTime-xt+(j.startTime-P.currentTimeline.startTime)}}const Xs={};class bo{constructor(m,T,P,j,J,pe,ge,xe){this._driver=m,this.element=T,this.subInstructions=P,this._enterClassName=j,this._leaveClassName=J,this.errors=pe,this.timelines=ge,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Xs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=xe||new eo(this._driver,T,0),ge.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,T){if(!m)return;const P=m;let j=this.options;null!=P.duration&&(j.duration=Jr(P.duration)),null!=P.delay&&(j.delay=Jr(P.delay));const J=P.params;if(J){let pe=j.params;pe||(pe=this.options.params={}),Object.keys(J).forEach(ge=>{(!T||!pe.hasOwnProperty(ge))&&(pe[ge]=Lt(J[ge],pe,this.errors))})}}_copyOptions(){const m={};if(this.options){const T=this.options.params;if(T){const P=m.params={};Object.keys(T).forEach(j=>{P[j]=T[j]})}}return m}createSubContext(m=null,T,P){const j=T||this.element,J=new bo(this._driver,j,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(j,P||0));return J.previousNode=this.previousNode,J.currentAnimateTimings=this.currentAnimateTimings,J.options=this._copyOptions(),J.updateOptions(m),J.currentQueryIndex=this.currentQueryIndex,J.currentQueryTotal=this.currentQueryTotal,J.parentContext=this,this.subContextCount++,J}transformIntoNewTimeline(m){return this.previousNode=Xs,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,T,P){const j={duration:T??m.duration,delay:this.currentTimeline.currentTime+(P??0)+m.delay,easing:""},J=new zs(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,j,m.stretchStartingKeyframe);return this.timelines.push(J),j}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,T,P,j,J,pe){let ge=[];if(j&&ge.push(this.element),m.length>0){m=(m=m.replace(zi,"."+this._enterClassName)).replace(na,"."+this._leaveClassName);let Je=this._driver.query(this.element,m,1!=P);0!==P&&(Je=P<0?Je.slice(Je.length+P,Je.length):Je.slice(0,P)),ge.push(...Je)}return!J&&0==ge.length&&pe.push(function Zt(B){return new se.vHH(3014,!1)}()),ge}}class eo{constructor(m,T,P,j){this._driver=m,this.element=T,this.startTime=P,this._elementTimelineStylesLookup=j,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(T),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(T,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const T=1===this._keyframes.size&&this._pendingStyles.size;this.duration||T?(this.forwardTime(this.currentTime+m),T&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,T){return this.applyStylesToKeyframe(),new eo(this._driver,m,T||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,T){this._localTimelineStyles.set(m,T),this._globalTimelineStyles.set(m,T),this._styleSummary.set(m,{time:this.currentTime,value:T})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&this._previousKeyframe.set("easing",m);for(let[T,P]of this._globalTimelineStyles)this._backFill.set(T,P||Me.l3),this._currentKeyframe.set(T,Me.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,T,P,j){T&&this._previousKeyframe.set("easing",T);const J=j&&j.params||{},pe=function vo(B,m){const T=new Map;let P;return B.forEach(j=>{if("*"===j){P=P||m.keys();for(let J of P)T.set(J,Me.l3)}else W(j,T)}),T}(m,this._globalTimelineStyles);for(let[ge,xe]of pe){const Je=Lt(xe,J,P);this._pendingStyles.set(ge,Je),this._localTimelineStyles.has(ge)||this._backFill.set(ge,this._globalTimelineStyles.get(ge)??Me.l3),this._updateStyle(ge,Je)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((m,T)=>{this._currentKeyframe.set(T,m)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((m,T)=>{this._currentKeyframe.has(T)||this._currentKeyframe.set(T,m)}))}snapshotCurrentStyles(){for(let[m,T]of this._localTimelineStyles)this._pendingStyles.set(m,T),this._updateStyle(m,T)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let T in this._currentKeyframe)m.push(T);return m}mergeTimelineCollectedStyles(m){m._styleSummary.forEach((T,P)=>{const j=this._styleSummary.get(P);(!j||T.time>j.time)&&this._updateStyle(P,T.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,T=new Set,P=1===this._keyframes.size&&0===this.duration;let j=[];this._keyframes.forEach((ge,xe)=>{const Je=W(ge,new Map,this._backFill);Je.forEach((Et,xt)=>{Et===Me.k1?m.add(xt):Et===Me.l3&&T.add(xt)}),P||Je.set("offset",xe/this.duration),j.push(Je)});const J=m.size?rn(m.values()):[],pe=T.size?rn(T.values()):[];if(P){const ge=j[0],xe=new Map(ge);ge.set("offset",0),xe.set("offset",1),j=[ge,xe]}return js(this.element,j,J,pe,this.duration,this.startTime,this.easing,!1)}}class zs extends eo{constructor(m,T,P,j,J,pe,ge=!1){super(m,T,pe.delay),this.keyframes=P,this.preStyleProps=j,this.postStyleProps=J,this._stretchStartingKeyframe=ge,this.timings={duration:pe.duration,delay:pe.delay,easing:pe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:T,duration:P,easing:j}=this.timings;if(this._stretchStartingKeyframe&&T){const J=[],pe=P+T,ge=T/pe,xe=W(m[0]);xe.set("offset",0),J.push(xe);const Je=W(m[0]);Je.set("offset",to(ge)),J.push(Je);const Et=m.length-1;for(let xt=1;xt<=Et;xt++){let Mn=W(m[xt]);const Yt=Mn.get("offset");Mn.set("offset",to((T+Yt*P)/pe)),J.push(Mn)}P=pe,T=0,j="",m=J}return js(this.element,m,this.preStyleProps,this.postStyleProps,P,T,j,!0)}}function to(B,m=3){const T=Math.pow(10,m-1);return Math.round(B*T)/T}class es{}const gn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Lr extends es{normalizePropertyName(m,T){return Qt(m)}normalizeStyleValue(m,T,P,j){let J="";const pe=P.toString().trim();if(gn.has(T)&&0!==P&&"0"!==P)if("number"==typeof P)J="px";else{const ge=P.match(/^[+-]?[\d\.]+([a-z]*)$/);ge&&0==ge[1].length&&j.push(function Qe(B,m){return new se.vHH(3005,!1)}())}return pe+J}}function fr(B,m,T,P,j,J,pe,ge,xe,Je,Et,xt,Mn){return{type:0,element:B,triggerName:m,isRemovalTransition:j,fromState:T,fromStyles:J,toState:P,toStyles:pe,timelines:ge,queriedElements:xe,preStyleProps:Je,postStyleProps:Et,totalTime:xt,errors:Mn}}const Fi={};class ei{constructor(m,T,P){this._triggerName=m,this.ast=T,this._stateStyles=P}match(m,T,P,j){return function Po(B,m,T,P,j){return B.some(J=>J(m,T,P,j))}(this.ast.matchers,m,T,P,j)}buildStyles(m,T,P){let j=this._stateStyles.get("*");return void 0!==m&&(j=this._stateStyles.get(m?.toString())||j),j?j.buildStyles(T,P):new Map}build(m,T,P,j,J,pe,ge,xe,Je,Et){const xt=[],Mn=this.ast.options&&this.ast.options.params||Fi,Kt=this.buildStyles(P,ge&&ge.params||Fi,xt),Ot=xe&&xe.params||Fi,Rr=this.buildStyles(j,Ot,xt),Ai=new Set,Tr=new Map,Qi=new Map,Yr="void"===j,po={params:di(Ot,Mn),delay:this.ast.options?.delay},Ds=Et?[]:Ei(m,T,this.ast.animation,J,pe,Kt,Rr,po,Je,xt);let ii=0;if(Ds.forEach(si=>{ii=Math.max(si.duration+si.delay,ii)}),xt.length)return fr(T,this._triggerName,P,j,Yr,Kt,Rr,[],[],Tr,Qi,ii,xt);Ds.forEach(si=>{const Pr=si.element,To=mn(Tr,Pr,new Set);si.preStyleProps.forEach(D=>To.add(D));const oo=mn(Qi,Pr,new Set);si.postStyleProps.forEach(D=>oo.add(D)),Pr!==T&&Ai.add(Pr)});const Yi=rn(Ai.values());return fr(T,this._triggerName,P,j,Yr,Kt,Rr,Ds,Yi,Tr,Qi,ii)}}function di(B,m){const T=un(m);for(const P in B)B.hasOwnProperty(P)&&null!=B[P]&&(T[P]=B[P]);return T}class Gi{constructor(m,T,P){this.styles=m,this.defaultParams=T,this.normalizer=P}buildStyles(m,T){const P=new Map,j=un(this.defaultParams);return Object.keys(m).forEach(J=>{const pe=m[J];null!==pe&&(j[J]=pe)}),this.styles.styles.forEach(J=>{"string"!=typeof J&&J.forEach((pe,ge)=>{pe&&(pe=Lt(pe,j,T));const xe=this.normalizer.normalizePropertyName(ge,T);pe=this.normalizer.normalizeStyleValue(ge,xe,pe,T),P.set(ge,pe)})}),P}}class Kn{constructor(m,T,P){this.name=m,this.ast=T,this._normalizer=P,this.transitionFactories=[],this.states=new Map,T.states.forEach(j=>{this.states.set(j.name,new Gi(j.style,j.options&&j.options.params||{},P))}),Nt(this.states,"true","1"),Nt(this.states,"false","0"),T.transitions.forEach(j=>{this.transitionFactories.push(new ei(m,j,this.states))}),this.fallbackTransition=function Ct(B,m,T){return new ei(B,{type:1,animation:{type:2,steps:[],options:null},matchers:[(pe,ge)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,T,P,j){return this.transitionFactories.find(pe=>pe.match(m,T,P,j))||null}matchStyles(m,T,P){return this.fallbackTransition.buildStyles(m,T,P)}}function Nt(B,m,T){B.has(m)?B.has(T)||B.set(T,B.get(m)):B.has(T)&&B.set(m,B.get(T))}const er=new mo;class Br{constructor(m,T,P){this.bodyNode=m,this._driver=T,this._normalizer=P,this._animations=new Map,this._playersById=new Map,this.players=[]}register(m,T){const P=[],J=ho(this._driver,T,P,[]);if(P.length)throw function Rt(B){return new se.vHH(3503,!1)}();this._animations.set(m,J)}_buildPlayer(m,T,P){const j=m.element,J=Tn(this._normalizer,m.keyframes,T,P);return this._driver.animate(j,J,m.duration,m.delay,m.easing,[],!0)}create(m,T,P={}){const j=[],J=this._animations.get(m);let pe;const ge=new Map;if(J?(pe=Ei(this._driver,T,J,pn,_i,new Map,new Map,P,er,j),pe.forEach(Et=>{const xt=mn(ge,Et.element,new Map);Et.postStyleProps.forEach(Mn=>xt.set(Mn,null))})):(j.push(function Re(){return new se.vHH(3300,!1)}()),pe=[]),j.length)throw function Fe(B){return new se.vHH(3504,!1)}();ge.forEach((Et,xt)=>{Et.forEach((Mn,Yt)=>{Et.set(Yt,this._driver.computeStyle(xt,Yt,Me.l3))})});const Je=jt(pe.map(Et=>{const xt=ge.get(Et.element);return this._buildPlayer(Et,new Map,xt)}));return this._playersById.set(m,Je),Je.onDestroy(()=>this.destroy(m)),this.players.push(Je),Je}destroy(m){const T=this._getPlayer(m);T.destroy(),this._playersById.delete(m);const P=this.players.indexOf(T);P>=0&&this.players.splice(P,1)}_getPlayer(m){const T=this._playersById.get(m);if(!T)throw function Ve(B){return new se.vHH(3301,!1)}();return T}listen(m,T,P,j){const J=Un(T,"","","");return dn(this._getPlayer(m),P,J,j),()=>{}}command(m,T,P,j){if("register"==P)return void this.register(m,j[0]);if("create"==P)return void this.create(m,T,j[0]||{});const J=this._getPlayer(m);switch(P){case"play":J.play();break;case"pause":J.pause();break;case"reset":J.reset();break;case"restart":J.restart();break;case"finish":J.finish();break;case"init":J.init();break;case"setPosition":J.setPosition(parseFloat(j[0]));break;case"destroy":this.destroy(m)}}}const ws="ng-animate-queued",Gs="ng-animate-disabled",on=[],cs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Wi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pr="__ng_removed";class vr{get params(){return this.options.params}constructor(m,T=""){this.namespaceId=T;const P=m&&m.hasOwnProperty("value");if(this.value=function io(B){return B??null}(P?m.value:m),P){const J=un(m);delete J.value,this.options=J}else this.options={};this.options.params||(this.options.params={})}absorbOptions(m){const T=m.params;if(T){const P=this.options.params;Object.keys(T).forEach(j=>{null==P[j]&&(P[j]=T[j])})}}}const xs="void",hi=new vr(xs);class ls{constructor(m,T,P){this.id=m,this.hostElement=T,this._engine=P,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+m,Ii(T,this._hostClassName)}listen(m,T,P,j){if(!this._triggers.has(T))throw function he(B,m){return new se.vHH(3302,!1)}();if(null==P||0==P.length)throw function je(B){return new se.vHH(3303,!1)}();if(!function Io(B){return"start"==B||"done"==B}(P))throw function de(B,m){return new se.vHH(3400,!1)}();const J=mn(this._elementListeners,m,[]),pe={name:T,phase:P,callback:j};J.push(pe);const ge=mn(this._engine.statesByElement,m,new Map);return ge.has(T)||(Ii(m,Wr),Ii(m,Wr+"-"+T),ge.set(T,hi)),()=>{this._engine.afterFlush(()=>{const xe=J.indexOf(pe);xe>=0&&J.splice(xe,1),this._triggers.has(T)||ge.delete(T)})}}register(m,T){return!this._triggers.has(m)&&(this._triggers.set(m,T),!0)}_getTrigger(m){const T=this._triggers.get(m);if(!T)throw function Ce(B){return new se.vHH(3401,!1)}();return T}trigger(m,T,P,j=!0){const J=this._getTrigger(T),pe=new Eo(this.id,T,m);let ge=this._engine.statesByElement.get(m);ge||(Ii(m,Wr),Ii(m,Wr+"-"+T),this._engine.statesByElement.set(m,ge=new Map));let xe=ge.get(T);const Je=new vr(P,this.id);if(!(P&&P.hasOwnProperty("value"))&&xe&&Je.absorbOptions(xe.options),ge.set(T,Je),xe||(xe=hi),Je.value!==xs&&xe.value===Je.value){if(!function Er(B,m){const T=Object.keys(B),P=Object.keys(m);if(T.length!=P.length)return!1;for(let j=0;j<T.length;j++){const J=T[j];if(!m.hasOwnProperty(J)||B[J]!==m[J])return!1}return!0}(xe.params,Je.params)){const Ot=[],Rr=J.matchStyles(xe.value,xe.params,Ot),Ai=J.matchStyles(Je.value,Je.params,Ot);Ot.length?this._engine.reportError(Ot):this._engine.afterFlush(()=>{G(m,Rr),Q(m,Ai)})}return}const Mn=mn(this._engine.playersByElement,m,[]);Mn.forEach(Ot=>{Ot.namespaceId==this.id&&Ot.triggerName==T&&Ot.queued&&Ot.destroy()});let Yt=J.matchTransition(xe.value,Je.value,m,Je.params),Kt=!1;if(!Yt){if(!j)return;Yt=J.fallbackTransition,Kt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:T,transition:Yt,fromState:xe,toState:Je,player:pe,isFallbackTransition:Kt}),Kt||(Ii(m,ws),pe.onStart(()=>{fi(m,ws)})),pe.onDone(()=>{let Ot=this.players.indexOf(pe);Ot>=0&&this.players.splice(Ot,1);const Rr=this._engine.playersByElement.get(m);if(Rr){let Ai=Rr.indexOf(pe);Ai>=0&&Rr.splice(Ai,1)}}),this.players.push(pe),Mn.push(pe),pe}deregister(m){this._triggers.delete(m),this._engine.statesByElement.forEach(T=>T.delete(m)),this._elementListeners.forEach((T,P)=>{this._elementListeners.set(P,T.filter(j=>j.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const T=this._engine.playersByElement.get(m);T&&(T.forEach(P=>P.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,T){const P=this._engine.driver.query(m,Hi,!0);P.forEach(j=>{if(j[pr])return;const J=this._engine.fetchNamespacesByElement(j);J.size?J.forEach(pe=>pe.triggerLeaveAnimation(j,T,!1,!0)):this.clearElementCache(j)}),this._engine.afterFlushAnimationsDone(()=>P.forEach(j=>this.clearElementCache(j)))}triggerLeaveAnimation(m,T,P,j){const J=this._engine.statesByElement.get(m),pe=new Map;if(J){const ge=[];if(J.forEach((xe,Je)=>{if(pe.set(Je,xe.value),this._triggers.has(Je)){const Et=this.trigger(m,Je,xs,j);Et&&ge.push(Et)}}),ge.length)return this._engine.markElementAsRemoved(this.id,m,!0,T,pe),P&&jt(ge).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const T=this._elementListeners.get(m),P=this._engine.statesByElement.get(m);if(T&&P){const j=new Set;T.forEach(J=>{const pe=J.name;if(j.has(pe))return;j.add(pe);const xe=this._triggers.get(pe).fallbackTransition,Je=P.get(pe)||hi,Et=new vr(xs),xt=new Eo(this.id,pe,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:pe,transition:xe,fromState:Je,toState:Et,player:xt,isFallbackTransition:!0})})}}removeNode(m,T){const P=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,T),this.triggerLeaveAnimation(m,T,!0))return;let j=!1;if(P.totalAnimations){const J=P.players.length?P.playersByQueriedElement.get(m):[];if(J&&J.length)j=!0;else{let pe=m;for(;pe=pe.parentNode;)if(P.statesByElement.get(pe)){j=!0;break}}}if(this.prepareLeaveAnimationListeners(m),j)P.markElementAsRemoved(this.id,m,!1,T);else{const J=m[pr];(!J||J===cs)&&(P.afterFlush(()=>this.clearElementCache(m)),P.destroyInnerAnimations(m),P._onRemovalComplete(m,T))}}insertNode(m,T){Ii(m,this._hostClassName)}drainQueuedTransitions(m){const T=[];return this._queue.forEach(P=>{const j=P.player;if(j.destroyed)return;const J=P.element,pe=this._elementListeners.get(J);pe&&pe.forEach(ge=>{if(ge.name==P.triggerName){const xe=Un(J,P.triggerName,P.fromState.value,P.toState.value);xe._data=m,dn(P.player,ge.phase,xe,ge.callback)}}),j.markedForDestroy?this._engine.afterFlush(()=>{j.destroy()}):T.push(P)}),this._queue=[],T.sort((P,j)=>{const J=P.transition.ast.depCount,pe=j.transition.ast.depCount;return 0==J||0==pe?J-pe:this._engine.driver.containsElement(P.element,j.element)?1:-1})}destroy(m){this.players.forEach(T=>T.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}}class ds{_onRemovalComplete(m,T){this.onRemovalComplete(m,T)}constructor(m,T,P){this.bodyNode=m,this.driver=T,this._normalizer=P,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(j,J)=>{}}get queuedPlayers(){const m=[];return this._namespaceList.forEach(T=>{T.players.forEach(P=>{P.queued&&m.push(P)})}),m}createNamespace(m,T){const P=new ls(m,T,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,T)?this._balanceNamespaceList(P,T):(this.newHostElements.set(T,P),this.collectEnterElement(T)),this._namespaceLookup[m]=P}_balanceNamespaceList(m,T){const P=this._namespaceList,j=this.namespacesByHostElement;if(P.length-1>=0){let pe=!1,ge=this.driver.getParentElement(T);for(;ge;){const xe=j.get(ge);if(xe){const Je=P.indexOf(xe);P.splice(Je+1,0,m),pe=!0;break}ge=this.driver.getParentElement(ge)}pe||P.unshift(m)}else P.push(m);return j.set(T,m),m}register(m,T){let P=this._namespaceLookup[m];return P||(P=this.createNamespace(m,T)),P}registerTrigger(m,T,P){let j=this._namespaceLookup[m];j&&j.register(T,P)&&this.totalAnimations++}destroy(m,T){m&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const P=this._fetchNamespace(m);this.namespacesByHostElement.delete(P.hostElement);const j=this._namespaceList.indexOf(P);j>=0&&this._namespaceList.splice(j,1),P.destroy(T),delete this._namespaceLookup[m]}))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const T=new Set,P=this.statesByElement.get(m);if(P)for(let j of P.values())if(j.namespaceId){const J=this._fetchNamespace(j.namespaceId);J&&T.add(J)}return T}trigger(m,T,P,j){if(Vi(T)){const J=this._fetchNamespace(m);if(J)return J.trigger(T,P,j),!0}return!1}insertNode(m,T,P,j){if(!Vi(T))return;const J=T[pr];if(J&&J.setForRemoval){J.setForRemoval=!1,J.setForMove=!0;const pe=this.collectedLeaveElements.indexOf(T);pe>=0&&this.collectedLeaveElements.splice(pe,1)}if(m){const pe=this._fetchNamespace(m);pe&&pe.insertNode(T,P)}j&&this.collectEnterElement(T)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,T){T?this.disabledNodes.has(m)||(this.disabledNodes.add(m),Ii(m,Gs)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),fi(m,Gs))}removeNode(m,T,P){if(Vi(T)){const j=m?this._fetchNamespace(m):null;j?j.removeNode(T,P):this.markElementAsRemoved(m,T,!1,P);const J=this.namespacesByHostElement.get(T);J&&J.id!==m&&J.removeNode(T,P)}else this._onRemovalComplete(T,P)}markElementAsRemoved(m,T,P,j,J){this.collectedLeaveElements.push(T),T[pr]={namespaceId:m,setForRemoval:j,hasAnimation:P,removedBeforeQueried:!1,previousTriggersValues:J}}listen(m,T,P,j,J){return Vi(T)?this._fetchNamespace(m).listen(T,P,j,J):()=>{}}_buildInstruction(m,T,P,j,J){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,P,j,m.fromState.options,m.toState.options,T,J)}destroyInnerAnimations(m){let T=this.driver.query(m,Hi,!0);T.forEach(P=>this.destroyActiveAnimationsForElement(P)),0!=this.playersByQueriedElement.size&&(T=this.driver.query(m,ci,!0),T.forEach(P=>this.finishActiveQueriedAnimationOnElement(P)))}destroyActiveAnimationsForElement(m){const T=this.playersByElement.get(m);T&&T.forEach(P=>{P.queued?P.markedForDestroy=!0:P.destroy()})}finishActiveQueriedAnimationOnElement(m){const T=this.playersByQueriedElement.get(m);T&&T.forEach(P=>P.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return jt(this.players).onDone(()=>m());m()})}processLeaveNode(m){const T=m[pr];if(T&&T.setForRemoval){if(m[pr]=cs,T.namespaceId){this.destroyInnerAnimations(m);const P=this._fetchNamespace(T.namespaceId);P&&P.clearElementCache(m)}this._onRemovalComplete(m,T.setForRemoval)}m.classList?.contains(Gs)&&this.markElementAsDisabled(m,!1),this.driver.query(m,".ng-animate-disabled",!0).forEach(P=>{this.markElementAsDisabled(P,!1)})}flush(m=-1){let T=[];if(this.newHostElements.size&&(this.newHostElements.forEach((P,j)=>this._balanceNamespaceList(P,j)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let P=0;P<this.collectedEnterElements.length;P++)Ii(this.collectedEnterElements[P],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const P=[];try{T=this._flushAnimations(P,m)}finally{for(let j=0;j<P.length;j++)P[j]()}}else for(let P=0;P<this.collectedLeaveElements.length;P++)this.processLeaveNode(this.collectedLeaveElements[P]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(P=>P()),this._flushFns=[],this._whenQuietFns.length){const P=this._whenQuietFns;this._whenQuietFns=[],T.length?jt(T).onDone(()=>{P.forEach(j=>j())}):P.forEach(j=>j())}}reportError(m){throw function Se(B){return new se.vHH(3402,!1)}()}_flushAnimations(m,T){const P=new mo,j=[],J=new Map,pe=[],ge=new Map,xe=new Map,Je=new Map,Et=new Set;this.disabledNodes.forEach(N=>{Et.add(N);const te=this.driver.query(N,".ng-animate-queued",!0);for(let Te=0;Te<te.length;Te++)Et.add(te[Te])});const xt=this.bodyNode,Mn=Array.from(this.statesByElement.keys()),Yt=Ls(Mn,this.collectedEnterElements),Kt=new Map;let Ot=0;Yt.forEach((N,te)=>{const Te=pn+Ot++;Kt.set(te,Te),N.forEach(He=>Ii(He,Te))});const Rr=[],Ai=new Set,Tr=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){const te=this.collectedLeaveElements[N],Te=te[pr];Te&&Te.setForRemoval&&(Rr.push(te),Ai.add(te),Te.hasAnimation?this.driver.query(te,".ng-star-inserted",!0).forEach(He=>Ai.add(He)):Tr.add(te))}const Qi=new Map,Yr=Ls(Mn,Array.from(Ai));Yr.forEach((N,te)=>{const Te=_i+Ot++;Qi.set(te,Te),N.forEach(He=>Ii(He,Te))}),m.push(()=>{Yt.forEach((N,te)=>{const Te=Kt.get(te);N.forEach(He=>fi(He,Te))}),Yr.forEach((N,te)=>{const Te=Qi.get(te);N.forEach(He=>fi(He,Te))}),Rr.forEach(N=>{this.processLeaveNode(N)})});const po=[],Ds=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(T).forEach(Te=>{const He=Te.player,_t=Te.element;if(po.push(He),this.collectedEnterElements.length){const Fn=_t[pr];if(Fn&&Fn.setForMove){if(Fn.previousTriggersValues&&Fn.previousTriggersValues.has(Te.triggerName)){const Zr=Fn.previousTriggersValues.get(Te.triggerName),jn=this.statesByElement.get(Te.element);if(jn&&jn.has(Te.triggerName)){const ts=jn.get(Te.triggerName);ts.value=Zr,jn.set(Te.triggerName,ts)}}return void He.destroy()}}const Ln=!xt||!this.driver.containsElement(xt,_t),Sn=Qi.get(_t),$n=Kt.get(_t),Gt=this._buildInstruction(Te,P,$n,Sn,Ln);if(Gt.errors&&Gt.errors.length)return void Ds.push(Gt);if(Ln)return He.onStart(()=>G(_t,Gt.fromStyles)),He.onDestroy(()=>Q(_t,Gt.toStyles)),void j.push(He);if(Te.isFallbackTransition)return He.onStart(()=>G(_t,Gt.fromStyles)),He.onDestroy(()=>Q(_t,Gt.toStyles)),void j.push(He);const xr=[];Gt.timelines.forEach(Fn=>{Fn.stretchStartingKeyframe=!0,this.disabledNodes.has(Fn.element)||xr.push(Fn)}),Gt.timelines=xr,P.append(_t,Gt.timelines),pe.push({instruction:Gt,player:He,element:_t}),Gt.queriedElements.forEach(Fn=>mn(ge,Fn,[]).push(He)),Gt.preStyleProps.forEach((Fn,Zr)=>{if(Fn.size){let jn=xe.get(Zr);jn||xe.set(Zr,jn=new Set),Fn.forEach((ts,Dr)=>jn.add(Dr))}}),Gt.postStyleProps.forEach((Fn,Zr)=>{let jn=Je.get(Zr);jn||Je.set(Zr,jn=new Set),Fn.forEach((ts,Dr)=>jn.add(Dr))})});if(Ds.length){const N=[];Ds.forEach(te=>{N.push(function $t(B,m){return new se.vHH(3505,!1)}())}),po.forEach(te=>te.destroy()),this.reportError(N)}const ii=new Map,Yi=new Map;pe.forEach(N=>{const te=N.element;P.has(te)&&(Yi.set(te,te),this._beforeAnimationBuild(N.player.namespaceId,N.instruction,ii))}),j.forEach(N=>{const te=N.element;this._getPreviousPlayers(te,!1,N.namespaceId,N.triggerName,null).forEach(He=>{mn(ii,te,[]).push(He),He.destroy()})});const si=Rr.filter(N=>ia(N,xe,Je)),Pr=new Map;$o(Pr,this.driver,Tr,Je,Me.l3).forEach(N=>{ia(N,xe,Je)&&si.push(N)});const oo=new Map;Yt.forEach((N,te)=>{$o(oo,this.driver,new Set(N),xe,Me.k1)}),si.forEach(N=>{const te=Pr.get(N),Te=oo.get(N);Pr.set(N,new Map([...te?.entries()??[],...Te?.entries()??[]]))});const D=[],$=[],M={};pe.forEach(N=>{const{element:te,player:Te,instruction:He}=N;if(P.has(te)){if(Et.has(te))return Te.onDestroy(()=>Q(te,He.toStyles)),Te.disabled=!0,Te.overrideTotalTime(He.totalTime),void j.push(Te);let _t=M;if(Yi.size>1){let Sn=te;const $n=[];for(;Sn=Sn.parentNode;){const Gt=Yi.get(Sn);if(Gt){_t=Gt;break}$n.push(Sn)}$n.forEach(Gt=>Yi.set(Gt,_t))}const Ln=this._buildAnimation(Te.namespaceId,He,ii,J,oo,Pr);if(Te.setRealPlayer(Ln),_t===M)D.push(Te);else{const Sn=this.playersByElement.get(_t);Sn&&Sn.length&&(Te.parentPlayer=jt(Sn)),j.push(Te)}}else G(te,He.fromStyles),Te.onDestroy(()=>Q(te,He.toStyles)),$.push(Te),Et.has(te)&&j.push(Te)}),$.forEach(N=>{const te=J.get(N.element);if(te&&te.length){const Te=jt(te);N.setRealPlayer(Te)}}),j.forEach(N=>{N.parentPlayer?N.syncPlayerEvents(N.parentPlayer):N.destroy()});for(let N=0;N<Rr.length;N++){const te=Rr[N],Te=te[pr];if(fi(te,_i),Te&&Te.hasAnimation)continue;let He=[];if(ge.size){let Ln=ge.get(te);Ln&&Ln.length&&He.push(...Ln);let Sn=this.driver.query(te,ci,!0);for(let $n=0;$n<Sn.length;$n++){let Gt=ge.get(Sn[$n]);Gt&&Gt.length&&He.push(...Gt)}}const _t=He.filter(Ln=>!Ln.destroyed);_t.length?Ti(this,te,_t):this.processLeaveNode(te)}return Rr.length=0,D.forEach(N=>{this.players.push(N),N.onDone(()=>{N.destroy();const te=this.players.indexOf(N);this.players.splice(te,1)}),N.play()}),D}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,T,P,j,J){let pe=[];if(T){const ge=this.playersByQueriedElement.get(m);ge&&(pe=ge)}else{const ge=this.playersByElement.get(m);if(ge){const xe=!J||J==xs;ge.forEach(Je=>{Je.queued||!xe&&Je.triggerName!=j||pe.push(Je)})}}return(P||j)&&(pe=pe.filter(ge=>!(P&&P!=ge.namespaceId||j&&j!=ge.triggerName))),pe}_beforeAnimationBuild(m,T,P){const J=T.element,pe=T.isRemovalTransition?void 0:m,ge=T.isRemovalTransition?void 0:T.triggerName;for(const xe of T.timelines){const Je=xe.element,Et=Je!==J,xt=mn(P,Je,[]);this._getPreviousPlayers(Je,Et,pe,ge,T.toState).forEach(Yt=>{const Kt=Yt.getRealPlayer();Kt.beforeDestroy&&Kt.beforeDestroy(),Yt.destroy(),xt.push(Yt)})}G(J,T.fromStyles)}_buildAnimation(m,T,P,j,J,pe){const ge=T.triggerName,xe=T.element,Je=[],Et=new Set,xt=new Set,Mn=T.timelines.map(Kt=>{const Ot=Kt.element;Et.add(Ot);const Rr=Ot[pr];if(Rr&&Rr.removedBeforeQueried)return new Me.ZN(Kt.duration,Kt.delay);const Ai=Ot!==xe,Tr=function Mo(B){const m=[];return qi(B,m),m}((P.get(Ot)||on).map(ii=>ii.getRealPlayer())).filter(ii=>!!ii.element&&ii.element===Ot),Qi=J.get(Ot),Yr=pe.get(Ot),po=Tn(this._normalizer,Kt.keyframes,Qi,Yr),Ds=this._buildPlayer(Kt,po,Tr);if(Kt.subTimeline&&j&&xt.add(Ot),Ai){const ii=new Eo(m,ge,Ot);ii.setRealPlayer(Ds),Je.push(ii)}return Ds});Je.forEach(Kt=>{mn(this.playersByQueriedElement,Kt.element,[]).push(Kt),Kt.onDone(()=>function ks(B,m,T){let P=B.get(m);if(P){if(P.length){const j=P.indexOf(T);P.splice(j,1)}0==P.length&&B.delete(m)}return P}(this.playersByQueriedElement,Kt.element,Kt))}),Et.forEach(Kt=>Ii(Kt,qn));const Yt=jt(Mn);return Yt.onDestroy(()=>{Et.forEach(Kt=>fi(Kt,qn)),Q(xe,T.toStyles)}),xt.forEach(Kt=>{mn(j,Kt,[]).push(Yt)}),Yt}_buildPlayer(m,T,P){return T.length>0?this.driver.animate(m.element,T,m.duration,m.delay,m.easing,P):new Me.ZN(m.duration,m.delay)}}class Eo{constructor(m,T,P){this.namespaceId=m,this.triggerName=T,this.element=P,this._player=new Me.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(m){this._containsRealPlayer||(this._player=m,this._queuedCallbacks.forEach((T,P)=>{T.forEach(j=>dn(m,P,void 0,j))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const T=this._player;T.triggerCallback&&m.onStart(()=>T.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,T){mn(this._queuedCallbacks,m,[]).push(T)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const T=this._player;T.triggerCallback&&T.triggerCallback(m)}}function Vi(B){return B&&1===B.nodeType}function Cn(B,m){const T=B.style.display;return B.style.display=m??"none",T}function $o(B,m,T,P,j){const J=[];T.forEach(xe=>J.push(Cn(xe)));const pe=[];P.forEach((xe,Je)=>{const Et=new Map;xe.forEach(xt=>{const Mn=m.computeStyle(Je,xt,j);Et.set(xt,Mn),(!Mn||0==Mn.length)&&(Je[pr]=Wi,pe.push(Je))}),B.set(Je,Et)});let ge=0;return T.forEach(xe=>Cn(xe,J[ge++])),pe}function Ls(B,m){const T=new Map;if(B.forEach(ge=>T.set(ge,[])),0==m.length)return T;const j=new Set(m),J=new Map;function pe(ge){if(!ge)return 1;let xe=J.get(ge);if(xe)return xe;const Je=ge.parentNode;return xe=T.has(Je)?Je:j.has(Je)?1:pe(Je),J.set(ge,xe),xe}return m.forEach(ge=>{const xe=pe(ge);1!==xe&&T.get(xe).push(ge)}),T}function Ii(B,m){B.classList?.add(m)}function fi(B,m){B.classList?.remove(m)}function Ti(B,m,T){jt(T).onDone(()=>B.processLeaveNode(m))}function qi(B,m){for(let T=0;T<B.length;T++){const P=B[T];P instanceof Me.ZE?qi(P.players,m):m.push(P)}}function ia(B,m,T){const P=T.get(B);if(!P)return!1;let j=m.get(B);return j?P.forEach(J=>j.add(J)):m.set(B,P),T.delete(B),!0}class Fr{constructor(m,T,P){this.bodyNode=m,this._driver=T,this._normalizer=P,this._triggerCache={},this.onRemovalComplete=(j,J)=>{},this._transitionEngine=new ds(m,T,P),this._timelineEngine=new Br(m,T,P),this._transitionEngine.onRemovalComplete=(j,J)=>this.onRemovalComplete(j,J)}registerTrigger(m,T,P,j,J){const pe=m+"-"+j;let ge=this._triggerCache[pe];if(!ge){const xe=[],Et=ho(this._driver,J,xe,[]);if(xe.length)throw function vt(B,m){return new se.vHH(3404,!1)}();ge=function Ns(B,m,T){return new Kn(B,m,T)}(j,Et,this._normalizer),this._triggerCache[pe]=ge}this._transitionEngine.registerTrigger(T,j,ge)}register(m,T){this._transitionEngine.register(m,T)}destroy(m,T){this._transitionEngine.destroy(m,T)}onInsert(m,T,P,j){this._transitionEngine.insertNode(m,T,P,j)}onRemove(m,T,P){this._transitionEngine.removeNode(m,T,P)}disableAnimations(m,T){this._transitionEngine.markElementAsDisabled(m,T)}process(m,T,P,j){if("@"==P.charAt(0)){const[J,pe]=kr(P);this._timelineEngine.command(J,T,pe,j)}else this._transitionEngine.trigger(m,T,P,j)}listen(m,T,P,j,J){if("@"==P.charAt(0)){const[pe,ge]=kr(P);return this._timelineEngine.listen(pe,T,ge,J)}return this._transitionEngine.listen(m,T,P,j,J)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(m){this._transitionEngine.afterFlushAnimationsDone(m)}}let Ws=(()=>{class B{static#e=this.initialStylesByElement=new WeakMap;constructor(T,P,j){this._element=T,this._startStyles=P,this._endStyles=j,this._state=0;let J=B.initialStylesByElement.get(T);J||B.initialStylesByElement.set(T,J=new Map),this._initialStyles=J}start(){this._state<1&&(this._startStyles&&Q(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Q(this._element,this._initialStyles),this._endStyles&&(Q(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(B.initialStylesByElement.delete(this._element),this._startStyles&&(G(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(G(this._element,this._endStyles),this._endStyles=null),Q(this._element,this._initialStyles),this._state=3)}}return B})();function hs(B){let m=null;return B.forEach((T,P)=>{(function sa(B){return"display"===B||"position"===B})(P)&&(m=m||new Map,m.set(P,T))}),m}class Dn{constructor(m,T,P,j){this.element=m,this.keyframes=T,this.options=P,this._specialStyles=j,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=P.duration,this._delay=P.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const m=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,m,this.options),this._finalKeyframe=m.length?m[m.length-1]:new Map;const T=()=>this._onFinish();this.domPlayer.addEventListener("finish",T),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",T)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(m){const T=[];return m.forEach(P=>{T.push(Object.fromEntries(P))}),T}_triggerWebAnimation(m,T,P){return m.animate(this._convertKeyframesToObject(T),P)}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(m=>m()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=m*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m=new Map;this.hasStarted()&&this._finalKeyframe.forEach((P,j)=>{"offset"!==j&&m.set(j,this._finished?P:qe(this.element,j))}),this.currentSnapshot=m}triggerCallback(m){const T="start"===m?this._onStartFns:this._onDoneFns;T.forEach(P=>P()),T.length=0}}class qs{validateStyleProperty(m){return!0}validateAnimatableStyleProperty(m){return!0}matchesElement(m,T){return!1}containsElement(m,T){return Xn(m,T)}getParentElement(m){return yr(m)}query(m,T,P){return Ri(m,T,P)}computeStyle(m,T,P){return window.getComputedStyle(m)[T]}animate(m,T,P,j,J,pe=[]){const xe={duration:P,delay:j,fill:0==j?"both":"forwards"};J&&(xe.easing=J);const Je=new Map,Et=pe.filter(Yt=>Yt instanceof Dn);(function qr(B,m){return 0===B||0===m})(P,j)&&Et.forEach(Yt=>{Yt.currentSnapshot.forEach((Kt,Ot)=>Je.set(Ot,Kt))});let xt=function Li(B){return B.length?B[0]instanceof Map?B:B.map(m=>li(m)):[]}(T).map(Yt=>W(Yt));xt=function Kr(B,m,T){if(T.size&&m.length){let P=m[0],j=[];if(T.forEach((J,pe)=>{P.has(pe)||j.push(pe),P.set(pe,J)}),j.length)for(let J=1;J<m.length;J++){let pe=m[J];j.forEach(ge=>pe.set(ge,qe(B,ge)))}}return m}(m,xt,Je);const Mn=function wi(B,m){let T=null,P=null;return Array.isArray(m)&&m.length?(T=hs(m[0]),m.length>1&&(P=hs(m[m.length-1]))):m instanceof Map&&(T=hs(m)),T||P?new Ws(B,T,P):null}(m,xt);return new Dn(m,xt,xe,Mn)}}var No=U(6814);let wu=(()=>{class B extends Me._j{constructor(T,P){super(),this._nextAnimationId=0,this._renderer=T.createRenderer(P.body,{id:"0",encapsulation:se.ifc.None,styles:[],data:{animation:[]}})}build(T){const P=this._nextAnimationId.toString();this._nextAnimationId++;const j=Array.isArray(T)?(0,Me.vP)(T):T;return Ki(this._renderer,null,P,"register",[j]),new Oo(P,this._renderer)}static#e=this.\u0275fac=function(P){return new(P||B)(se.LFG(se.FYo),se.LFG(No.K0))};static#t=this.\u0275prov=se.Yz7({token:B,factory:B.\u0275fac})}return B})();class Oo extends Me.LC{constructor(m,T){super(),this._id=m,this._renderer=T}create(m,T){return new so(this._id,m,T||{},this._renderer)}}class so{constructor(m,T,P,j){this.id=m,this.element=T,this._renderer=j,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",P)}_listen(m,T){return this._renderer.listen(this.element,`@@${this.id}:${m}`,T)}_command(m,...T){return Ki(this._renderer,this.element,this.id,m,T)}onDone(m){this._listen("done",m)}onStart(m){this._listen("start",m)}onDestroy(m){this._listen("destroy",m)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(m){this._command("setPosition",m)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ki(B,m,T,P,j){return B.setProperty(m,`@@${T}:${P}`,j)}const L="@",V="@.disabled";let oe=(()=>{class B{constructor(T,P,j){this.delegate=T,this.engine=P,this._zone=j,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,P.onRemovalComplete=(J,pe)=>{const ge=pe?.parentNode(J);ge&&pe.removeChild(ge,J)}}createRenderer(T,P){const J=this.delegate.createRenderer(T,P);if(!(T&&P&&P.data&&P.data.animation)){let Et=this._rendererCache.get(J);return Et||(Et=new ae("",J,this.engine,()=>this._rendererCache.delete(J)),this._rendererCache.set(J,Et)),Et}const pe=P.id,ge=P.id+"-"+this._currentId;this._currentId++,this.engine.register(ge,T);const xe=Et=>{Array.isArray(Et)?Et.forEach(xe):this.engine.registerTrigger(pe,ge,T,Et.name,Et)};return P.data.animation.forEach(xe),new Pe(this,ge,J,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(T,P,j){T>=0&&T<this._microtaskId?this._zone.run(()=>P(j)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(J=>{const[pe,ge]=J;pe(ge)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([P,j]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(P){return new(P||B)(se.LFG(se.FYo),se.LFG(Fr),se.LFG(se.R0b))};static#t=this.\u0275prov=se.Yz7({token:B,factory:B.\u0275fac})}return B})();class ae{constructor(m,T,P,j){this.namespaceId=m,this.delegate=T,this.engine=P,this._onDestroy=j}get data(){return this.delegate.data}destroyNode(m){this.delegate.destroyNode?.(m)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(m,T){return this.delegate.createElement(m,T)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,T){this.delegate.appendChild(m,T),this.engine.onInsert(this.namespaceId,T,m,!1)}insertBefore(m,T,P,j=!0){this.delegate.insertBefore(m,T,P),this.engine.onInsert(this.namespaceId,T,m,j)}removeChild(m,T,P){this.engine.onRemove(this.namespaceId,T,this.delegate)}selectRootElement(m,T){return this.delegate.selectRootElement(m,T)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,T,P,j){this.delegate.setAttribute(m,T,P,j)}removeAttribute(m,T,P){this.delegate.removeAttribute(m,T,P)}addClass(m,T){this.delegate.addClass(m,T)}removeClass(m,T){this.delegate.removeClass(m,T)}setStyle(m,T,P,j){this.delegate.setStyle(m,T,P,j)}removeStyle(m,T,P){this.delegate.removeStyle(m,T,P)}setProperty(m,T,P){T.charAt(0)==L&&T==V?this.disableAnimations(m,!!P):this.delegate.setProperty(m,T,P)}setValue(m,T){this.delegate.setValue(m,T)}listen(m,T,P){return this.delegate.listen(m,T,P)}disableAnimations(m,T){this.engine.disableAnimations(m,T)}}class Pe extends ae{constructor(m,T,P,j,J){super(T,P,j,J),this.factory=m,this.namespaceId=T}setProperty(m,T,P){T.charAt(0)==L?"."==T.charAt(1)&&T==V?this.disableAnimations(m,P=void 0===P||!!P):this.engine.process(this.namespaceId,m,T.slice(1),P):this.delegate.setProperty(m,T,P)}listen(m,T,P){if(T.charAt(0)==L){const j=function Xe(B){switch(B){case"body":return document.body;case"document":return document;case"window":return window;default:return B}}(m);let J=T.slice(1),pe="";return J.charAt(0)!=L&&([J,pe]=function mt(B){const m=B.indexOf(".");return[B.substring(0,m),B.slice(m+1)]}(J)),this.engine.listen(this.namespaceId,j,J,pe,ge=>{this.factory.scheduleListenerCallback(ge._data||-1,P,ge)})}return this.delegate.listen(m,T,P)}}const kn=[{provide:Me._j,useClass:wu},{provide:es,useFactory:function Vt(){return new Lr}},{provide:Fr,useClass:(()=>{class B extends Fr{constructor(T,P,j,J){super(T.body,P,j)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(P){return new(P||B)(se.LFG(No.K0),se.LFG(tn),se.LFG(es),se.LFG(se.z2F))};static#t=this.\u0275prov=se.Yz7({token:B,factory:B.\u0275fac})}return B})()},{provide:se.FYo,useFactory:function fn(B,m,T){return new oe(B,m,T)},deps:[y.se,Fr,se.R0b]}],gr=[{provide:tn,useFactory:()=>new qs},{provide:se.QbO,useValue:"BrowserAnimations"},...kn],Or=[{provide:tn,useClass:wn},{provide:se.QbO,useValue:"NoopAnimations"},...kn];let br=(()=>{class B{static withConfig(T){return{ngModule:B,providers:T.disableAnimations?Or:gr}}static#e=this.\u0275fac=function(P){return new(P||B)};static#t=this.\u0275mod=se.oAB({type:B});static#n=this.\u0275inj=se.cJS({providers:gr,imports:[y.b2]})}return B})();var ni=U(2425),$r=U(721),Ir=U(3435),ri=U(5349),rr=U(5017);let Bi=(()=>{class B{static#e=this.\u0275fac=function(P){return new(P||B)};static#t=this.\u0275mod=se.oAB({type:B,bootstrap:[Ee]});static#n=this.\u0275inj=se.cJS({imports:[y.b2,X,br,ni.Rh.forRoot(),(0,$r.hX)(()=>(0,$r.ZF)({projectId:"tp2-clinica-9e1f4",appId:"1:660333245538:web:fe4c0f807cc0e563194d3b",storageBucket:"tp2-clinica-9e1f4.appspot.com",apiKey:"AIzaSyAotNKaZl0BmwLKudsjFaMhnApZdnIk8bA",authDomain:"tp2-clinica-9e1f4.firebaseapp.com",messagingSenderId:"660333245538",measurementId:"G-FDV6T4L36V"})),(0,Ir.AR)(()=>(0,Ir.v0)()),(0,ri.Cm)(()=>(0,ri.ad)()),(0,rr.Vq)(()=>(0,rr.cF)())]})}return B})();y.q6().bootstrapModule(Bi).catch(B=>console.error(B))},5619:(bt,Be,U)=>{U.d(Be,{X:()=>re});var y=U(8645);class re extends y.x{constructor(se){super(),this._value=se}get value(){return this.getValue()}_subscribe(se){const Z=super._subscribe(se);return!Z.closed&&se.next(this._value),Z}getValue(){const{hasError:se,thrownError:Z,_value:X}=this;if(se)throw Z;return this._throwIfClosed(),X}next(se){super.next(this._value=se)}}},5592:(bt,Be,U)=>{U.d(Be,{y:()=>Me});var y=U(305),re=U(7394),ve=U(4850),se=U(8407),Z=U(2653),X=U(4674),Ee=U(1441);let Me=(()=>{class De{constructor(Ze){Ze&&(this._subscribe=Ze)}lift(Ze){const Le=new De;return Le.source=this,Le.operator=Ze,Le}subscribe(Ze,Le,Qe){const yt=function ce(De){return De&&De instanceof y.Lv||function ee(De){return De&&(0,X.m)(De.next)&&(0,X.m)(De.error)&&(0,X.m)(De.complete)}(De)&&(0,re.Nn)(De)}(Ze)?Ze:new y.Hp(Ze,Le,Qe);return(0,Ee.x)(()=>{const{operator:At,source:ln}=this;yt.add(At?At.call(yt,ln):ln?this._subscribe(yt):this._trySubscribe(yt))}),yt}_trySubscribe(Ze){try{return this._subscribe(Ze)}catch(Le){Ze.error(Le)}}forEach(Ze,Le){return new(Le=me(Le))((Qe,yt)=>{const At=new y.Hp({next:ln=>{try{Ze(ln)}catch(Mt){yt(Mt),At.unsubscribe()}},error:yt,complete:Qe});this.subscribe(At)})}_subscribe(Ze){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(Ze)}[ve.L](){return this}pipe(...Ze){return(0,se.U)(Ze)(this)}toPromise(Ze){return new(Ze=me(Ze))((Le,Qe)=>{let yt;this.subscribe(At=>yt=At,At=>Qe(At),()=>Le(yt))})}}return De.create=Ae=>new De(Ae),De})();function me(De){var Ae;return null!==(Ae=De??Z.config.Promise)&&void 0!==Ae?Ae:Promise}},8645:(bt,Be,U)=>{U.d(Be,{x:()=>Ee});var y=U(5592),re=U(7394);const se=(0,U(2306).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Z=U(9039),X=U(1441);let Ee=(()=>{class me extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const De=new Me(this,this);return De.operator=ce,De}_throwIfClosed(){if(this.closed)throw new se}next(ce){(0,X.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(ce)}})}error(ce){(0,X.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:De}=this;for(;De.length;)De.shift().error(ce)}})}complete(){(0,X.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:De,isStopped:Ae,observers:Ze}=this;return De||Ae?re.Lc:(this.currentObservers=null,Ze.push(ce),new re.w0(()=>{this.currentObservers=null,(0,Z.P)(Ze,ce)}))}_checkFinalizedStatuses(ce){const{hasError:De,thrownError:Ae,isStopped:Ze}=this;De?ce.error(Ae):Ze&&ce.complete()}asObservable(){const ce=new y.y;return ce.source=this,ce}}return me.create=(ee,ce)=>new Me(ee,ce),me})();class Me extends Ee{constructor(ee,ce){super(),this.destination=ee,this.source=ce}next(ee){var ce,De;null===(De=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===De||De.call(ce,ee)}error(ee){var ce,De;null===(De=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===De||De.call(ce,ee)}complete(){var ee,ce;null===(ce=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===ce||ce.call(ee)}_subscribe(ee){var ce,De;return null!==(De=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(ee))&&void 0!==De?De:re.Lc}}},305:(bt,Be,U)=>{U.d(Be,{Hp:()=>Qe,Lv:()=>De});var y=U(4674),re=U(7394),ve=U(2653),se=U(3894),Z=U(2420);const X=me("C",void 0,void 0);function me(le,We,ye){return{kind:le,value:We,error:ye}}var ee=U(7599),ce=U(1441);class De extends re.w0{constructor(We){super(),this.isStopped=!1,We?(this.destination=We,(0,re.Nn)(We)&&We.add(this)):this.destination=Mt}static create(We,ye,Ye){return new Qe(We,ye,Ye)}next(We){this.isStopped?ln(function Me(le){return me("N",le,void 0)}(We),this):this._next(We)}error(We){this.isStopped?ln(function Ee(le){return me("E",void 0,le)}(We),this):(this.isStopped=!0,this._error(We))}complete(){this.isStopped?ln(X,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(We){this.destination.next(We)}_error(We){try{this.destination.error(We)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ae=Function.prototype.bind;function Ze(le,We){return Ae.call(le,We)}class Le{constructor(We){this.partialObserver=We}next(We){const{partialObserver:ye}=this;if(ye.next)try{ye.next(We)}catch(Ye){yt(Ye)}}error(We){const{partialObserver:ye}=this;if(ye.error)try{ye.error(We)}catch(Ye){yt(Ye)}else yt(We)}complete(){const{partialObserver:We}=this;if(We.complete)try{We.complete()}catch(ye){yt(ye)}}}class Qe extends De{constructor(We,ye,Ye){let st;if(super(),(0,y.m)(We)||!We)st={next:We??void 0,error:ye??void 0,complete:Ye??void 0};else{let ct;this&&ve.config.useDeprecatedNextContext?(ct=Object.create(We),ct.unsubscribe=()=>this.unsubscribe(),st={next:We.next&&Ze(We.next,ct),error:We.error&&Ze(We.error,ct),complete:We.complete&&Ze(We.complete,ct)}):st=We}this.destination=new Le(st)}}function yt(le){ve.config.useDeprecatedSynchronousErrorHandling?(0,ce.O)(le):(0,se.h)(le)}function ln(le,We){const{onStoppedNotification:ye}=ve.config;ye&&ee.z.setTimeout(()=>ye(le,We))}const Mt={closed:!0,next:Z.Z,error:function At(le){throw le},complete:Z.Z}},7394:(bt,Be,U)=>{U.d(Be,{Lc:()=>X,w0:()=>Z,Nn:()=>Ee});var y=U(4674);const ve=(0,U(2306).d)(me=>function(ce){me(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((De,Ae)=>`${Ae+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var se=U(9039);class Z{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const Ze of ce)Ze.remove(this);else ce.remove(this);const{initialTeardown:De}=this;if((0,y.m)(De))try{De()}catch(Ze){ee=Ze instanceof ve?Ze.errors:[Ze]}const{_finalizers:Ae}=this;if(Ae){this._finalizers=null;for(const Ze of Ae)try{Me(Ze)}catch(Le){ee=ee??[],Le instanceof ve?ee=[...ee,...Le.errors]:ee.push(Le)}}if(ee)throw new ve(ee)}}add(ee){var ce;if(ee&&ee!==this)if(this.closed)Me(ee);else{if(ee instanceof Z){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(ee)}}_hasParent(ee){const{_parentage:ce}=this;return ce===ee||Array.isArray(ce)&&ce.includes(ee)}_addParent(ee){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(ee),ce):ce?[ce,ee]:ee}_removeParent(ee){const{_parentage:ce}=this;ce===ee?this._parentage=null:Array.isArray(ce)&&(0,se.P)(ce,ee)}remove(ee){const{_finalizers:ce}=this;ce&&(0,se.P)(ce,ee),ee instanceof Z&&ee._removeParent(this)}}Z.EMPTY=(()=>{const me=new Z;return me.closed=!0,me})();const X=Z.EMPTY;function Ee(me){return me instanceof Z||me&&"closed"in me&&(0,y.m)(me.remove)&&(0,y.m)(me.add)&&(0,y.m)(me.unsubscribe)}function Me(me){(0,y.m)(me)?me():me.unsubscribe()}},2653:(bt,Be,U)=>{U.d(Be,{config:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(bt,Be,U)=>{U.d(Be,{a:()=>ee});var y=U(5592),re=U(7453),ve=U(2459),se=U(2737),Z=U(7400),X=U(9940),Ee=U(2714),Me=U(8251),me=U(7103);function ee(...Ae){const Ze=(0,X.yG)(Ae),Le=(0,X.jO)(Ae),{args:Qe,keys:yt}=(0,re.D)(Ae);if(0===Qe.length)return(0,ve.D)([],Ze);const At=new y.y(function ce(Ae,Ze,Le=se.y){return Qe=>{De(Ze,()=>{const{length:yt}=Ae,At=new Array(yt);let ln=yt,Mt=yt;for(let le=0;le<yt;le++)De(Ze,()=>{const We=(0,ve.D)(Ae[le],Ze);let ye=!1;We.subscribe((0,Me.x)(Qe,Ye=>{At[le]=Ye,ye||(ye=!0,Mt--),Mt||Qe.next(Le(At.slice()))},()=>{--ln||Qe.complete()}))},Qe)},Qe)}}(Qe,Ze,yt?ln=>(0,Ee.n)(yt,ln):se.y));return Le?At.pipe((0,Z.Z)(Le)):At}function De(Ae,Ze,Le){Ae?(0,me.f)(Le,Ae,Ze):Ze()}},5211:(bt,Be,U)=>{U.d(Be,{z:()=>Z});var y=U(7537),ve=U(9940),se=U(2459);function Z(...X){return function re(){return(0,y.J)(1)}()((0,se.D)(X,(0,ve.yG)(X)))}},4911:(bt,Be,U)=>{U.d(Be,{P:()=>ve});var y=U(5592),re=U(4829);function ve(se){return new y.y(Z=>{(0,re.Xf)(se()).subscribe(Z)})}},6232:(bt,Be,U)=>{U.d(Be,{E:()=>re});const re=new(U(5592).y)(Z=>Z.complete())},2459:(bt,Be,U)=>{U.d(Be,{D:()=>We});var y=U(4829),re=U(3093),ve=U(5137),X=U(5592),Me=U(4971),me=U(4674),ee=U(7103);function De(ye,Ye){if(!ye)throw new Error("Iterable cannot be null");return new X.y(st=>{(0,ee.f)(st,Ye,()=>{const ct=ye[Symbol.asyncIterator]();(0,ee.f)(st,Ye,()=>{ct.next().then(sn=>{sn.done?st.complete():st.next(sn.value)})},0,!0)})})}var Ae=U(8382),Ze=U(4026),Le=U(4266),Qe=U(3664),yt=U(5726),At=U(9853),ln=U(541);function We(ye,Ye){return Ye?function le(ye,Ye){if(null!=ye){if((0,Ae.c)(ye))return function se(ye,Ye){return(0,y.Xf)(ye).pipe((0,ve.R)(Ye),(0,re.Q)(Ye))}(ye,Ye);if((0,Le.z)(ye))return function Ee(ye,Ye){return new X.y(st=>{let ct=0;return Ye.schedule(function(){ct===ye.length?st.complete():(st.next(ye[ct++]),st.closed||this.schedule())})})}(ye,Ye);if((0,Ze.t)(ye))return function Z(ye,Ye){return(0,y.Xf)(ye).pipe((0,ve.R)(Ye),(0,re.Q)(Ye))}(ye,Ye);if((0,yt.D)(ye))return De(ye,Ye);if((0,Qe.T)(ye))return function ce(ye,Ye){return new X.y(st=>{let ct;return(0,ee.f)(st,Ye,()=>{ct=ye[Me.h](),(0,ee.f)(st,Ye,()=>{let sn,Zt;try{({value:sn,done:Zt}=ct.next())}catch(zn){return void st.error(zn)}Zt?st.complete():st.next(sn)},0,!0)}),()=>(0,me.m)(ct?.return)&&ct.return()})}(ye,Ye);if((0,ln.L)(ye))return function Mt(ye,Ye){return De((0,ln.Q)(ye),Ye)}(ye,Ye)}throw(0,At.z)(ye)}(ye,Ye):(0,y.Xf)(ye)}},4829:(bt,Be,U)=>{U.d(Be,{Xf:()=>Ae});var y=U(7582),re=U(4266),ve=U(4026),se=U(5592),Z=U(8382),X=U(5726),Ee=U(9853),Me=U(3664),me=U(541),ee=U(4674),ce=U(3894),De=U(4850);function Ae(le){if(le instanceof se.y)return le;if(null!=le){if((0,Z.c)(le))return function Ze(le){return new se.y(We=>{const ye=le[De.L]();if((0,ee.m)(ye.subscribe))return ye.subscribe(We);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(le);if((0,re.z)(le))return function Le(le){return new se.y(We=>{for(let ye=0;ye<le.length&&!We.closed;ye++)We.next(le[ye]);We.complete()})}(le);if((0,ve.t)(le))return function Qe(le){return new se.y(We=>{le.then(ye=>{We.closed||(We.next(ye),We.complete())},ye=>We.error(ye)).then(null,ce.h)})}(le);if((0,X.D)(le))return At(le);if((0,Me.T)(le))return function yt(le){return new se.y(We=>{for(const ye of le)if(We.next(ye),We.closed)return;We.complete()})}(le);if((0,me.L)(le))return function ln(le){return At((0,me.Q)(le))}(le)}throw(0,Ee.z)(le)}function At(le){return new se.y(We=>{(function Mt(le,We){var ye,Ye,st,ct;return(0,y.mG)(this,void 0,void 0,function*(){try{for(ye=(0,y.KL)(le);!(Ye=yield ye.next()).done;)if(We.next(Ye.value),We.closed)return}catch(sn){st={error:sn}}finally{try{Ye&&!Ye.done&&(ct=ye.return)&&(yield ct.call(ye))}finally{if(st)throw st.error}}We.complete()})})(le,We).catch(ye=>We.error(ye))})}},3019:(bt,Be,U)=>{U.d(Be,{T:()=>X});var y=U(7537),re=U(4829),ve=U(6232),se=U(9940),Z=U(2459);function X(...Ee){const Me=(0,se.yG)(Ee),me=(0,se._6)(Ee,1/0),ee=Ee;return ee.length?1===ee.length?(0,re.Xf)(ee[0]):(0,y.J)(me)((0,Z.D)(ee,Me)):ve.E}},2096:(bt,Be,U)=>{U.d(Be,{of:()=>ve});var y=U(9940),re=U(2459);function ve(...se){const Z=(0,y.yG)(se);return(0,re.D)(se,Z)}},8504:(bt,Be,U)=>{U.d(Be,{_:()=>ve});var y=U(5592),re=U(4674);function ve(se,Z){const X=(0,re.m)(se)?se:()=>se,Ee=Me=>Me.error(X());return new y.y(Z?Me=>Z.schedule(Ee,0,Me):Ee)}},8251:(bt,Be,U)=>{U.d(Be,{x:()=>re});var y=U(305);function re(se,Z,X,Ee,Me){return new ve(se,Z,X,Ee,Me)}class ve extends y.Lv{constructor(Z,X,Ee,Me,me,ee){super(Z),this.onFinalize=me,this.shouldUnsubscribe=ee,this._next=X?function(ce){try{X(ce)}catch(De){Z.error(De)}}:super._next,this._error=Me?function(ce){try{Me(ce)}catch(De){Z.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(ce){Z.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Z;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:X}=this;super.unsubscribe(),!X&&(null===(Z=this.onFinalize)||void 0===Z||Z.call(this))}}}},6306:(bt,Be,U)=>{U.d(Be,{K:()=>se});var y=U(4829),re=U(8251),ve=U(9360);function se(Z){return(0,ve.e)((X,Ee)=>{let ee,Me=null,me=!1;Me=X.subscribe((0,re.x)(Ee,void 0,void 0,ce=>{ee=(0,y.Xf)(Z(ce,se(Z)(X))),Me?(Me.unsubscribe(),Me=null,ee.subscribe(Ee)):me=!0})),me&&(Me.unsubscribe(),Me=null,ee.subscribe(Ee))})}},6328:(bt,Be,U)=>{U.d(Be,{b:()=>ve});var y=U(1631),re=U(4674);function ve(se,Z){return(0,re.m)(Z)?(0,y.z)(se,Z,1):(0,y.z)(se,1)}},3997:(bt,Be,U)=>{U.d(Be,{x:()=>se});var y=U(2737),re=U(9360),ve=U(8251);function se(X,Ee=y.y){return X=X??Z,(0,re.e)((Me,me)=>{let ee,ce=!0;Me.subscribe((0,ve.x)(me,De=>{const Ae=Ee(De);(ce||!X(ee,Ae))&&(ce=!1,ee=Ae,me.next(De))}))})}function Z(X,Ee){return X===Ee}},2181:(bt,Be,U)=>{U.d(Be,{h:()=>ve});var y=U(9360),re=U(8251);function ve(se,Z){return(0,y.e)((X,Ee)=>{let Me=0;X.subscribe((0,re.x)(Ee,me=>se.call(Z,me,Me++)&&Ee.next(me)))})}},4716:(bt,Be,U)=>{U.d(Be,{x:()=>re});var y=U(9360);function re(ve){return(0,y.e)((se,Z)=>{try{se.subscribe(Z)}finally{Z.add(ve)}})}},7398:(bt,Be,U)=>{U.d(Be,{U:()=>ve});var y=U(9360),re=U(8251);function ve(se,Z){return(0,y.e)((X,Ee)=>{let Me=0;X.subscribe((0,re.x)(Ee,me=>{Ee.next(se.call(Z,me,Me++))}))})}},975:(bt,Be,U)=>{U.d(Be,{h:()=>re});var y=U(7398);function re(ve){return(0,y.U)(()=>ve)}},7537:(bt,Be,U)=>{U.d(Be,{J:()=>ve});var y=U(1631),re=U(2737);function ve(se=1/0){return(0,y.z)(re.y,se)}},1631:(bt,Be,U)=>{U.d(Be,{z:()=>Me});var y=U(7398),re=U(4829),ve=U(9360),se=U(7103),Z=U(8251),Ee=U(4674);function Me(me,ee,ce=1/0){return(0,Ee.m)(ee)?Me((De,Ae)=>(0,y.U)((Ze,Le)=>ee(De,Ze,Ae,Le))((0,re.Xf)(me(De,Ae))),ce):("number"==typeof ee&&(ce=ee),(0,ve.e)((De,Ae)=>function X(me,ee,ce,De,Ae,Ze,Le,Qe){const yt=[];let At=0,ln=0,Mt=!1;const le=()=>{Mt&&!yt.length&&!At&&ee.complete()},We=Ye=>At<De?ye(Ye):yt.push(Ye),ye=Ye=>{Ze&&ee.next(Ye),At++;let st=!1;(0,re.Xf)(ce(Ye,ln++)).subscribe((0,Z.x)(ee,ct=>{Ae?.(ct),Ze?We(ct):ee.next(ct)},()=>{st=!0},void 0,()=>{if(st)try{for(At--;yt.length&&At<De;){const ct=yt.shift();Le?(0,se.f)(ee,Le,()=>ye(ct)):ye(ct)}le()}catch(ct){ee.error(ct)}}))};return me.subscribe((0,Z.x)(ee,We,()=>{Mt=!0,le()})),()=>{Qe?.()}}(De,Ae,me,ce)))}},3093:(bt,Be,U)=>{U.d(Be,{Q:()=>se});var y=U(7103),re=U(9360),ve=U(8251);function se(Z,X=0){return(0,re.e)((Ee,Me)=>{Ee.subscribe((0,ve.x)(Me,me=>(0,y.f)(Me,Z,()=>Me.next(me),X),()=>(0,y.f)(Me,Z,()=>Me.complete(),X),me=>(0,y.f)(Me,Z,()=>Me.error(me),X)))})}},3020:(bt,Be,U)=>{U.d(Be,{B:()=>Z});var y=U(4829),re=U(8645),ve=U(305),se=U(9360);function Z(Ee={}){const{connector:Me=(()=>new re.x),resetOnError:me=!0,resetOnComplete:ee=!0,resetOnRefCountZero:ce=!0}=Ee;return De=>{let Ae,Ze,Le,Qe=0,yt=!1,At=!1;const ln=()=>{Ze?.unsubscribe(),Ze=void 0},Mt=()=>{ln(),Ae=Le=void 0,yt=At=!1},le=()=>{const We=Ae;Mt(),We?.unsubscribe()};return(0,se.e)((We,ye)=>{Qe++,!At&&!yt&&ln();const Ye=Le=Le??Me();ye.add(()=>{Qe--,0===Qe&&!At&&!yt&&(Ze=X(le,ce))}),Ye.subscribe(ye),!Ae&&Qe>0&&(Ae=new ve.Hp({next:st=>Ye.next(st),error:st=>{At=!0,ln(),Ze=X(Mt,me,st),Ye.error(st)},complete:()=>{yt=!0,ln(),Ze=X(Mt,ee),Ye.complete()}}),(0,y.Xf)(We).subscribe(Ae))})(De)}}function X(Ee,Me,...me){if(!0===Me)return void Ee();if(!1===Me)return;const ee=new ve.Hp({next:()=>{ee.unsubscribe(),Ee()}});return(0,y.Xf)(Me(...me)).subscribe(ee)}},7921:(bt,Be,U)=>{U.d(Be,{O:()=>se});var y=U(5211),re=U(9940),ve=U(9360);function se(...Z){const X=(0,re.yG)(Z);return(0,ve.e)((Ee,Me)=>{(X?(0,y.z)(Z,Ee,X):(0,y.z)(Z,Ee)).subscribe(Me)})}},5137:(bt,Be,U)=>{U.d(Be,{R:()=>re});var y=U(9360);function re(ve,se=0){return(0,y.e)((Z,X)=>{X.add(ve.schedule(()=>Z.subscribe(X),se))})}},4664:(bt,Be,U)=>{U.d(Be,{w:()=>se});var y=U(4829),re=U(9360),ve=U(8251);function se(Z,X){return(0,re.e)((Ee,Me)=>{let me=null,ee=0,ce=!1;const De=()=>ce&&!me&&Me.complete();Ee.subscribe((0,ve.x)(Me,Ae=>{me?.unsubscribe();let Ze=0;const Le=ee++;(0,y.Xf)(Z(Ae,Le)).subscribe(me=(0,ve.x)(Me,Qe=>Me.next(X?X(Ae,Qe,Le,Ze++):Qe),()=>{me=null,De()}))},()=>{ce=!0,De()}))})}},8180:(bt,Be,U)=>{U.d(Be,{q:()=>se});var y=U(6232),re=U(9360),ve=U(8251);function se(Z){return Z<=0?()=>y.E:(0,re.e)((X,Ee)=>{let Me=0;X.subscribe((0,ve.x)(Ee,me=>{++Me<=Z&&(Ee.next(me),Z<=Me&&Ee.complete())}))})}},9773:(bt,Be,U)=>{U.d(Be,{R:()=>Z});var y=U(9360),re=U(8251),ve=U(4829),se=U(2420);function Z(X){return(0,y.e)((Ee,Me)=>{(0,ve.Xf)(X).subscribe((0,re.x)(Me,()=>Me.complete(),se.Z)),!Me.closed&&Ee.subscribe(Me)})}},9397:(bt,Be,U)=>{U.d(Be,{b:()=>Z});var y=U(4674),re=U(9360),ve=U(8251),se=U(2737);function Z(X,Ee,Me){const me=(0,y.m)(X)||Ee||Me?{next:X,error:Ee,complete:Me}:X;return me?(0,re.e)((ee,ce)=>{var De;null===(De=me.subscribe)||void 0===De||De.call(me);let Ae=!0;ee.subscribe((0,ve.x)(ce,Ze=>{var Le;null===(Le=me.next)||void 0===Le||Le.call(me,Ze),ce.next(Ze)},()=>{var Ze;Ae=!1,null===(Ze=me.complete)||void 0===Ze||Ze.call(me),ce.complete()},Ze=>{var Le;Ae=!1,null===(Le=me.error)||void 0===Le||Le.call(me,Ze),ce.error(Ze)},()=>{var Ze,Le;Ae&&(null===(Ze=me.unsubscribe)||void 0===Ze||Ze.call(me)),null===(Le=me.finalize)||void 0===Le||Le.call(me)}))}):se.y}},1954:(bt,Be,U)=>{U.d(Be,{o:()=>Z});var y=U(7394);class re extends y.w0{constructor(Ee,Me){super()}schedule(Ee,Me=0){return this}}const ve={setInterval(X,Ee,...Me){const{delegate:me}=ve;return me?.setInterval?me.setInterval(X,Ee,...Me):setInterval(X,Ee,...Me)},clearInterval(X){const{delegate:Ee}=ve;return(Ee?.clearInterval||clearInterval)(X)},delegate:void 0};var se=U(9039);class Z extends re{constructor(Ee,Me){super(Ee,Me),this.scheduler=Ee,this.work=Me,this.pending=!1}schedule(Ee,Me=0){var me;if(this.closed)return this;this.state=Ee;const ee=this.id,ce=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(ce,ee,Me)),this.pending=!0,this.delay=Me,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId(ce,this.id,Me),this}requestAsyncId(Ee,Me,me=0){return ve.setInterval(Ee.flush.bind(Ee,this),me)}recycleAsyncId(Ee,Me,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return Me;null!=Me&&ve.clearInterval(Me)}execute(Ee,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(Ee,Me);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,Me){let ee,me=!1;try{this.work(Ee)}catch(ce){me=!0,ee=ce||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:Me}=this,{actions:me}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(me,this),null!=Ee&&(this.id=this.recycleAsyncId(Me,Ee,null)),this.delay=null,super.unsubscribe()}}}},2631:(bt,Be,U)=>{U.d(Be,{v:()=>ve});var y=U(4552);class re{constructor(Z,X=re.now){this.schedulerActionCtor=Z,this.now=X}schedule(Z,X=0,Ee){return new this.schedulerActionCtor(this,Z).schedule(Ee,X)}}re.now=y.l.now;class ve extends re{constructor(Z,X=re.now){super(Z,X),this.actions=[],this._active=!1}flush(Z){const{actions:X}=this;if(this._active)return void X.push(Z);let Ee;this._active=!0;do{if(Ee=Z.execute(Z.state,Z.delay))break}while(Z=X.shift());if(this._active=!1,Ee){for(;Z=X.shift();)Z.unsubscribe();throw Ee}}}},6321:(bt,Be,U)=>{U.d(Be,{P:()=>se,z:()=>ve});var y=U(1954);const ve=new(U(2631).v)(y.o),se=ve},4552:(bt,Be,U)=>{U.d(Be,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},7599:(bt,Be,U)=>{U.d(Be,{z:()=>y});const y={setTimeout(re,ve,...se){const{delegate:Z}=y;return Z?.setTimeout?Z.setTimeout(re,ve,...se):setTimeout(re,ve,...se)},clearTimeout(re){const{delegate:ve}=y;return(ve?.clearTimeout||clearTimeout)(re)},delegate:void 0}},4971:(bt,Be,U)=>{U.d(Be,{h:()=>re});const re=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(bt,Be,U)=>{U.d(Be,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(bt,Be,U)=>{U.d(Be,{_6:()=>X,jO:()=>se,yG:()=>Z});var y=U(4674),re=U(671);function ve(Ee){return Ee[Ee.length-1]}function se(Ee){return(0,y.m)(ve(Ee))?Ee.pop():void 0}function Z(Ee){return(0,re.K)(ve(Ee))?Ee.pop():void 0}function X(Ee,Me){return"number"==typeof ve(Ee)?Ee.pop():Me}},7453:(bt,Be,U)=>{U.d(Be,{D:()=>Z});const{isArray:y}=Array,{getPrototypeOf:re,prototype:ve,keys:se}=Object;function Z(Ee){if(1===Ee.length){const Me=Ee[0];if(y(Me))return{args:Me,keys:null};if(function X(Ee){return Ee&&"object"==typeof Ee&&re(Ee)===ve}(Me)){const me=se(Me);return{args:me.map(ee=>Me[ee]),keys:me}}}return{args:Ee,keys:null}}},9039:(bt,Be,U)=>{function y(re,ve){if(re){const se=re.indexOf(ve);0<=se&&re.splice(se,1)}}U.d(Be,{P:()=>y})},2306:(bt,Be,U)=>{function y(re){const se=re(Z=>{Error.call(Z),Z.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}U.d(Be,{d:()=>y})},2714:(bt,Be,U)=>{function y(re,ve){return re.reduce((se,Z,X)=>(se[Z]=ve[X],se),{})}U.d(Be,{n:()=>y})},1441:(bt,Be,U)=>{U.d(Be,{O:()=>se,x:()=>ve});var y=U(2653);let re=null;function ve(Z){if(y.config.useDeprecatedSynchronousErrorHandling){const X=!re;if(X&&(re={errorThrown:!1,error:null}),Z(),X){const{errorThrown:Ee,error:Me}=re;if(re=null,Ee)throw Me}}else Z()}function se(Z){y.config.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=Z)}},7103:(bt,Be,U)=>{function y(re,ve,se,Z=0,X=!1){const Ee=ve.schedule(function(){se(),X?re.add(this.schedule(null,Z)):this.unsubscribe()},Z);if(re.add(Ee),!X)return Ee}U.d(Be,{f:()=>y})},2737:(bt,Be,U)=>{function y(re){return re}U.d(Be,{y:()=>y})},4266:(bt,Be,U)=>{U.d(Be,{z:()=>y});const y=re=>re&&"number"==typeof re.length&&"function"!=typeof re},5726:(bt,Be,U)=>{U.d(Be,{D:()=>re});var y=U(4674);function re(ve){return Symbol.asyncIterator&&(0,y.m)(ve?.[Symbol.asyncIterator])}},4674:(bt,Be,U)=>{function y(re){return"function"==typeof re}U.d(Be,{m:()=>y})},8382:(bt,Be,U)=>{U.d(Be,{c:()=>ve});var y=U(4850),re=U(4674);function ve(se){return(0,re.m)(se[y.L])}},3664:(bt,Be,U)=>{U.d(Be,{T:()=>ve});var y=U(4971),re=U(4674);function ve(se){return(0,re.m)(se?.[y.h])}},4026:(bt,Be,U)=>{U.d(Be,{t:()=>re});var y=U(4674);function re(ve){return(0,y.m)(ve?.then)}},541:(bt,Be,U)=>{U.d(Be,{L:()=>se,Q:()=>ve});var y=U(7582),re=U(4674);function ve(Z){return(0,y.FC)(this,arguments,function*(){const Ee=Z.getReader();try{for(;;){const{value:Me,done:me}=yield(0,y.qq)(Ee.read());if(me)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Me)}}finally{Ee.releaseLock()}})}function se(Z){return(0,re.m)(Z?.getReader)}},671:(bt,Be,U)=>{U.d(Be,{K:()=>re});var y=U(4674);function re(ve){return ve&&(0,y.m)(ve.schedule)}},9360:(bt,Be,U)=>{U.d(Be,{A:()=>re,e:()=>ve});var y=U(4674);function re(se){return(0,y.m)(se?.lift)}function ve(se){return Z=>{if(re(Z))return Z.lift(function(X){try{return se(X,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(bt,Be,U)=>{U.d(Be,{Z:()=>se});var y=U(7398);const{isArray:re}=Array;function se(Z){return(0,y.U)(X=>function ve(Z,X){return re(X)?Z(...X):Z(X)}(Z,X))}},2420:(bt,Be,U)=>{function y(){}U.d(Be,{Z:()=>y})},8407:(bt,Be,U)=>{U.d(Be,{U:()=>ve,z:()=>re});var y=U(2737);function re(...se){return ve(se)}function ve(se){return 0===se.length?y.y:1===se.length?se[0]:function(X){return se.reduce((Ee,Me)=>Me(Ee),X)}}},3894:(bt,Be,U)=>{U.d(Be,{h:()=>ve});var y=U(2653),re=U(7599);function ve(se){re.z.setTimeout(()=>{const{onUnhandledError:Z}=y.config;if(!Z)throw se;Z(se)})}},9853:(bt,Be,U)=>{function y(re){return new TypeError(`You provided ${null!==re&&"object"==typeof re?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Be,{z:()=>y})},6825:(bt,Be,U)=>{U.d(Be,{IO:()=>Le,LC:()=>re,SB:()=>me,X$:()=>se,ZE:()=>At,ZN:()=>yt,_j:()=>y,eR:()=>ce,jt:()=>Z,k1:()=>ln,l3:()=>ve,oB:()=>Me,pV:()=>Ae,ru:()=>X,vP:()=>Ee});class y{}class re{}const ve="*";function se(Mt,le){return{type:7,name:Mt,definitions:le,options:{}}}function Z(Mt,le=null){return{type:4,styles:le,timings:Mt}}function X(Mt,le=null){return{type:3,steps:Mt,options:le}}function Ee(Mt,le=null){return{type:2,steps:Mt,options:le}}function Me(Mt){return{type:6,styles:Mt,offset:null}}function me(Mt,le,We){return{type:0,name:Mt,styles:le,options:We}}function ce(Mt,le,We=null){return{type:1,expr:Mt,animation:le,options:We}}function Ae(Mt=null){return{type:9,options:Mt}}function Le(Mt,le,We=null){return{type:11,selector:Mt,animation:le,options:We}}class yt{constructor(le=0,We=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=le+We}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(le=>le()),this._onDoneFns=[])}onStart(le){this._originalOnStartFns.push(le),this._onStartFns.push(le)}onDone(le){this._originalOnDoneFns.push(le),this._onDoneFns.push(le)}onDestroy(le){this._onDestroyFns.push(le)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(le=>le()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(le=>le()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(le){this._position=this.totalTime?le*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(le){const We="start"==le?this._onStartFns:this._onDoneFns;We.forEach(ye=>ye()),We.length=0}}class At{constructor(le){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=le;let We=0,ye=0,Ye=0;const st=this.players.length;0==st?queueMicrotask(()=>this._onFinish()):this.players.forEach(ct=>{ct.onDone(()=>{++We==st&&this._onFinish()}),ct.onDestroy(()=>{++ye==st&&this._onDestroy()}),ct.onStart(()=>{++Ye==st&&this._onStart()})}),this.totalTime=this.players.reduce((ct,sn)=>Math.max(ct,sn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(le=>le()),this._onDoneFns=[])}init(){this.players.forEach(le=>le.init())}onStart(le){this._onStartFns.push(le)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(le=>le()),this._onStartFns=[])}onDone(le){this._onDoneFns.push(le)}onDestroy(le){this._onDestroyFns.push(le)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(le=>le.play())}pause(){this.players.forEach(le=>le.pause())}restart(){this.players.forEach(le=>le.restart())}finish(){this._onFinish(),this.players.forEach(le=>le.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(le=>le.destroy()),this._onDestroyFns.forEach(le=>le()),this._onDestroyFns=[])}reset(){this.players.forEach(le=>le.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(le){const We=le*this.totalTime;this.players.forEach(ye=>{const Ye=ye.totalTime?Math.min(1,We/ye.totalTime):1;ye.setPosition(Ye)})}getPosition(){const le=this.players.reduce((We,ye)=>null===We||ye.totalTime>We.totalTime?ye:We,null);return null!=le?le.getPosition():0}beforeDestroy(){this.players.forEach(le=>{le.beforeDestroy&&le.beforeDestroy()})}triggerCallback(le){const We="start"==le?this._onStartFns:this._onDoneFns;We.forEach(ye=>ye()),We.length=0}}const ln="!"},6814:(bt,Be,U)=>{U.d(Be,{Do:()=>Qe,ED:()=>js,EM:()=>hi,HT:()=>se,JF:()=>ks,K0:()=>X,Mx:()=>vi,NF:()=>cs,O5:()=>bn,Ov:()=>zs,PM:()=>Wi,RF:()=>On,S$:()=>Ae,V_:()=>Me,Ye:()=>yt,b0:()=>Le,bD:()=>ur,ez:()=>Gs,mk:()=>Xi,n9:()=>us,q:()=>ve,sg:()=>Bn,tP:()=>Hs,w_:()=>Z});var y=U(5879);let re=null;function ve(){return re}function se(D){re||(re=D)}class Z{}const X=new y.OlP("DocumentToken");let Ee=(()=>{class D{historyGo(M){throw new Error("Not implemented")}static#e=this.\u0275fac=function(N){return new(N||D)};static#t=this.\u0275prov=y.Yz7({token:D,factory:function(){return(0,y.f3M)(me)},providedIn:"platform"})}return D})();const Me=new y.OlP("Location Initialized");let me=(()=>{class D extends Ee{constructor(){super(),this._doc=(0,y.f3M)(X),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ve().getBaseHref(this._doc)}onPopState(M){const N=ve().getGlobalEventTarget(this._doc,"window");return N.addEventListener("popstate",M,!1),()=>N.removeEventListener("popstate",M)}onHashChange(M){const N=ve().getGlobalEventTarget(this._doc,"window");return N.addEventListener("hashchange",M,!1),()=>N.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,N,te){this._history.pushState(M,N,te)}replaceState(M,N,te){this._history.replaceState(M,N,te)}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}static#e=this.\u0275fac=function(N){return new(N||D)};static#t=this.\u0275prov=y.Yz7({token:D,factory:function(){return new D},providedIn:"platform"})}return D})();function ee(D,$){if(0==D.length)return $;if(0==$.length)return D;let M=0;return D.endsWith("/")&&M++,$.startsWith("/")&&M++,2==M?D+$.substring(1):1==M?D+$:D+"/"+$}function ce(D){const $=D.match(/#|\?|$/),M=$&&$.index||D.length;return D.slice(0,M-("/"===D[M-1]?1:0))+D.slice(M)}function De(D){return D&&"?"!==D[0]?"?"+D:D}let Ae=(()=>{class D{historyGo(M){throw new Error("Not implemented")}static#e=this.\u0275fac=function(N){return new(N||D)};static#t=this.\u0275prov=y.Yz7({token:D,factory:function(){return(0,y.f3M)(Le)},providedIn:"root"})}return D})();const Ze=new y.OlP("appBaseHref");let Le=(()=>{class D extends Ae{constructor(M,N){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=N??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(X).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return ee(this._baseHref,M)}path(M=!1){const N=this._platformLocation.pathname+De(this._platformLocation.search),te=this._platformLocation.hash;return te&&M?`${N}${te}`:N}pushState(M,N,te,Te){const He=this.prepareExternalUrl(te+De(Te));this._platformLocation.pushState(M,N,He)}replaceState(M,N,te,Te){const He=this.prepareExternalUrl(te+De(Te));this._platformLocation.replaceState(M,N,He)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static#e=this.\u0275fac=function(N){return new(N||D)(y.LFG(Ee),y.LFG(Ze,8))};static#t=this.\u0275prov=y.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})(),Qe=(()=>{class D extends Ae{constructor(M,N){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=N&&(this._baseHref=N)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let N=this._platformLocation.hash;return null==N&&(N="#"),N.length>0?N.substring(1):N}prepareExternalUrl(M){const N=ee(this._baseHref,M);return N.length>0?"#"+N:N}pushState(M,N,te,Te){let He=this.prepareExternalUrl(te+De(Te));0==He.length&&(He=this._platformLocation.pathname),this._platformLocation.pushState(M,N,He)}replaceState(M,N,te,Te){let He=this.prepareExternalUrl(te+De(Te));0==He.length&&(He=this._platformLocation.pathname),this._platformLocation.replaceState(M,N,He)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static#e=this.\u0275fac=function(N){return new(N||D)(y.LFG(Ee),y.LFG(Ze,8))};static#t=this.\u0275prov=y.Yz7({token:D,factory:D.\u0275fac})}return D})(),yt=(()=>{class D{constructor(M){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const N=this._locationStrategy.getBaseHref();this._basePath=function le(D){if(new RegExp("^(https?:)?//").test(D)){const[,M]=D.split(/\/\/[^\/]+/);return M}return D}(ce(Mt(N))),this._locationStrategy.onPopState(te=>{this._subject.emit({url:this.path(!0),pop:!0,state:te.state,type:te.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,N=""){return this.path()==this.normalize(M+De(N))}normalize(M){return D.stripTrailingSlash(function ln(D,$){if(!D||!$.startsWith(D))return $;const M=$.substring(D.length);return""===M||["/",";","?","#"].includes(M[0])?M:$}(this._basePath,Mt(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,N="",te=null){this._locationStrategy.pushState(te,"",M,N),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+De(N)),te)}replaceState(M,N="",te=null){this._locationStrategy.replaceState(te,"",M,N),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+De(N)),te)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(N=>{this._notifyUrlChangeListeners(N.url,N.state)})),()=>{const N=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(N,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",N){this._urlChangeListeners.forEach(te=>te(M,N))}subscribe(M,N,te){return this._subject.subscribe({next:M,error:N,complete:te})}static#e=this.normalizeQueryParams=De;static#t=this.joinWithSlash=ee;static#n=this.stripTrailingSlash=ce;static#r=this.\u0275fac=function(N){return new(N||D)(y.LFG(Ae))};static#i=this.\u0275prov=y.Yz7({token:D,factory:function(){return function At(){return new yt((0,y.LFG)(Ae))}()},providedIn:"root"})}return D})();function Mt(D){return D.replace(/\/index.html$/,"")}function vi(D,$){$=encodeURIComponent($);for(const M of D.split(";")){const N=M.indexOf("="),[te,Te]=-1==N?[M,""]:[M.slice(0,N),M.slice(N+1)];if(te.trim()===$)return decodeURIComponent(Te)}return null}const Qr=/\s+/,Bs=[];let Xi=(()=>{class D{constructor(M,N,te,Te){this._iterableDiffers=M,this._keyValueDiffers=N,this._ngEl=te,this._renderer=Te,this.initialClasses=Bs,this.stateMap=new Map}set klass(M){this.initialClasses=null!=M?M.trim().split(Qr):Bs}set ngClass(M){this.rawClass="string"==typeof M?M.trim().split(Qr):M}ngDoCheck(){for(const N of this.initialClasses)this._updateState(N,!0);const M=this.rawClass;if(Array.isArray(M)||M instanceof Set)for(const N of M)this._updateState(N,!0);else if(null!=M)for(const N of Object.keys(M))this._updateState(N,!!M[N]);this._applyStateDiff()}_updateState(M,N){const te=this.stateMap.get(M);void 0!==te?(te.enabled!==N&&(te.changed=!0,te.enabled=N),te.touched=!0):this.stateMap.set(M,{enabled:N,changed:!0,touched:!0})}_applyStateDiff(){for(const M of this.stateMap){const N=M[0],te=M[1];te.changed?(this._toggleClass(N,te.enabled),te.changed=!1):te.touched||(te.enabled&&this._toggleClass(N,!1),this.stateMap.delete(N)),te.touched=!1}}_toggleClass(M,N){(M=M.trim()).length>0&&M.split(Qr).forEach(te=>{N?this._renderer.addClass(this._ngEl.nativeElement,te):this._renderer.removeClass(this._ngEl.nativeElement,te)})}static#e=this.\u0275fac=function(N){return new(N||D)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))};static#t=this.\u0275dir=y.lG2({type:D,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return D})();class ho{constructor($,M,N,te){this.$implicit=$,this.ngForOf=M,this.index=N,this.count=te}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bn=(()=>{class D{set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}constructor(M,N,te){this._viewContainer=M,this._template=N,this._differs=te,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const N=this._viewContainer;M.forEachOperation((te,Te,He)=>{if(null==te.previousIndex)N.createEmbeddedView(this._template,new ho(te.item,this._ngForOf,-1,-1),null===He?void 0:He);else if(null==He)N.remove(null===Te?void 0:Te);else if(null!==Te){const _t=N.get(Te);N.move(_t,He),Js(_t,te)}});for(let te=0,Te=N.length;te<Te;te++){const _t=N.get(te).context;_t.index=te,_t.count=Te,_t.ngForOf=this._ngForOf}M.forEachIdentityChange(te=>{Js(N.get(te.currentIndex),te)})}static ngTemplateContextGuard(M,N){return!0}static#e=this.\u0275fac=function(N){return new(N||D)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))};static#t=this.\u0275dir=y.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return D})();function Js(D,$){D.context.$implicit=$.item}let bn=(()=>{class D{constructor(M,N){this._viewContainer=M,this._context=new $s,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=N}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){as("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){as("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,N){return!0}static#e=this.\u0275fac=function(N){return new(N||D)(y.Y36(y.s_b),y.Y36(y.Rgc))};static#t=this.\u0275dir=y.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return D})();class $s{constructor(){this.$implicit=null,this.ngIf=null}}function as(D,$){if($&&!$.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,y.AaK)($)}'.`)}class Ts{constructor($,M){this._viewContainerRef=$,this._templateRef=M,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState($){$&&!this._created?this.create():!$&&this._created&&this.destroy()}}let On=(()=>{class D{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(M){this._ngSwitch=M,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(M){this._defaultViews.push(M)}_matchCase(M){const N=M==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||N,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),N}_updateDefaultCases(M){if(this._defaultViews.length>0&&M!==this._defaultUsed){this._defaultUsed=M;for(const N of this._defaultViews)N.enforceState(M)}}static#e=this.\u0275fac=function(N){return new(N||D)};static#t=this.\u0275dir=y.lG2({type:D,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return D})(),us=(()=>{class D{constructor(M,N,te){this.ngSwitch=te,te._addCase(),this._view=new Ts(M,N)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(N){return new(N||D)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(On,9))};static#t=this.\u0275dir=y.lG2({type:D,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return D})(),js=(()=>{class D{constructor(M,N,te){te._addDefault(new Ts(M,N))}static#e=this.\u0275fac=function(N){return new(N||D)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(On,9))};static#t=this.\u0275dir=y.lG2({type:D,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return D})(),Hs=(()=>{class D{constructor(M){this._viewContainerRef=M,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(M){if(M.ngTemplateOutlet||M.ngTemplateOutletInjector){const N=this._viewContainerRef;if(this._viewRef&&N.remove(N.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:te,ngTemplateOutletContext:Te,ngTemplateOutletInjector:He}=this;this._viewRef=N.createEmbeddedView(te,Te,He?{injector:He}:void 0)}else this._viewRef=null}else this._viewRef&&M.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(N){return new(N||D)(y.Y36(y.s_b))};static#t=this.\u0275dir=y.lG2({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[y.TTD]})}return D})();class fo{createSubscription($,M){return(0,y.rg0)(()=>$.subscribe({next:M,error:N=>{throw N}}))}dispose($){(0,y.rg0)(()=>$.unsubscribe())}}class Xs{createSubscription($,M){return $.then(M,N=>{throw N})}dispose($){}}const bo=new Xs,eo=new fo;let zs=(()=>{class D{constructor(M){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=M}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(M){return this._obj?M!==this._obj?(this._dispose(),this.transform(M)):this._latestValue:(M&&this._subscribe(M),this._latestValue)}_subscribe(M){this._obj=M,this._strategy=this._selectStrategy(M),this._subscription=this._strategy.createSubscription(M,N=>this._updateLatestValue(M,N))}_selectStrategy(M){if((0,y.QGY)(M))return bo;if((0,y.F4k)(M))return eo;throw function Ei(D,$){return new y.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(M,N){M===this._obj&&(this._latestValue=N,this._ref.markForCheck())}static#e=this.\u0275fac=function(N){return new(N||D)(y.Y36(y.sBO,16))};static#t=this.\u0275pipe=y.Yjl({name:"async",type:D,pure:!1,standalone:!0})}return D})(),Gs=(()=>{class D{static#e=this.\u0275fac=function(N){return new(N||D)};static#t=this.\u0275mod=y.oAB({type:D});static#n=this.\u0275inj=y.cJS({})}return D})();const ur="browser",Os="server";function cs(D){return D===ur}function Wi(D){return D===Os}let hi=(()=>{class D{static#e=this.\u0275prov=(0,y.Yz7)({token:D,providedIn:"root",factory:()=>new ls((0,y.LFG)(X),window)})}return D})();class ls{constructor($,M){this.document=$,this.window=M,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition($){this.supportsScrolling()&&this.window.scrollTo($[0],$[1])}scrollToAnchor($){if(!this.supportsScrolling())return;const M=function ds(D,$){const M=D.getElementById($)||D.getElementsByName($)[0];if(M)return M;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const N=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let te=N.currentNode;for(;te;){const Te=te.shadowRoot;if(Te){const He=Te.getElementById($)||Te.querySelector(`[name="${$}"]`);if(He)return He}te=N.nextNode()}}return null}(this.document,$);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration($){this.supportsScrolling()&&(this.window.history.scrollRestoration=$)}scrollToElement($){const M=$.getBoundingClientRect(),N=M.left+this.window.pageXOffset,te=M.top+this.window.pageYOffset,Te=this.offset();this.window.scrollTo(N-Te[0],te-Te[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ks{}},5879:(bt,Be,U)=>{U.d(Be,{$8M:()=>hl,$WT:()=>Fi,$Z:()=>E_,AFp:()=>Kp,ALo:()=>fw,AaK:()=>De,BQk:()=>em,CHM:()=>hc,CRH:()=>Rw,EJc:()=>FA,EiD:()=>Bd,EpF:()=>ey,F$t:()=>Kv,F4k:()=>mh,FYo:()=>Jd,FiY:()=>_c,Gf:()=>Sw,GfV:()=>If,GkF:()=>tm,Gpc:()=>Le,Gre:()=>_E,HDt:()=>Jw,Hsn:()=>im,Ikx:()=>_y,JOm:()=>xa,JVY:()=>sf,JZr:()=>Mt,KtG:()=>xo,L6k:()=>Vy,LAX:()=>af,LFG:()=>Lt,LSH:()=>lu,Lbi:()=>Qp,Lck:()=>DD,MAs:()=>$v,MMx:()=>JT,MR2:()=>jd,NdJ:()=>rm,O4$:()=>Ah,Ojb:()=>n_,OlP:()=>qt,Oqu:()=>gy,P3R:()=>qm,PXZ:()=>hC,Q6J:()=>Jc,QGY:()=>nm,QbO:()=>t_,Qsj:()=>ug,R0b:()=>Ys,RDi:()=>Ly,Rgc:()=>Im,SBq:()=>Zd,Sil:()=>BA,Suo:()=>bw,TTD:()=>Gt,TgZ:()=>Kf,Tol:()=>dy,Udp:()=>hm,VKq:()=>ow,VuI:()=>qC,W1O:()=>Ow,WFA:()=>ty,WLB:()=>aw,XFs:()=>en,Xpm:()=>Xs,Xq5:()=>Wc,Xts:()=>$d,Y36:()=>ec,YKP:()=>YT,YNc:()=>Uv,Yjl:()=>no,Yz7:()=>jt,Z0I:()=>Un,ZZ4:()=>cI,_Bn:()=>QT,_UZ:()=>Jg,_Vd:()=>Bc,_c5:()=>kC,_uU:()=>uE,aQg:()=>lI,c2e:()=>Zw,cJS:()=>dn,cg1:()=>yy,d8E:()=>mm,dDg:()=>uC,dqk:()=>wn,eBb:()=>Vp,eFA:()=>c0,eJc:()=>qE,ekj:()=>fm,eoX:()=>s0,f3M:()=>Pt,g9A:()=>mf,h0i:()=>Ih,hGG:()=>LC,hij:()=>gm,iGM:()=>Cw,ifc:()=>Ft,ip1:()=>Yw,jDz:()=>XT,kL8:()=>bE,kcU:()=>Ch,lG2:()=>es,lcZ:()=>pw,lqb:()=>Fa,lri:()=>n0,mCW:()=>kd,n5z:()=>Xa,n_E:()=>Iy,oAB:()=>to,oJD:()=>jm,oxw:()=>qv,pB0:()=>Uy,q3G:()=>qu,q4F:()=>o_,qFp:()=>QC,qLn:()=>Jo,qOj:()=>V_,qZA:()=>Qf,qzn:()=>Wu,rWj:()=>r0,rg0:()=>Te,s9C:()=>sm,sBO:()=>EC,s_b:()=>Dy,soG:()=>Cy,tb:()=>rI,tp0:()=>va,uIk:()=>jf,vHH:()=>le,vpe:()=>ca,wAp:()=>Eh,xp6:()=>kf,ynx:()=>Xg,z2F:()=>sp,z3N:()=>Ta,zSh:()=>df,zs3:()=>Zo});var y=U(8645),re=U(7394),ve=U(5592),se=U(3019),Z=U(5619),X=U(2096),Ee=U(3020),Me=U(4664),me=U(3997);function ee(t){for(let r in t)if(t[r]===ee)return r;throw Error("Could not find renamed property on target object.")}function ce(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function De(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(De).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ae(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Ze=ee({__forward_ref__:ee});function Le(t){return t.__forward_ref__=Le,t.toString=function(){return De(this())},t}function Qe(t){return yt(t)?t():t}function yt(t){return"function"==typeof t&&t.hasOwnProperty(Ze)&&t.__forward_ref__===Le}function At(t){return t&&!!t.\u0275providers}const Mt="https://g.co/ng/security#xss";class le extends Error{constructor(r,s){super(function We(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function ye(t){return"string"==typeof t?t:null==t?"":String(t)}function Zt(t,r){throw new le(-201,!1)}function Ce(t,r){null==t&&function Se(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function jt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dn(t){return{providers:t.providers||[],imports:t.imports||[]}}function or(t){return mn(t,yr)||mn(t,Mr)}function Un(t){return null!==or(t)}function mn(t,r){return t.hasOwnProperty(r)?t[r]:null}function Vr(t){return t&&(t.hasOwnProperty(Ji)||t.hasOwnProperty(Ur))?t[Ji]:null}const yr=ee({\u0275prov:ee}),Ji=ee({\u0275inj:ee}),Mr=ee({ngInjectableDef:ee}),Ur=ee({ngInjectorDef:ee});var en=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(en||{});let yn;function Xn(t){const r=yn;return yn=t,r}function Ri(t,r,s){const a=or(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&en.Optional?null:void 0!==r?r:void Zt(De(t))}const wn=globalThis;class qt{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=jt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const un={},li="__NG_DI_FLAG__",Li="ngTempTokenPath",W=/\n/gm,G="__source";let q;function et(t){const r=q;return q=t,r}function ht(t,r=en.Default){if(void 0===q)throw new le(-203,!1);return null===q?Ri(t,void 0,r):q.get(t,r&en.Optional?null:void 0,r)}function Lt(t,r=en.Default){return(function hn(){return yn}()||ht)(Qe(t),r)}function Pt(t,r=en.Default){return Lt(t,Qt(r))}function Qt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Zn(t){const r=[];for(let s=0;s<t.length;s++){const a=Qe(t[s]);if(Array.isArray(a)){if(0===a.length)throw new le(900,!1);let c,d=en.Default;for(let g=0;g<a.length;g++){const v=a[g],C=Kr(v);"number"==typeof C?-1===C?c=v.token:d|=C:c=v}r.push(Lt(c,d))}else r.push(Lt(a))}return r}function qr(t,r){return t[li]=r,t.prototype[li]=r,t}function Kr(t){return t[li]}function Ne(t){return{toString:t}.toString()}var it=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(it||{}),Ft=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ft||{});const nn={},Tt=[],Pn=ee({\u0275cmp:ee}),hr=ee({\u0275dir:ee}),Jn=ee({\u0275pipe:ee}),Rs=ee({\u0275mod:ee}),vi=ee({\u0275fac:ee}),Qr=ee({__NG_ELEMENT_ID__:ee}),Bs=ee({__NG_ENV_ID__:ee});function Xi(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function lo(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],v=s[a++];t.setAttribute(r,g,v,d)}else{const d=c,g=s[++a];ho(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function Ps(t){return 3===t||4===t||6===t}function ho(t){return 64===t.charCodeAt(0)}function Bn(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Js(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function Js(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const v=t[d++];if("number"==typeof v){if(v===r){g=-1;break}if(v>r){g=d-1;break}}}for(;d<t.length;){const v=t[d];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const Ms="ng-template";function bn(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(s&&"class"===d&&-1!==Xi(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function $s(t){return 4===t.type&&t.value!==Ms}function as(t,r,s){return r===(4!==t.type||s?t.value:Ms)}function Ts(t,r,s){let a=4;const c=t.attrs||[],d=function _o(t){for(let r=0;r<t.length;r++)if(Ps(t[r]))return r;return t.length}(c);let g=!1;for(let v=0;v<r.length;v++){const C=r[v];if("number"!=typeof C){if(!g)if(4&a){if(a=2|1&a,""!==C&&!as(t,C,s)||""===C&&1===r.length){if(On(a))return!1;g=!0}}else{const x=8&a?C:r[++v];if(8&a&&null!==t.attrs){if(!bn(t.attrs,x,s)){if(On(a))return!1;g=!0}continue}const ie=us(8&a?"class":C,c,$s(t),s);if(-1===ie){if(On(a))return!1;g=!0;continue}if(""!==x){let we;we=ie>d?"":c[ie+1].toLowerCase();const ke=8&a?we:null;if(ke&&-1!==Xi(ke,x,0)||2&a&&x!==we){if(On(a))return!1;g=!0}}}}else{if(!g&&!On(a)&&!On(C))return!1;if(g&&On(C))continue;g=!1,a=C|1&a}}return On(a)||g}function On(t){return 0==(1&t)}function us(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let v=r[++c];for(;"string"==typeof v;)v=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function yo(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function js(t,r,s=!1){for(let a=0;a<r.length;a++)if(Ts(t,r[a],s))return!0;return!1}function zi(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function Hs(t,r){return t?":not("+r.trim()+")":r}function na(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const v=t[++s];c+="["+g+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!On(g)&&(r+=Hs(d,c),c=""),a=g,d=d||!On(a);s++}return""!==c&&(r+=Hs(d,c)),r}function Xs(t){return Ne(()=>{const r=Ro(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===it.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ft.Emulated,styles:t.styles||Tt,_:null,schemas:t.schemas||null,tView:null,id:""};Po(s);const a=t.dependencies;return s.directiveDefs=di(a,!1),s.pipeDefs=di(a,!0),s.id=function Ns(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function eo(t){return gn(t)||Lr(t)}function zs(t){return null!==t}function to(t){return Ne(()=>({type:t.type,bootstrap:t.bootstrap||Tt,declarations:t.declarations||Tt,imports:t.imports||Tt,exports:t.exports||Tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ra(t,r){if(null==t)return nn;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function es(t){return Ne(()=>{const r=Ro(t);return Po(r),r})}function no(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function gn(t){return t[Pn]||null}function Lr(t){return t[hr]||null}function fr(t){return t[Jn]||null}function Fi(t){const r=gn(t)||Lr(t)||fr(t);return null!==r&&r.standalone}function ei(t,r){const s=t[Rs]||null;if(!s&&!0===r)throw new Error(`Type ${De(t)} does not have '\u0275mod' property.`);return s}function Ro(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||nn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Tt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ra(t.inputs,r),outputs:ra(t.outputs)}}function Po(t){t.features?.forEach(r=>r(t))}function di(t,r){if(!t)return null;const s=r?fr:eo;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(zs)}const Kn=0,Ct=1,Nt=2,er=3,Br=4,ws=5,ti=6,Gs=7,ur=8,Os=9,ro=10,on=11,cs=12,Wi=13,pr=14,vr=15,xs=16,hi=17,ls=18,ds=19,Eo=20,ks=21,io=22,Vi=23,Io=24,Cn=25,Ls=1,Ii=2,fi=7,Mo=9,Er=11;function Fr(t){return Array.isArray(t)&&"object"==typeof t[Ls]}function wi(t){return Array.isArray(t)&&!0===t[Ls]}function Ws(t){return 0!=(4&t.flags)}function hs(t){return t.componentOffset>-1}function sa(t){return 1==(1&t.flags)}function Dn(t){return!!t.template}function qs(t){return 0!=(512&t[Nt])}function ni(t,r){return t.hasOwnProperty(vi)?t[vi]:null}let rr=null,Bi=!1;function B(t){const r=rr;return rr=t,r}const m={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function P(t){if(!Yt(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Je(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function pe(t){t.dirty=!0,function j(t){if(void 0===t.liveConsumerNode)return;const r=Bi;Bi=!0;try{for(const s of t.liveConsumerNode)s.dirty||pe(s)}finally{Bi=r}}(t),t.consumerMarkedDirty?.(t)}function ge(t){return t&&(t.nextProducerIndex=0),B(t)}function xe(t,r){if(B(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Yt(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Mn(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Je(t){Kt(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(P(s),a!==s.version))return!0}return!1}function Et(t){if(Kt(t),Yt(t))for(let r=0;r<t.producerNode.length;r++)Mn(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Mn(t,r){if(function Ot(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Kt(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Mn(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Kt(c),c.producerIndexOfThis[a]=r}}function Yt(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Kt(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ds=null;function Te(t){const r=B(null);try{return t()}finally{B(r)}}const _t=()=>{},Ln=(()=>({...m,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:_t}))();class $n{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Gt(){return xr}function xr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Fn),mr}function mr(){const t=jn(this),r=t?.current;if(r){const s=t.previous;if(s===nn)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Fn(t,r,s,a){const c=this.declaredInputs[s],d=jn(t)||function ts(t,r){return t[Zr]=r}(t,{previous:nn,current:null}),g=d.current||(d.current={}),v=d.previous,C=v[c];g[c]=new $n(C&&C.currentValue,r,v===nn),t[a]=r}Gt.ngInherit=!0;const Zr="__ngSimpleChanges__";function jn(t){return t[Zr]||null}const fs=function(t,r,s){},ot="svg";function Qn(t){for(;Array.isArray(t);)t=t[Kn];return t}function Bt(t,r){return Qn(r[t])}function Ut(t,r){return Qn(r[t.index])}function St(t,r){return t.data[r]}function Ge(t,r){return t[r]}function rt(t,r){const s=r[t];return Fr(s)?s:s[Kn]}function go(t,r){return null==r?null:t[r]}function jo(t){t[hi]=0}function el(t){1024&t[Nt]||(t[Nt]|=1024,wo(t,1))}function tl(t){1024&t[Nt]&&(t[Nt]&=-1025,wo(t,-1))}function wo(t,r){let s=t[er];if(null===s)return;s[ws]+=r;let a=s;for(s=s[er];null!==s&&(1===r&&1===a[ws]||-1===r&&0===a[ws]);)s[ws]+=r,a=s,s=s[er]}const An={lFrame:Vn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Xt(){return An.bindingsEnabled}function zo(){return null!==An.skipHydrationRootTNode}function at(){return An.lFrame.lView}function Wn(){return An.lFrame.tView}function hc(t){return An.lFrame.contextLView=t,t[ur]}function xo(t){return An.lFrame.contextLView=null,t}function ps(){let t=Hr();for(;null!==t&&64===t.type;)t=t.parent;return t}function Hr(){return An.lFrame.currentTNode}function ao(t,r){const s=An.lFrame;s.currentTNode=t,s.isParent=r}function Vs(){return An.lFrame.isParent}function ha(){An.lFrame.isParent=!1}function Cs(){const t=An.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Zi(){return An.lFrame.bindingIndex++}function Do(t){const r=An.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function S(t,r){const s=An.lFrame;s.bindingIndex=s.bindingRootIndex=t,b(r)}function b(t){An.lFrame.currentDirectiveIndex=t}function O(t){const r=An.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function K(){return An.lFrame.currentQueryIndex}function ue(t){An.lFrame.currentQueryIndex=t}function Ue(t){const r=t[Ct];return 2===r.type?r.declTNode:1===r.type?t[ti]:null}function $e(t,r,s){if(s&en.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&en.Host||(c=Ue(d),null===c||(d=d[pr],10&c.type))););if(null===c)return!1;r=c,t=d}const a=An.lFrame=Rn();return a.currentTNode=r,a.lView=t,!0}function wt(t){const r=Rn(),s=t[Ct];An.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Rn(){const t=An.lFrame,r=null===t?null:t.child;return null===r?Vn(t):r}function Vn(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function ir(){const t=An.lFrame;return An.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ao=ir;function Ss(){const t=ir();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ni(){return An.lFrame.selectedIndex}function fa(t){An.lFrame.selectedIndex=t}function pi(){const t=An.lFrame;return St(t.tView,t.selectedIndex)}function Ah(){An.lFrame.currentNamespace=ot}function Ch(){!function up(){An.lFrame.currentNamespace=null}()}let id=!0;function sl(){return id}function Ka(t){id=t}function Cu(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:x,ngOnDestroy:z}=d;g&&(t.contentHooks??=[]).push(-s,g),v&&((t.contentHooks??=[]).push(s,v),(t.contentCheckHooks??=[]).push(s,v)),C&&(t.viewHooks??=[]).push(-s,C),x&&((t.viewHooks??=[]).push(s,x),(t.viewCheckHooks??=[]).push(s,x)),null!=z&&(t.destroyHooks??=[]).push(s,z)}}function sd(t,r,s){fc(t,r,3,s)}function Su(t,r,s,a){(3&t[Nt])===s&&fc(t,r,s,a)}function bh(t,r){let s=t[Nt];(3&s)===r&&(s&=8191,s+=1,t[Nt]=s)}function fc(t,r,s,a){const d=a??-1,g=r.length-1;let v=0;for(let C=void 0!==a?65535&t[hi]:0;C<g;C++)if("number"==typeof r[C+1]){if(v=r[C],null!=a&&v>=a)break}else r[C]<0&&(t[hi]+=65536),(v<d||-1==d)&&(ol(t,s,r,C),t[hi]=(4294901760&t[hi])+C+2),C++}function lp(t,r){fs(4,t,r);const s=B(null);try{r.call(t)}finally{B(s),fs(5,t,r)}}function ol(t,r,s,a){const c=s[a]<0,d=s[a+1],v=t[c?-s[a]:s[a]];c?t[Nt]>>13<t[hi]>>16&&(3&t[Nt])===r&&(t[Nt]+=8192,lp(v,d)):lp(v,d)}const pa=-1;class Qa{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Ar(t){return t!==pa}function bu(t){return 32767&t}function Us(t,r){let s=function pc(t){return t>>16}(t),a=r;for(;s>0;)a=a[pr],s--;return a}let Ru=!0;function Ph(t){const r=Ru;return Ru=t,r}const dp=255,Wo=5;let Si=0;const bs={};function Ya(t,r){const s=ul(t,r);if(-1!==s)return s;const a=r[Ct];a.firstCreatePass&&(t.injectorIndex=r.length,Za(a.data,t),Za(r,null),Za(a.blueprint,null));const c=Lo(t,r),d=t.injectorIndex;if(Ar(c)){const g=bu(c),v=Us(c,r),C=v[Ct].data;for(let x=0;x<8;x++)r[d+x]=v[g+x]|C[g+x]}return r[d+8]=c,d}function Za(t,r){t.push(0,0,0,0,0,0,0,0,r)}function ul(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Lo(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=dl(c),null===a)return pa;if(s++,c=c[pr],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return pa}function Fo(t,r,s){!function Sa(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Qr)&&(a=s[Qr]),null==a&&(a=s[Qr]=Si++);const c=a&dp;r.data[t+(c>>Wo)]|=1<<c}(t,r,s)}function ga(t,r,s){if(s&en.Optional||void 0!==t)return t;Zt()}function Vo(t,r,s,a){if(s&en.Optional&&void 0===a&&(a=null),!(s&(en.Self|en.Host))){const c=t[Os],d=Xn(void 0);try{return c?c.get(r,a,s&en.Optional):Ri(r,a,s&en.Optional)}finally{Xn(d)}}return ga(a,0,s)}function Ja(t,r,s,a=en.Default,c){if(null!==t){if(2048&r[Nt]&&!(a&en.Self)){const g=function Nh(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[Nt]&&!(512&g[Nt]);){const v=ba(d,g,s,a|en.Self,bs);if(v!==bs)return v;let C=d.parent;if(!C){const x=g[Eo];if(x){const z=x.get(s,bs,a);if(z!==bs)return z}C=dl(g),g=g[pr]}d=C}return c}(t,r,s,a,bs);if(g!==bs)return g}const d=ba(t,r,s,a,bs);if(d!==bs)return d}return Vo(r,s,a,c)}function ba(t,r,s,a,c){const d=function cl(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Qr)?t[Qr]:void 0;return"number"==typeof r?r>=0?r&dp:Pu:r}(s);if("function"==typeof d){if(!$e(r,t,a))return a&en.Host?ga(c,0,a):Vo(r,s,a,c);try{let g;if(g=d(a),null!=g||a&en.Optional)return g;Zt()}finally{Ao()}}else if("number"==typeof d){let g=null,v=ul(t,r),C=pa,x=a&en.Host?r[vr][ti]:null;for((-1===v||a&en.SkipSelf)&&(C=-1===v?Lo(t,r):r[v+8],C!==pa&&cd(a,!1)?(g=r[Ct],v=bu(C),r=Us(C,r)):v=-1);-1!==v;){const z=r[Ct];if(oa(d,v,z.data)){const ie=Mh(v,r,s,g,a,x);if(ie!==bs)return ie}C=r[v+8],C!==pa&&cd(a,r[Ct].data[v+8]===x)&&oa(d,v,r)?(g=z,v=bu(C),r=Us(C,r)):v=-1}}return c}function Mh(t,r,s,a,c,d){const g=r[Ct],v=g.data[t+8],z=qo(v,g,s,null==a?hs(v)&&Ru:a!=g&&0!=(3&v.type),c&en.Host&&d===v);return null!==z?Ra(r,g,z,v):bs}function qo(t,r,s,a,c){const d=t.providerIndexes,g=r.data,v=1048575&d,C=t.directiveStart,z=d>>20,we=c?v+z:t.directiveEnd;for(let ke=a?v:v+z;ke<we;ke++){const nt=g[ke];if(ke<C&&s===nt||ke>=C&&nt.type===s)return ke}if(c){const ke=g[C];if(ke&&Dn(ke)&&ke.type===s)return C}return null}function Ra(t,r,s,a){let c=t[s];const d=r.data;if(function Rh(t){return t instanceof Qa}(c)){const g=c;g.resolving&&function st(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new le(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ye(t)}(d[s]));const v=Ph(g.canSeeViewProviders);g.resolving=!0;const x=g.injectImpl?Xn(g.injectImpl):null;$e(t,a,en.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function cp(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=xr(r);(s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==x&&Xn(x),Ph(v),g.resolving=!1,Ao()}}return c}function oa(t,r,s){return!!(s[r+(t>>Wo)]&1<<t)}function cd(t,r){return!(t&en.Self||t&en.Host&&r)}class uo{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Ja(this._tNode,this._lView,r,Qt(a),s)}}function Pu(){return new uo(ps(),at())}function Xa(t){return Ne(()=>{const r=t.prototype.constructor,s=r[vi]||Mu(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[vi]||Mu(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Mu(t){return yt(t)?()=>{const r=Mu(Qe(t));return r&&r()}:ni(t)}function dl(t){const r=t[Ct],s=r.type;return 2===s?r.declTNode:1===s?t[ti]:null}function hl(t){return function ud(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(Ps(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(ps(),t)}const Oi="__parameters__";function _a(t,r,s){return Ne(()=>{const a=function aa(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return v.annotation=g,v;function v(C,x,z){const ie=C.hasOwnProperty(Oi)?C[Oi]:Object.defineProperty(C,Oi,{value:[]})[Oi];for(;ie.length<=z;)ie.push(null);return(ie[z]=ie[z]||[]).push(g),C}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function xu(t,r){t.forEach(s=>Array.isArray(s)?xu(s,r):r(s))}function mc(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function fl(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ku(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function ms(t,r,s){let a=ya(t,r);return a>=0?t[1|a]=s:(a=~a,function gp(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function tu(t,r){const s=ya(t,r);if(s>=0)return t[1|s]}function ya(t,r){return function pd(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const _c=qr(_a("Optional"),8),va=qr(_a("SkipSelf"),4);function Ad(t){return 128==(128&t.flags)}var xa=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(xa||{});const ka=/^>|^->|<!--|-->|--!>|<!-$/g,Tp=/(<|>)/g,wp="\u200b$1\u200b";const ru=new Map;let zh=0;const Cd="__ngContext__";function vs(t,r){Fr(r)?(t[Cd]=r[ds],function Wh(t){ru.set(t[ds],t)}(r)):t[Cd]=r}let Sd;function Qh(t,r){return Sd(t,r)}function Dc(t){const r=t[er];return wi(r)?r[er]:r}function p(t){return F(t[cs])}function w(t){return F(t[Br])}function F(t){for(;null!==t&&!wi(t);)t=t[Br];return t}function Y(t,r,s,a,c){if(null!=a){let d,g=!1;wi(a)?d=a:Fr(a)&&(g=!0,a=a[Kn]);const v=Qn(a);0===t&&null!==s?null==c?Hu(r,s,v):La(r,s,v,c||null,!0):1===t&&null!==s?La(r,s,v,c||null,!0):2===t?function Md(t,r,s){const a=Zh(t,r);a&&function Ny(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,v,g):3===t&&r.destroyNode(v),null!=d&&function km(t,r,s,a,c){const d=s[fi];d!==Qn(s)&&Y(r,t,a,d,c);for(let v=Er;v<s.length;v++){const C=s[v];Ia(C[Ct],C,t,r,a,d)}}(r,t,d,s,c)}}function tt(t,r){return t.createComment(function Hh(t){return t.replace(ka,r=>r.replace(Tp,wp))}(r))}function zt(t,r,s){return t.createElement(r,s)}function Cc(t,r){const s=t[Mo],a=s.indexOf(r);tl(r),s.splice(a,1)}function $u(t,r){if(t.length<=Er)return;const s=Er+r,a=t[s];if(a){const c=a[xs];null!==c&&c!==t&&Cc(c,a),r>0&&(t[s-1][Br]=a[Br]);const d=fl(t,Er+r);!function an(t,r){Ia(t,r,r[on],2,null,null),r[Kn]=null,r[ti]=null}(a[Ct],a);const g=d[ls];null!==g&&g.detachView(d[Ct]),a[er]=null,a[Br]=null,a[Nt]&=-129}return a}function Sc(t,r){if(!(256&r[Nt])){const s=r[on];r[Vi]&&Et(r[Vi]),r[Io]&&Et(r[Io]),s.destroyNode&&Ia(t,r,s,3,null,null),function ua(t){let r=t[cs];if(!r)return bc(t[Ct],t);for(;r;){let s=null;if(Fr(r))s=r[cs];else{const a=r[Er];a&&(s=a)}if(!s){for(;r&&!r[Br]&&r!==t;)Fr(r)&&bc(r[Ct],r),r=r[er];null===r&&(r=t),Fr(r)&&bc(r[Ct],r),s=r&&r[Br]}r=s}}(r)}}function bc(t,r){if(!(256&r[Nt])){r[Nt]&=-129,r[Nt]|=256,function ju(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof Qa)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const v=c[d[g]],C=d[g+1];fs(4,v,C);try{C.call(v)}finally{fs(5,v,C)}}else{fs(4,c,d);try{d.call(c)}finally{fs(5,c,d)}}}}}(t,r),function Yh(t,r){const s=t.cleanup,a=r[Gs];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[Gs]=null);const c=r[ks];if(null!==c){r[ks]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[Ct].type&&r[on].destroy();const s=r[xs];if(null!==s&&wi(r[er])){s!==r[er]&&Cc(s,r);const a=r[ls];null!==a&&a.detachView(t)}!function Mm(t){ru.delete(t[ds])}(r)}}function iu(t,r,s){return function bd(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[Kn];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===Ft.None||d===Ft.Emulated)return null}return Ut(a,s)}}(t,r.parent,s)}function La(t,r,s,a,c){t.insertBefore(r,s,a,c)}function Hu(t,r,s){t.appendChild(r,s)}function Rd(t,r,s,a,c){null!==a?La(t,r,s,a,c):Hu(t,r,s)}function Zh(t,r){return t.parentNode(r)}function Om(t,r,s){return Rc(t,r,s)}let Jh,Xh,nf,rf,Rc=function su(t,r,s){return 40&t.type?Ut(t,s):null};function Pd(t,r,s,a){const c=iu(t,a,r),d=r[on],v=Om(a.parent||r[ti],a,r);if(null!=c)if(Array.isArray(s))for(let C=0;C<s.length;C++)Rd(d,c,s[C],v,!1);else Rd(d,c,s,v,!1);void 0!==Jh&&Jh(d,a,r,s,c)}function Yo(t,r){if(null!==r){const s=r.type;if(3&s)return Ut(r,t);if(4&s)return Pp(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Yo(t,a);{const c=t[r.index];return wi(c)?Pp(-1,c):Qn(c)}}if(32&s)return Qh(r,t)()||Qn(t[r.index]);{const a=Rp(t,r);return null!==a?Array.isArray(a)?a[0]:Yo(Dc(t[vr]),a):Yo(t,r.next)}}return null}function Rp(t,r){return null!==r?t[vr][ti].projection[r.projection]:null}function Pp(t,r){const s=Er+t+1;if(s<r.length){const a=r[s],c=a[Ct].firstChild;if(null!==c)return Yo(a,c)}return r[fi]}function ou(t,r,s,a,c,d,g){for(;null!=s;){const v=a[s.index],C=s.type;if(g&&0===r&&(v&&vs(Qn(v),a),s.flags|=2),32!=(32&s.flags))if(8&C)ou(t,r,s.child,a,c,d,!1),Y(r,t,c,v,d);else if(32&C){const x=Qh(s,a);let z;for(;z=x();)Y(r,t,c,z,d);Y(r,t,c,v,d)}else 16&C?bl(t,r,a,s,c,d):Y(r,t,c,v,d);s=g?s.projectionNext:s.next}}function Ia(t,r,s,a,c,d){ou(s,a,t.firstChild,r,c,d,!1)}function bl(t,r,s,a,c,d){const g=s[vr],C=g[ti].projection[a.projection];if(Array.isArray(C))for(let x=0;x<C.length;x++)Y(r,t,c,C[x],d);else{let x=C;const z=g[er];Ad(a)&&(x.flags|=128),ou(t,r,x,z,c,d,!0)}}function Op(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function xp(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&lo(t,r,a),null!==c&&Op(t,r,c),null!==d&&function Np(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function Mc(t){return function ef(){if(void 0===Xh&&(Xh=null,wn.trustedTypes))try{Xh=wn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xh}()?.createHTML(t)||t}function Ly(t){nf=t}function Pl(){if(void 0!==nf)return nf;if(typeof document<"u")return document;throw new le(210,!1)}function Nc(){if(void 0===rf&&(rf=null,wn.trustedTypes))try{rf=wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rf}function zu(t){return Nc()?.createHTML(t)||t}function kp(t){return Nc()?.createScriptURL(t)||t}class Gu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Mt})`}}class Lm extends Gu{getTypeName(){return"HTML"}}class Fy extends Gu{getTypeName(){return"Style"}}class Lp extends Gu{getTypeName(){return"Script"}}class Fp extends Gu{getTypeName(){return"URL"}}class Fm extends Gu{getTypeName(){return"ResourceURL"}}function Ta(t){return t instanceof Gu?t.changingThisBreaksApplicationSecurity:t}function Wu(t,r){const s=function Vm(t){return t instanceof Gu&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Mt})`)}return s===r}function sf(t){return new Lm(t)}function Vy(t){return new Fy(t)}function Vp(t){return new Lp(t)}function af(t){return new Fp(t)}function Uy(t){return new Fm(t)}class Ml{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Mc(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class xd{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=Mc(r),s}}const Um=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kd(t){return(t=String(t)).match(Um)?t:"unsafe:"+t}function $i(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function Ol(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Ld=$i("area,br,col,hr,img,wbr"),Fd=$i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bp=$i("rp,rt"),uu=Ol(Ld,Ol(Fd,$i("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ol(Bp,$i("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ol(Bp,Fd)),$p=$i("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cu=Ol($p,$i("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$i("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Bm=$i("script,style,template");class jy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!uu.hasOwnProperty(s))return this.sanitizedSomething=!0,!Bm.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let c=0;c<a.length;c++){const d=a.item(c),g=d.name,v=g.toLowerCase();if(!cu.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let C=d.value;$p[v]&&(C=kd(C)),this.buf.push(" ",g,'="',jp(C),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();uu.hasOwnProperty(s)&&!Ld.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(jp(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const $m=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hy=/([^\#-~ |!])/g;function jp(t){return t.replace(/&/g,"&amp;").replace($m,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Hy,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let uf;function Bd(t,r){let s=null;try{uf=uf||function Up(t){const r=new xd(t);return function Nl(){try{return!!(new window.DOMParser).parseFromString(Mc(""),"text/html")}catch{return!1}}()?new Ml(r):r}(t);let a=r?String(r):"";s=uf.getInertBodyElement(a);let c=5,d=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=d,d=s.innerHTML,s=uf.getInertBodyElement(a)}while(a!==d);return Mc((new jy).sanitizeChildren(Hp(s)||s))}finally{if(s){const a=Hp(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Hp(t){return"content"in t&&function zy(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var qu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(qu||{});function jm(t){const r=ss();return r?zu(r.sanitize(qu.HTML,t)||""):Wu(t,"HTML")?zu(Ta(t)):Bd(Pl(),ye(t))}function lu(t){const r=ss();return r?r.sanitize(qu.URL,t)||"":Wu(t,"URL")?Ta(t):kd(ye(t))}function xl(t){const r=ss();if(r)return kp(r.sanitize(qu.RESOURCE_URL,t)||"");if(Wu(t,"ResourceURL"))return kp(Ta(t));throw new le(904,!1)}function qm(t,r,s){return function Wm(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?xl:lu}(r,s)(t)}function ss(){const t=at();return t&&t[ro].sanitizer}const $d=new qt("ENVIRONMENT_INITIALIZER"),Qm=new qt("INJECTOR",-1),Ym=new qt("INJECTOR_DEF_TYPES");class zp{get(r,s=un){if(s===un){const a=new Error(`NullInjectorError: No provider for ${De(r)}!`);throw a.name="NullInjectorError",a}return s}}function jd(t){return{\u0275providers:t}}function Wy(...t){return{\u0275providers:Hd(0,t),\u0275fromNgModule:!0}}function Hd(t,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return xu(r,g=>{const v=g;cf(v,d,[],a)&&(c||=[],c.push(v))}),void 0!==c&&zd(c,d),s}function zd(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];Gd(c,d=>{r(d,a)})}}function cf(t,r,s,a){if(!(t=Qe(t)))return!1;let c=null,d=Vr(t);const g=!d&&gn(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const C=t.ngModule;if(d=Vr(C),!d)return!1;c=C}const v=a.has(c);if(g){if(v)return!1;if(a.add(c),g.dependencies){const C="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const x of C)cf(x,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!v){let x;a.add(c);try{xu(d.imports,z=>{cf(z,r,s,a)&&(x||=[],x.push(z))})}finally{}void 0!==x&&zd(x,r)}if(!v){const x=ni(c)||(()=>new c);r({provide:c,useFactory:x,deps:Tt},c),r({provide:Ym,useValue:c,multi:!0},c),r({provide:$d,useValue:()=>Lt(c),multi:!0},c)}const C=d.providers;if(null!=C&&!v){const x=t;Gd(C,z=>{r(z,x)})}}}return c!==t&&void 0!==t.providers}function Gd(t,r){for(let s of t)At(s)&&(s=s.\u0275providers),Array.isArray(s)?Gd(s,r):r(s)}const Gp=ee({provide:String,useValue:ee});function xc(t){return null!==t&&"object"==typeof t&&Gp in t}function du(t){return"function"==typeof t}const df=new qt("Set Injector scope."),hf={},Zm={};let ff;function kl(){return void 0===ff&&(ff=new zp),ff}class Fa{}class kc extends Fa{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gf(r,g=>this.processProvider(g)),this.records.set(Qm,wa(void 0,this)),c.has("environment")&&this.records.set(Fa,wa(void 0,this));const d=this.records.get(df);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Ym.multi,Tt,en.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=et(this),a=Xn(void 0);try{return r()}finally{et(s),Xn(a)}}get(r,s=un,a=en.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Bs))return r[Bs](this);a=Qt(a);const d=et(this),g=Xn(void 0);try{if(!(a&en.SkipSelf)){let C=this.records.get(r);if(void 0===C){const x=function Xm(t){return"function"==typeof t||"object"==typeof t&&t instanceof qt}(r)&&or(r);C=x&&this.injectableDefInScope(x)?wa(Wp(r),hf):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(a&en.Self?kl():this.parent).get(r,s=a&en.Optional&&s===un?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[Li]=v[Li]||[]).unshift(De(r)),d)throw v;return function Nr(t,r,s,a){const c=t[Li];throw r[G]&&c.unshift(r[G]),t.message=function qe(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=De(r);if(Array.isArray(r))c=r.map(De).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let v=r[g];d.push(g+":"+("string"==typeof v?JSON.stringify(v):De(v)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(W,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[Li]=null,t}(v,r,"R3InjectorError",this.source)}throw v}finally{Xn(g),et(d)}}resolveInjectorInitializers(){const r=et(this),s=Xn(void 0);try{const c=this.get($d.multi,Tt,en.Self);for(const d of c)d()}finally{et(r),Xn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(De(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(r){let s=du(r=Qe(r))?r:Qe(r&&r.provide);const a=function Qy(t){return xc(t)?wa(void 0,t.useValue):wa(Lc(t),hf)}(r);if(du(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=wa(void 0,hf,!0),c.factory=()=>Zn(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===hf&&(s.value=Zm,s.value=s.factory()),"object"==typeof s.value&&s.value&&function pf(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Qe(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Wp(t){const r=or(t),s=null!==r?r.factory:ni(t);if(null!==s)return s;if(t instanceof qt)throw new le(204,!1);if(t instanceof Function)return function Jm(t){const r=t.length;if(r>0)throw ku(r,"?"),new le(204,!1);const s=function kr(t){return t&&(t[yr]||t[Mr])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new le(204,!1)}function Lc(t,r,s){let a;if(du(t)){const c=Qe(t);return ni(c)||Wp(c)}if(xc(t))a=()=>Qe(t.useValue);else if(function lf(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Zn(t.deps||[]));else if(function Wd(t){return!(!t||!t.useExisting)}(t))a=()=>Lt(Qe(t.useExisting));else{const c=Qe(t&&(t.useClass||t.provide));if(!function qp(t){return!!t.deps}(t))return ni(c)||Wp(c);a=()=>new c(...Zn(t.deps))}return a}function wa(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function gf(t,r){for(const s of t)Array.isArray(s)?gf(s,r):s&&At(s)?gf(s.\u0275providers,r):r(s)}const Kp=new qt("AppId",{providedIn:"root",factory:()=>Yy}),Yy="ng",mf=new qt("Platform Initializer"),Qp=new qt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),t_=new qt("AnimationModuleType"),n_=new qt("CSP nonce",{providedIn:"root",factory:()=>Pl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ng=(t,r,s)=>null;function rg(t,r,s=!1){return ng(t,r,s)}class i_{}class Ef{}class nv{resolveComponentFactory(r){throw function og(t){const r=Error(`No component factory found for ${De(t)}.`);return r.ngComponent=t,r}(r)}}let Bc=(()=>{class t{static#e=this.NULL=new nv}return t})();function rv(){return Yu(ps(),at())}function Yu(t,r){return new Zd(Ut(t,r))}let Zd=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=rv}return t})();function ag(t){return t instanceof Zd?t.nativeElement:t}class Jd{}let ug=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function s_(){const t=at(),s=rt(ps().index,t);return(Fr(s)?s:t)[on]}()}return t})(),$l=(()=>{class t{static#e=this.\u0275prov=jt({token:t,providedIn:"root",factory:()=>null})}return t})();class If{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const o_=new If("16.2.12"),cg={};function Af(t,r=null,s=null,a){const c=Cf(t,r,s,a);return c.resolveInjectorInitializers(),c}function Cf(t,r=null,s=null,a,c=new Set){const d=[s||Tt,Wy(t)];return a=a||("object"==typeof t?void 0:De(t)),new kc(d,r||kl(),a||null,c)}let Zo=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=un;static#t=this.NULL=new zp;static create(s,a){if(Array.isArray(s))return Af({name:""},a,s,"");{const c=s.name??"";return Af({name:c},s.parent,s.providers,c)}}static#n=this.\u0275prov=jt({token:t,providedIn:"any",factory:()=>Lt(Qm)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Xd(t){return t.ngOriginalError}class Jo{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Xd(r);for(;s&&Xd(s);)s=Xd(s);return s||null}}function hg(t){return r=>{setTimeout(t,void 0,r)}}const ca=class cv extends y.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const C=r;c=C.next?.bind(C),d=C.error?.bind(C),g=C.complete?.bind(C)}this.__isAsync&&(d=hg(d),c&&(c=hg(c)),g&&(g=hg(g)));const v=super.subscribe({next:c,error:d,complete:g});return r instanceof re.w0&&r.add(v),v}};function Sf(...t){}class Ys{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ca(!1),this.onMicrotaskEmpty=new ca(!1),this.onStable=new ca(!1),this.onError=new ca(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function fg(){const t="function"==typeof wn.requestAnimationFrame;let r=wn[t?"requestAnimationFrame":"setTimeout"],s=wn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function dv(t){const r=()=>{!function pg(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(wn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bf(t),t.isCheckStableRunning=!0,th(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,v)=>{if(function hv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(v))return s.invokeTask(c,d,g,v);try{return l_(t),s.invokeTask(c,d,g,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),gg(t)}},onInvoke:(s,a,c,d,g,v,C)=>{try{return l_(t),s.invoke(c,d,g,v,C)}finally{t.shouldCoalesceRunChangeDetection&&r(),gg(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,bf(t),th(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ys.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(Ys.isInAngularZone())throw new le(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,lv,Sf,Sf);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const lv={};function th(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function l_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gg(t){t._nesting--,th(t)}class d_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ca,this.onMicrotaskEmpty=new ca,this.onStable=new ca,this.onError=new ca}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const mg=new qt("",{providedIn:"root",factory:_g});function _g(){const t=Pt(Ys);let r=!0;const s=new ve.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new ve.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{Ys.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{Ys.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}});return(0,se.T)(s,a.pipe((0,Ee.B)()))}function Da(t){return t instanceof Function?t():t}let Pf=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=jt({token:t,providedIn:"root",factory:()=>new t})}return t})();function Hc(t){for(;t;){t[Nt]|=64;const r=Dc(t);if(qs(t)&&!r)return t;t=r}return null}const Mf=new qt("",{providedIn:"root",factory:()=>!1});let jl=null;function Va(t,r){return t[r]??y_()}function Of(t,r){const s=y_();s.producerNode?.length&&(t[r]=jl,s.lView=t,jl=xf())}const yv={...m,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Hc(t.lView)},lView:null};function xf(){return Object.create(yv)}function y_(){return jl??=xf(),jl}const Gn={};function kf(t){v_(Wn(),at(),Ni()+t,!1)}function v_(t,r,s,a){if(!a)if(3==(3&r[Nt])){const d=t.preOrderCheckHooks;null!==d&&sd(r,d,s)}else{const d=t.preOrderHooks;null!==d&&Su(r,d,0,s)}fa(s)}function ec(t,r=en.Default){const s=at();return null===s?Lt(t,r):Ja(ps(),s,Qe(t),r)}function E_(){throw new Error("invalid")}function Lf(t,r,s,a,c,d,g,v,C,x,z){const ie=r.blueprint.slice();return ie[Kn]=c,ie[Nt]=140|a,(null!==x||t&&2048&t[Nt])&&(ie[Nt]|=2048),jo(ie),ie[er]=ie[pr]=t,ie[ur]=s,ie[ro]=g||t&&t[ro],ie[on]=v||t&&t[on],ie[Os]=C||t&&t[Os]||null,ie[ti]=d,ie[ds]=function Gh(){return zh++}(),ie[io]=z,ie[Eo]=x,ie[vr]=2==r.type?t[vr]:ie,ie}function tc(t,r,s,a,c){let d=t.data[r];if(null===d)d=function Ff(t,r,s,a,c){const d=Hr(),g=Vs(),C=t.data[r]=function Hl(t,r,s,a,c,d){let g=r?r.injectorIndex:-1,v=0;return zo()&&(v|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=C),null!==d&&(g?null==d.child&&null!==C.parent&&(d.child=C):null===d.next&&(d.next=C,C.prev=d)),C}(t,r,s,a,c),function Au(){return An.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function Aa(){const t=An.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return ao(d,!0),d}function zc(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function Dg(t,r,s,a,c){const d=Va(r,Vi),g=Ni(),v=2&a;try{fa(-1),v&&r.length>Cn&&v_(t,r,Cn,!1),fs(v?2:0,c);const x=v?d:null,z=ge(x);try{null!==x&&(x.dirty=!1),s(a,c)}finally{xe(x,z)}}finally{v&&null===r[Vi]&&Of(r,Vi),fa(g),fs(v?3:1,c)}}function Ag(t,r,s){if(Ws(r)){const a=B(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const v=t.data[g];v.contentQueries&&v.contentQueries(1,s[g],g)}}finally{B(a)}}}function Cg(t,r,s){Xt()&&(function Mg(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;hs(s)&&function xg(t,r,s){const a=Ut(r,t),c=I_(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const v=Bf(t,Lf(t,c,null,g,a,r,null,t[ro].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=v}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||Ya(s,r),vs(a,r);const g=s.initialInputs;for(let v=c;v<d;v++){const C=t.data[v],x=Ra(r,t,v,s);vs(x,r),null!==g&&Dv(0,v-c,x,C,0,g),Dn(C)&&(rt(s.index,r)[ur]=Ra(r,t,v,s))}}(t,r,s,Ut(s,r)),64==(64&s.flags)&&ch(t,r,s))}function ih(t,r,s=Ut){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],v=-1===g?s(r,t):t[g];t[c++]=v}}}function I_(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=sh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function sh(t,r,s,a,c,d,g,v,C,x,z){const ie=Cn+a,we=ie+c,ke=function Sg(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Gn);return s}(ie,we),nt="function"==typeof x?x():x;return ke[Ct]={type:t,blueprint:ke,template:s,queries:null,viewQuery:v,declTNode:r,data:ke.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:we,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:C,consts:nt,incompleteFirstPass:!1,ssrId:z}}let oh=t=>null;function Rg(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?ah(s,r,c,d):a.hasOwnProperty(c)&&ah(s,r,a[c],d)}return s}function ah(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function Xo(t,r,s,a,c,d,g,v){const C=Ut(r,s);let z,x=r.inputs;!v&&null!=x&&(z=x[a])?(lh(t,s,z,a,c),hs(r)&&function wv(t,r){const s=rt(r,t);16&s[Nt]||(s[Nt]|=64)}(s,r.index)):3&r.type&&(a=function Tv(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(C,a,c))}function uh(t,r,s,a){if(Xt()){const c=null===a?null:{"":-1},d=function C_(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if(js(r,g.selectors,!1))if(a||(a=[]),Dn(g))if(null!==g.findHostDirectiveDefs){const v=[];c=c||new Map,g.findHostDirectiveDefs(g,v,c),a.unshift(...v,g),nc(t,r,v.length)}else a.unshift(g),nc(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,s);let g,v;null===d?g=v=null:[g,v]=d,null!==g&&Uf(t,r,s,g,c,v),c&&function S_(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new le(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=Bn(s.mergedAttrs,s.attrs)}function Uf(t,r,s,a,c,d){for(let x=0;x<a.length;x++)Fo(Ya(s,r),t,a[x].type);!function b_(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let x=0;x<a.length;x++){const z=a[x];z.providersResolver&&z.providersResolver(z)}let g=!1,v=!1,C=zc(t,r,a.length,null);for(let x=0;x<a.length;x++){const z=a[x];s.mergedAttrs=Bn(s.mergedAttrs,z.hostAttrs),zl(t,s,r,C,z),Og(C,z,c),null!==z.contentQueries&&(s.flags|=4),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(s.flags|=64);const ie=z.type.prototype;!g&&(ie.ngOnChanges||ie.ngOnInit||ie.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),g=!0),!v&&(ie.ngOnChanges||ie.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),v=!0),C++}!function Iv(t,r,s){const c=r.directiveEnd,d=t.data,g=r.attrs,v=[];let C=null,x=null;for(let z=r.directiveStart;z<c;z++){const ie=d[z],we=s?s.get(ie):null,nt=we?we.outputs:null;C=Rg(ie.inputs,z,C,we?we.inputs:null),x=Rg(ie.outputs,z,x,nt);const ft=null===C||null===g||$s(r)?null:Av(C,z,g);v.push(ft)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=8),C.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=v,r.inputs=C,r.outputs=x}(t,s,d)}function ch(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function _(){return An.lFrame.currentDirectiveIndex}();try{fa(d);for(let v=a;v<c;v++){const C=t.data[v],x=r[v];b(v),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Ng(C,x)}}finally{fa(-1),b(g)}}function Ng(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function nc(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function Og(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;Dn(r)&&(s[""]=t)}}function zl(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=ni(c.type)),g=new Qa(d,Dn(c),ec);t.blueprint[a]=g,s[a]=g,function A_(t,r,s,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const v=~r.index;(function Pg(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=v&&g.push(v),g.push(s,a,d)}}(t,r,a,zc(t,s,c.hostVars,Gn),c)}function Ua(t,r,s,a,c,d){const g=Ut(t,r);!function kg(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const v=null==g?ye(d):g(d,a||"",c);t.setAttribute(r,c,v,s)}}(r[on],g,d,t.value,s,a,c)}function Dv(t,r,s,a,c,d){const g=d[r];if(null!==g)for(let v=0;v<g.length;)Lg(a,s,g[v++],g[v++],g[v++])}function Lg(t,r,s,a,c){const d=B(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{B(d)}}function Av(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let v=0;v<g.length;v+=2)if(g[v]===r){a.push(d,g[v+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Fg(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function R_(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=t.data[d];ue(s[a]),g.contentQueries(2,r[d],d)}}}function Bf(t,r){return t[cs]?t[Wi][Br]=r:t[cs]=r,t[Wi]=r,r}function Vg(t,r,s){ue(0);const a=B(null);try{r(t,s)}finally{B(a)}}function P_(t){return t[Gs]||(t[Gs]=[])}function M_(t){return t.cleanup||(t.cleanup=[])}function Ug(t,r,s){return(null===t||Dn(t))&&(s=function As(t){for(;Array.isArray(t);){if("object"==typeof t[Ls])return t;t=t[Kn]}return null}(s[r.index])),s[on]}function Bg(t,r){const s=t[Os],a=s?s.get(Jo,null):null;a&&a.handleError(r)}function lh(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],v=s[d++];Lg(t.data[g],r[g],a,v,c)}}function N_(t,r){const s=rt(r,t),a=s[Ct];!function O_(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[Kn];null!==c&&null===s[io]&&(s[io]=rg(c,s[Os])),Gl(a,s,s[ur])}function Gl(t,r,s){wt(r);try{const a=t.viewQuery;null!==a&&Vg(1,a,s);const c=t.template;null!==c&&Dg(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&R_(t,r),t.staticViewQueries&&Vg(2,t.viewQuery,s);const d=t.components;null!==d&&function _r(t,r){for(let s=0;s<r.length;s++)N_(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Nt]&=-5,Ss()}}let $g=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function He(t,r,s){const a=Object.create(Ln);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>pe(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Je(a))return;a.hasRun=!0;const g=ge(a);try{a.cleanupFn(),a.cleanupFn=_t,a.fn(c)}finally{xe(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,x=>{this.all.has(x)&&this.queue.set(x,d)},c);let v;this.all.add(g),g.notify();const C=()=>{g.cleanup(),v?.(),this.all.delete(g),this.queue.delete(g)};return v=a?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=jt({token:t,providedIn:"root",factory:()=>new t})}return t})();function rc(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const v=r[g];"number"==typeof v?d=v:1==d?c=Ae(c,v):2==d&&(a=Ae(a,v+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function dh(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(Qn(d)),wi(d)&&Zs(d,a);const g=s.type;if(8&g)dh(t,r,s.child,a);else if(32&g){const v=Qh(s,r);let C;for(;C=v();)a.push(C)}else if(16&g){const v=Rp(r,s);if(Array.isArray(v))a.push(...v);else{const C=Dc(r[vr]);dh(C[Ct],C,v,a,!0)}}s=c?s.projectionNext:s.next}return a}function Zs(t,r){for(let s=Er;s<t.length;s++){const a=t[s],c=a[Ct].firstChild;null!==c&&dh(a[Ct],a,c,r)}t[fi]!==t[Kn]&&r.push(t[fi])}function ji(t,r,s,a=!0){const c=r[ro],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{Sv(t,r,t.template,s)}catch(C){throw a&&Bg(r,C),C}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function Sv(t,r,s,a){const c=r[Nt];if(256!=(256&c)){r[ro].effectManager?.flush(),wt(r);try{jo(r),function qa(t){return An.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Dg(t,r,s,2,a);const g=3==(3&c);if(g){const x=t.preOrderCheckHooks;null!==x&&sd(r,x,null)}else{const x=t.preOrderHooks;null!==x&&Su(r,x,0,null),bh(r,0)}if(function _I(t){for(let r=p(t);null!==r;r=w(r)){if(!r[Ii])continue;const s=r[Mo];for(let a=0;a<s.length;a++){el(s[a])}}}(r),jg(r,2),null!==t.contentQueries&&R_(t,r),g){const x=t.contentCheckHooks;null!==x&&sd(r,x)}else{const x=t.contentHooks;null!==x&&Su(r,x,1),bh(r,1)}!function wg(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=Va(r,Io);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)fa(~d);else{const g=d,v=s[++c],C=s[++c];S(v,g),a.dirty=!1;const x=ge(a);try{C(2,r[g])}finally{xe(a,x)}}}}finally{null===r[Io]&&Of(r,Io),fa(-1)}}(t,r);const v=t.components;null!==v&&$f(r,v,0);const C=t.viewQuery;if(null!==C&&Vg(2,C,a),g){const x=t.viewCheckHooks;null!==x&&sd(r,x)}else{const x=t.viewHooks;null!==x&&Su(r,x,2),bh(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Nt]&=-73,tl(r)}finally{Ss()}}}function jg(t,r){for(let s=p(t);null!==s;s=w(s))for(let a=Er;a<s.length;a++)L_(s[a],r)}function k_(t,r,s){L_(rt(r,t),s)}function L_(t,r){if(!function wh(t){return 128==(128&t[Nt])}(t))return;const s=t[Ct],a=t[Nt];if(80&a&&0===r||1024&a||2===r)Sv(s,t,s.template,t[ur]);else if(t[ws]>0){jg(t,1);const c=s.components;null!==c&&$f(t,c,1)}}function $f(t,r,s){for(let a=0;a<r.length;a++)k_(t,r[a],s)}class hh{get rootNodes(){const r=this._lView,s=r[Ct];return dh(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ur]}set context(r){this._lView[ur]=r}get destroyed(){return 256==(256&this._lView[Nt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[er];if(wi(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&($u(r,a),fl(s,a))}this._attachedToViewContainer=!1}Sc(this._lView[Ct],this._lView)}onDestroy(r){!function nl(t,r){if(256==(256&t[Nt]))throw new le(911,!1);null===t[ks]&&(t[ks]=[]),t[ks].push(r)}(this._lView,r)}markForCheck(){Hc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Nt]&=-129}reattach(){this._lView[Nt]|=128}detectChanges(){ji(this._lView[Ct],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function xi(t,r){Ia(t,r,r[on],2,null,null)}(this._lView[Ct],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=r}}class yI extends hh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;ji(r[Ct],r,r[ur],!1)}checkNoChanges(){}get context(){return null}}class gi extends Bc{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=gn(r);return new Wl(s,this.ngModule)}}function bv(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Es{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=Qt(a);const c=this.injector.get(r,cg,a);return c!==cg||s===cg?c:this.parentInjector.get(r,s,a)}}class Wl extends Ef{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=bv(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return bv(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Ei(t){return t.map(na).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof Fa?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new Es(r,d):r,v=g.get(Jd,null);if(null===v)throw new le(407,!1);const ie={rendererFactory:v,sanitizer:g.get($l,null),effectManager:g.get($g,null),afterRenderEventManager:g.get(Pf,null)},we=v.createRenderer(null,this.componentDef),ke=this.componentDef.selectors[0][0]||"div",nt=a?function bg(t,r,s,a){const d=a.get(Mf,!1)||s===Ft.ShadowDom,g=t.selectRootElement(r,d);return function vv(t){oh(t)}(g),g}(we,a,this.componentDef.encapsulation,g):zt(we,ke,function Rv(t){const r=t.toLowerCase();return"svg"===r?ot:"math"===r?"math":null}(ke)),cn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ut=null;null!==nt&&(ut=rg(nt,g,!0));const Hn=sh(0,null,null,1,0,null,null,null,null,null,null),sr=Lf(null,Hn,null,cn,null,null,ie,we,g,null,ut);let mi,da;wt(sr);try{const Xc=this.componentDef;let op,hI=null;Xc.findHostDirectiveDefs?(op=[],hI=new Map,Xc.findHostDirectiveDefs(Xc,op,hI),op.push(Xc)):op=[Xc];const YC=function EI(t,r){const s=t[Ct],a=Cn;return t[a]=r,tc(s,a,2,"#host",null)}(sr,nt),ZC=function F_(t,r,s,a,c,d,g){const v=c[Ct];!function II(t,r,s,a){for(const c of t)r.mergedAttrs=Bn(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(rc(r,r.mergedAttrs,!0),null!==s&&xp(a,s,r))}(a,t,r,g);let C=null;null!==r&&(C=rg(r,c[Os]));const x=d.rendererFactory.createRenderer(r,s);let z=16;s.signals?z=4096:s.onPush&&(z=64);const ie=Lf(c,I_(s),null,z,c[t.index],t,d,x,null,null,C);return v.firstCreatePass&&nc(v,t,a.length-1),Bf(c,ie),c[t.index]=ie}(YC,nt,Xc,op,sr,ie,we);da=St(Hn,Cn),nt&&function wI(t,r,s,a){if(a)lo(t,s,["ng-version",o_.full]);else{const{attrs:c,classes:d}=function fo(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!On(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&lo(t,s,c),d&&d.length>0&&Op(t,s,d.join(" "))}}(we,Xc,nt,a),void 0!==s&&function DI(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(da,this.ngContentSelectors,s),mi=function TI(t,r,s,a,c,d){const g=ps(),v=c[Ct],C=Ut(g,c);Uf(v,c,g,s,null,a);for(let z=0;z<s.length;z++)vs(Ra(c,v,g.directiveStart+z,g),c);ch(v,c,g),C&&vs(C,c);const x=Ra(c,v,g.directiveStart+g.componentOffset,g);if(t[ur]=c[ur]=x,null!==d)for(const z of d)z(x,r);return Ag(v,g,t),x}(ZC,Xc,op,hI,sr,[AI]),Gl(Hn,sr,null)}finally{Ss()}return new vI(this.componentType,mi,Yu(da,sr),sr,da)}}class vI extends i_{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new yI(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;lh(d[Ct],d,c,r,s),this.previousInputValues.set(r,s),Hc(rt(this._tNode.index,d))}}get injector(){return new uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function AI(){const t=ps();Cu(at()[Ct],t)}function V_(t){let r=function Pv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(Dn(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new le(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=ic(t.inputs),g.inputTransforms=ic(t.inputTransforms),g.declaredInputs=ic(t.declaredInputs),g.outputs=ic(t.outputs);const v=c.hostBindings;v&&ql(t,v);const C=c.viewQuery,x=c.contentQueries;if(C&&Mv(t,C),x&&Gc(t,x),ce(t.inputs,c.inputs),ce(t.declaredInputs,c.declaredInputs),ce(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),ce(g.inputTransforms,c.inputTransforms)),Dn(c)&&c.data.animation){const z=t.data;z.animation=(z.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const v=d[g];v&&v.ngInherit&&v(t),v===V_&&(s=!1)}}r=Object.getPrototypeOf(r)}!function U_(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Bn(c.hostAttrs,s=Bn(s,c.hostAttrs))}}(a)}function ic(t){return t===nn?{}:t===Tt?[]:t}function Mv(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function Gc(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function ql(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function Wc(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function sc(t){return!!Kg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Kg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ba(t,r,s){return t[r]=s}function co(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function jf(t,r,s,a){const c=at();return co(c,Zi(),r)&&(Wn(),Ua(pi(),c,t,r,s,a)),jf}function ja(t,r,s,a){return co(t,Zi(),s)?r+ye(s)+a:Gn}function Uv(t,r,s,a,c,d,g,v){const C=at(),x=Wn(),z=t+Cn,ie=x.firstCreatePass?function BI(t,r,s,a,c,d,g,v,C){const x=r.consts,z=tc(r,t,4,g||null,go(x,v));uh(r,s,z,go(x,C)),Cu(r,z);const ie=z.tView=sh(2,z,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,x,null);return null!==r.queries&&(r.queries.template(r,z),ie.queries=r.queries.embeddedTView(z)),z}(z,x,C,r,s,a,c,d,g):x.data[z];ao(ie,!1);const we=Y_(x,C,ie,t);sl()&&Pd(x,C,we,ie),vs(we,C),Bf(C,C[z]=Fg(we,C,we,ie)),sa(ie)&&Cg(x,C,ie),null!=g&&ih(C,ie,v)}let Y_=function Z_(t,r,s,a){return Ka(!0),r[on].createComment("")};function $v(t){return Ge(function il(){return An.lFrame.contextLView}(),Cn+t)}function Jc(t,r,s){const a=at();return co(a,Zi(),r)&&Xo(Wn(),pi(),a,t,r,a[on],s,!1),Jc}function gh(t,r,s,a,c){const g=c?"class":"style";lh(t,s,r.inputs[g],g,a)}function Kf(t,r,s,a){const c=at(),d=Wn(),g=Cn+t,v=c[on],C=d.firstCreatePass?function HI(t,r,s,a,c,d){const g=r.consts,C=tc(r,t,2,a,go(g,c));return uh(r,s,C,go(g,d)),null!==C.attrs&&rc(C,C.attrs,!1),null!==C.mergedAttrs&&rc(C,C.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,C),C}(g,d,c,r,s,a):d.data[g],x=J_(d,c,C,v,r,t);c[g]=x;const z=sa(C);return ao(C,!0),xp(v,x,C),32!=(32&C.flags)&&sl()&&Pd(d,c,x,C),0===function Ho(){return An.lFrame.elementDepthCount}()&&vs(x,c),function dc(){An.lFrame.elementDepthCount++}(),z&&(Cg(d,c,C),Ag(d,C,c)),null!==a&&ih(c,C),Kf}function Qf(){let t=ps();Vs()?ha():(t=t.parent,ao(t,!1));const r=t;(function tr(t){return An.skipHydrationRootTNode===t})(r)&&function Du(){An.skipHydrationRootTNode=null}(),function jr(){An.lFrame.elementDepthCount--}();const s=Wn();return s.firstCreatePass&&(Cu(s,t),Ws(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function al(t){return 0!=(8&t.flags)}(r)&&gh(s,r,at(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function oi(t){return 0!=(16&t.flags)}(r)&&gh(s,r,at(),r.stylesWithoutHost,!1),Qf}function Jg(t,r,s,a){return Kf(t,r,s,a),Qf(),Jg}let J_=(t,r,s,a,c,d)=>(Ka(!0),zt(a,c,function Sh(){return An.lFrame.currentNamespace}()));function Xg(t,r,s){const a=at(),c=Wn(),d=t+Cn,g=c.firstCreatePass?function GI(t,r,s,a,c){const d=r.consts,g=go(d,a),v=tc(r,t,8,"ng-container",g);return null!==g&&rc(v,g,!0),uh(r,s,v,go(d,c)),null!==r.queries&&r.queries.elementStart(r,v),v}(d,c,a,r,s):c.data[d];ao(g,!0);const v=X_(c,a,g,t);return a[d]=v,sl()&&Pd(c,a,v,g),vs(v,a),sa(g)&&(Cg(c,a,g),Ag(c,g,a)),null!=s&&ih(a,g),Xg}function em(){let t=ps();const r=Wn();return Vs()?ha():(t=t.parent,ao(t,!1)),r.firstCreatePass&&(Cu(r,t),Ws(t)&&r.queries.elementEnd(t)),em}function tm(t,r,s){return Xg(t,r,s),em(),tm}let X_=(t,r,s,a)=>(Ka(!0),tt(r[on],""));function ey(){return at()}function nm(t){return!!t&&"function"==typeof t.then}function mh(t){return!!t&&"function"==typeof t.subscribe}function rm(t,r,s,a){const c=at(),d=Wn(),g=ps();return zv(d,c,c[on],g,t,r,a),rm}function ty(t,r){const s=ps(),a=at(),c=Wn();return zv(c,a,Ug(O(c.data),s,a),s,t,r),ty}function zv(t,r,s,a,c,d,g){const v=sa(a),x=t.firstCreatePass&&M_(t),z=r[ur],ie=P_(r);let we=!0;if(3&a.type||g){const ft=Ut(a,r),Ht=g?g(ft):ft,cn=ie.length,ut=g?sr=>g(Qn(sr[a.index])):a.index;let Hn=null;if(!g&&v&&(Hn=function qI(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const v=r[Gs],C=c[d+2];return v.length>C?v[C]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==Hn)(Hn.__ngLastListenerFn__||Hn).__ngNextListenerFn__=d,Hn.__ngLastListenerFn__=d,we=!1;else{d=Wv(a,r,z,d,!1);const sr=s.listen(Ht,c,d);ie.push(d,sr),x&&x.push(c,ut,cn,cn+1)}}else d=Wv(a,r,z,d,!1);const ke=a.outputs;let nt;if(we&&null!==ke&&(nt=ke[c])){const ft=nt.length;if(ft)for(let Ht=0;Ht<ft;Ht+=2){const mi=r[nt[Ht]][nt[Ht+1]].subscribe(d),da=ie.length;ie.push(d,mi),x&&x.push(c,a.index,da,-(da+1))}}}function Gv(t,r,s,a){try{return fs(6,r,s),!1!==s(a)}catch(c){return Bg(t,c),!1}finally{fs(7,r,s)}}function Wv(t,r,s,a,c){return function d(g){if(g===Function)return a;Hc(t.componentOffset>-1?rt(t.index,r):r);let C=Gv(r,s,a,g),x=d.__ngNextListenerFn__;for(;x;)C=Gv(r,s,x,g)&&C,x=x.__ngNextListenerFn__;return c&&!1===C&&g.preventDefault(),C}}function qv(t=1){return function Go(t){return(An.lFrame.contextLView=function Ca(t,r){for(;t>0;)r=r[pr],t--;return r}(t,An.lFrame.contextLView))[ur]}(t)}function KI(t,r){let s=null;const a=function mo(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(t);for(let c=0;c<r.length;c++){const d=r[c];if("*"!==d){if(null===a?js(t,d,!0):zi(a,d))return c}else s=c}return s}function Kv(t){const r=at()[vr][ti];if(!r.projection){const a=r.projection=ku(t?t.length:1,null),c=a.slice();let d=r.child;for(;null!==d;){const g=t?KI(d,t):0;null!==g&&(c[g]?c[g].projectionNext=d:a[g]=d,c[g]=d),d=d.next}}}function im(t,r=0,s){const a=at(),c=Wn(),d=tc(c,Cn+t,16,null,s||null);null===d.projection&&(d.projection=r),ha(),(!a[io]||zo())&&32!=(32&d.flags)&&function Pc(t,r,s){bl(r[on],0,r,s,iu(t,s,r),Om(s.parent||r[ti],s,r))}(c,a,d)}function sm(t,r,s){return ny(t,"",r,"",s),sm}function ny(t,r,s,a,c){const d=at(),g=ja(d,r,s,a);return g!==Gn&&Xo(Wn(),pi(),d,t,g,d[on],c,!1),ny}function Zf(t,r){return t<<17|r<<2}function Eu(t){return t>>17&32767}function cm(t){return 2|t}function Iu(t){return(131068&t)>>2}function lm(t,r){return-131069&t|r<<2}function Xf(t){return 1|t}function ry(t,r,s,a,c){const d=t[s+1],g=null===r;let v=a?Eu(d):Iu(d),C=!1;for(;0!==v&&(!1===C||g);){const z=t[v+1];iy(t[v],r)&&(C=!0,t[v+1]=a?Xf(z):cm(z)),v=a?Eu(z):Iu(z)}C&&(t[s+1]=a?cm(d):Xf(d))}function iy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&ya(t,r)>=0}const Is={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sy(t){return t.substring(Is.key,Is.keyEnd)}function nE(t,r){const s=Is.textEnd;return s===r?-1:(r=Is.keyEnd=function ep(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,Is.key=r,s),yh(t,r,s))}function yh(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function hm(t,r,s){return Ga(t,r,s,!1),hm}function fm(t,r){return Ga(t,r,null,!0),fm}function dy(t){Wa(sT,Tu,t,!0)}function Tu(t,r){for(let s=function tE(t){return function uy(t){Is.key=0,Is.keyEnd=0,Is.value=0,Is.valueEnd=0,Is.textEnd=t.length}(t),nE(t,yh(t,0,Is.textEnd))}(r);s>=0;s=nE(r,s))ms(t,sy(r),!0)}function Ga(t,r,s,a){const c=at(),d=Wn(),g=Do(2);d.firstUpdatePass&&hy(d,t,g,a),r!==Gn&&co(c,g,r)&&oE(d,d.data[Ni()],c,c[on],t,c[g+1]=function aT(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=De(Ta(t)))),t}(r,s),a,g)}function Wa(t,r,s,a){const c=Wn(),d=Do(2);c.firstUpdatePass&&hy(c,null,d,a);const g=at();if(s!==Gn&&co(g,d,s)){const v=c.data[Ni()];if(py(v,a)&&!iE(c,d)){let C=a?v.classesWithoutHost:v.stylesWithoutHost;null!==C&&(s=Ae(C,s||"")),gh(c,v,g,s,a)}else!function oT(t,r,s,a,c,d,g,v){c===Gn&&(c=Tt);let C=0,x=0,z=0<c.length?c[0]:null,ie=0<d.length?d[0]:null;for(;null!==z||null!==ie;){const we=C<c.length?c[C+1]:void 0,ke=x<d.length?d[x+1]:void 0;let ft,nt=null;z===ie?(C+=2,x+=2,we!==ke&&(nt=ie,ft=ke)):null===ie||null!==z&&z<ie?(C+=2,nt=z):(x+=2,nt=ie,ft=ke),null!==nt&&oE(t,r,s,a,nt,ft,g,v),z=C<c.length?c[C]:null,ie=x<d.length?d[x]:null}}(c,v,g,g[on],g[d+1],g[d+1]=function iT(t,r,s){if(null==s||""===s)return Tt;const a=[],c=Ta(s);if(Array.isArray(c))for(let d=0;d<c.length;d++)t(a,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&t(a,d,c[d]);else"string"==typeof c&&r(a,c);return a}(t,r,s),a,d)}}function iE(t,r){return r>=t.expandoStartIndex}function hy(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[Ni()],g=iE(t,s);py(d,a)&&null===r&&!g&&(r=!1),r=function eT(t,r,s,a){const c=O(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=np(s=fy(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=fy(c,t,r,s,a),null===d){let C=function tT(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Iu(a))return t[Eu(a)]}(t,r,a);void 0!==C&&Array.isArray(C)&&(C=fy(null,t,r,C[1],a),C=np(C,r.attrs,a),function nT(t,r,s,a){t[Eu(s?r.classBindings:r.styleBindings)]=a}(t,r,a,C))}else d=function rT(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=np(a,t[d].hostAttrs,s);return np(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function dm(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,v=Eu(g),C=Iu(g);t[a]=s;let z,x=!1;if(Array.isArray(s)?(z=s[1],(null===z||ya(s,z)>0)&&(x=!0)):z=s,c)if(0!==C){const we=Eu(t[v+1]);t[a+1]=Zf(we,v),0!==we&&(t[we+1]=lm(t[we+1],a)),t[v+1]=function um(t,r){return 131071&t|r<<17}(t[v+1],a)}else t[a+1]=Zf(v,0),0!==v&&(t[v+1]=lm(t[v+1],a)),v=a;else t[a+1]=Zf(C,0),0===v?v=a:t[C+1]=lm(t[C+1],a),C=a;x&&(t[a+1]=cm(t[a+1])),ry(t,z,a,!0),ry(t,z,a,!1),function eE(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&ya(d,r)>=0&&(s[a+1]=Xf(s[a+1]))}(r,z,t,a,d),g=Zf(v,C),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}function fy(t,r,s,a,c){let d=null;const g=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<g&&(d=r[v],a=np(a,d.hostAttrs,c),d!==t);)v++;return null!==t&&(s.directiveStylingLast=v),a}function np(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ms(t,g,!!s||r[++d]))}return void 0===t?null:t}function sT(t,r,s){const a=String(r);""!==a&&!a.includes(" ")&&ms(t,a,s)}function oE(t,r,s,a,c,d,g,v){if(!(3&r.type))return;const C=t.data,x=C[v+1],z=function QI(t){return 1==(1&t)}(x)?aE(C,r,s,c,Iu(x),g):void 0;pm(z)||(pm(d)||function Jf(t){return 2==(2&t)}(x)&&(d=aE(C,null,s,c,v,g)),function Mp(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:xa.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=xa.Important),t.setStyle(s,a,c,d))}}(a,g,Bt(Ni(),s),c,d))}function aE(t,r,s,a,c,d){const g=null===r;let v;for(;c>0;){const C=t[c],x=Array.isArray(C),z=x?C[1]:C,ie=null===z;let we=s[c+1];we===Gn&&(we=ie?Tt:void 0);let ke=ie?tu(we,a):z===a?we:void 0;if(x&&!pm(ke)&&(ke=tu(C,a)),pm(ke)&&(v=ke,g))return v;const nt=t[c+1];c=g?Eu(nt):Iu(nt)}if(null!==r){let C=d?r.residualClasses:r.residualStyles;null!=C&&(v=tu(C,a))}return v}function pm(t){return void 0!==t}function py(t,r){return 0!=(t.flags&(r?8:16))}function uE(t,r=""){const s=at(),a=Wn(),c=t+Cn,d=a.firstCreatePass?tc(a,c,1,r,null):a.data[c],g=cE(a,s,d,r,t);s[c]=g,sl()&&Pd(a,s,g,d),ao(d,!1)}let cE=(t,r,s,a,c)=>(Ka(!0),function Ie(t,r){return t.createText(r)}(r[on],a));function gy(t){return gm("",t,""),gy}function gm(t,r,s){const a=at(),c=ja(a,t,r,s);return c!==Gn&&function pu(t,r,s){const a=Bt(r,t);!function Ke(t,r,s){t.setValue(r,s)}(t[on],a,s)}(a,Ni(),c),gm}function _E(t,r,s){Wa(ms,Tu,ja(at(),t,r,s),!0)}function _y(t,r,s){const a=at();return co(a,Zi(),r)&&Xo(Wn(),pi(),a,t,r,a[on],s,!0),_y}function mm(t,r,s){const a=at();if(co(a,Zi(),r)){const d=Wn(),g=pi();Xo(d,g,a,t,r,Ug(O(d.data),g,a),s,!0)}return mm}const Xl=void 0;var ST=["en",[["a","p"],["AM","PM"],Xl],[["AM","PM"],Xl,Xl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xl,"{1} 'at' {0}",Xl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CT(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let vh={};function yy(t){const r=function RT(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=RE(r);if(s)return s;const a=r.split("-")[0];if(s=RE(a),s)return s;if("en"===a)return ST;throw new le(701,!1)}function bE(t){return yy(t)[Eh.PluralCase]}function RE(t){return t in vh||(vh[t]=wn.ng&&wn.ng.common&&wn.ng.common.locales&&wn.ng.common.locales[t]),vh[t]}var Eh=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Eh||{});const ed="en-US";let u=ed;function xE(t,r,s,a,c){if(t=Qe(t),Array.isArray(t))for(let d=0;d<t.length;d++)xE(t[d],r,s,a,c);else{const d=Wn(),g=at(),v=ps();let C=du(t)?t:Qe(t.provide);const x=Lc(t),z=1048575&v.providerIndexes,ie=v.directiveStart,we=v.providerIndexes>>20;if(du(t)||!t.multi){const ke=new Qa(x,c,ec),nt=LE(C,r,c?z:z+we,ie);-1===nt?(Fo(Ya(v,g),d,C),kE(d,t,r.length),r.push(C),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(ke),g.push(ke)):(s[nt]=ke,g[nt]=ke)}else{const ke=LE(C,r,z+we,ie),nt=LE(C,r,z,z+we),Ht=nt>=0&&s[nt];if(c&&!Ht||!c&&!(ke>=0&&s[ke])){Fo(Ya(v,g),d,C);const cn=function wD(t,r,s,a,c){const d=new Qa(t,s,ec);return d.multi=[],d.index=r,d.componentProviders=0,KT(d,c,a&&!s),d}(c?TD:ID,s.length,c,a,x);!c&&Ht&&(s[nt].providerFactory=cn),kE(d,t,r.length,0),r.push(C),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(cn),g.push(cn)}else kE(d,t,ke>-1?ke:nt,KT(s[c?nt:ke],x,!c&&a));!c&&a&&Ht&&s[nt].componentProviders++}}}function kE(t,r,s,a){const c=du(r),d=function Ky(t){return!!t.useClass}(r);if(c||d){const C=(d?Qe(r.useClass):r).prototype.ngOnDestroy;if(C){const x=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const z=x.indexOf(s);-1===z?x.push(s,[a,C]):x[z+1].push(a,C)}else x.push(s,C)}}}function KT(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function LE(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function ID(t,r,s,a){return FE(this.multi,[])}function TD(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=Ra(s,s[Ct],this.providerFactory.index,a);d=v.slice(0,g),FE(c,d);for(let C=g;C<v.length;C++)d.push(v[C])}else d=[],FE(c,d);return d}function FE(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function QT(t,r=[]){return s=>{s.providersResolver=(a,c)=>function ED(t,r,s){const a=Wn();if(a.firstCreatePass){const c=Dn(t);xE(s,a.data,a.blueprint,c,!0),xE(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Ih{}class YT{}function DD(t,r){return new VE(t,r??null,[])}class VE extends Ih{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gi(this);const c=ei(r);this._bootstrapComponents=Da(c.bootstrap),this._r3Injector=Cf(r,s,[{provide:Ih,useValue:this},{provide:Bc,useValue:this.componentFactoryResolver},...a],De(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class UE extends YT{constructor(r){super(),this.moduleType=r}create(r){return new VE(this.moduleType,r,[])}}class ZT extends Ih{constructor(r){super(),this.componentFactoryResolver=new gi(this),this.instance=null;const s=new kc([...r.providers,{provide:Ih,useValue:this},{provide:Bc,useValue:this.componentFactoryResolver}],r.parent||kl(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function JT(t,r,s=null){return new ZT({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let CD=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=Hd(0,s.type),c=a.length>0?JT([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=jt({token:t,providedIn:"environment",factory:()=>new t(Lt(Fa))})}return t})();function XT(t){t.getStandaloneInjector=r=>r.get(CD).getOrCreateStandaloneInjector(t)}function ow(t,r,s,a){return uw(at(),Cs(),t,r,s,a)}function aw(t,r,s,a,c){return function cw(t,r,s,a,c,d,g){const v=r+s;return function oc(t,r,s,a){const c=co(t,r,s);return co(t,r+1,a)||c}(t,v,c,d)?Ba(t,v+2,g?a.call(g,c,d):a(c,d)):vm(t,v+2)}(at(),Cs(),t,r,s,a,c)}function vm(t,r){const s=t[r];return s===Gn?void 0:s}function uw(t,r,s,a,c,d){const g=r+s;return co(t,g,c)?Ba(t,g+1,d?a.call(d,c):a(c)):vm(t,g+1)}function fw(t,r){const s=Wn();let a;const c=t+Cn;s.firstCreatePass?(a=function HD(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks??=[]).push(c,a.onDestroy)):a=s.data[c];const d=a.factory||(a.factory=ni(a.type)),v=Xn(ec);try{const C=Ph(!1),x=d();return Ph(C),function Bv(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,at(),c,x),x}finally{Xn(v)}}function pw(t,r,s){const a=t+Cn,c=at(),d=Ge(c,a);return function Em(t,r){return t[Ct].data[r].pure}(c,a)?uw(c,Cs(),r,d.transform,s,d):d.transform(s)}function KD(){return this._results[Symbol.iterator]()}class Iy{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ca)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Iy.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=KD)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function Uo(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function fp(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function YD(t,r,s,a=!0){const c=r[Ct];if(function Ac(t,r,s,a){const c=Er+a,d=s.length;a>0&&(s[c-1][Br]=r),a<d-Er?(r[Br]=s[c],mc(s,Er+a,r)):(s.push(r),r[Br]=null),r[er]=s;const g=r[xs];null!==g&&s!==g&&function Bu(t,r){const s=t[Mo];r[vr]!==r[er][er][vr]&&(t[Ii]=!0),null===s?t[Mo]=[r]:s.push(r)}(g,r);const v=r[ls];null!==v&&v.insertView(t),r[Nt]|=128}(c,r,t,s),a){const d=Pp(s,t),g=r[on],v=Zh(g,t[fi]);null!==v&&function Yn(t,r,s,a,c,d){a[Kn]=c,a[ti]=r,Ia(t,a,s,1,c,d)}(c,t[ti],g,r,v,d)}}let Im=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=XD}return t})();const ZD=Im,JD=class extends ZD{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function QD(t,r,s,a){const c=r.tView,v=Lf(t,c,s,4096&t[Nt]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);v[xs]=t[r.index];const x=t[ls];return null!==x&&(v[ls]=x.createEmbeddedView(c)),Gl(c,v,s),v}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new hh(c)}};function XD(){return Ty(ps(),at())}function Ty(t,r){return 4&t.type?new JD(r,t,Yu(t,r)):null}let Dy=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=sA}return t})();function sA(){return Iw(ps(),at())}const oA=Dy,vw=class extends oA{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Yu(this._hostTNode,this._hostLView)}get injector(){return new uo(this._hostTNode,this._hostLView)}get parentInjector(){const r=Lo(this._hostTNode,this._hostLView);if(Ar(r)){const s=Us(r,this._hostLView),a=bu(r);return new uo(s[Ct].data[a+8],s)}return new uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=Ew(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-Er}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const v=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(v,c,false),v}createComponent(r,s,a,c,d){const g=r&&!function Ou(t){return"function"==typeof t}(r);let v;if(g)v=s;else{const ft=s||{};v=ft.index,a=ft.injector,c=ft.projectableNodes,d=ft.environmentInjector||ft.ngModuleRef}const C=g?r:new Wl(gn(r)),x=a||this.parentInjector;if(!d&&null==C.ngModule){const Ht=(g?x:this.parentInjector).get(Fa,null);Ht&&(d=Ht)}gn(C.componentType??{});const ke=C.create(x,c,null,d);return this.insertImpl(ke.hostView,v,false),ke}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function Dh(t){return wi(t[er])}(c)){const C=this.indexOf(r);if(-1!==C)this.detach(C);else{const x=c[er],z=new vw(x,x[ti],x[er]);z.detach(z.indexOf(r))}}const g=this._adjustIndex(s),v=this._lContainer;return YD(v,c,g,!a),r.attachToViewContainerRef(),mc($E(v),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=Ew(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=$u(this._lContainer,s);a&&(fl($E(this._lContainer),s),Sc(a[Ct],a))}detach(r){const s=this._adjustIndex(r,-1),a=$u(this._lContainer,s);return a&&null!=fl($E(this._lContainer),s)?new hh(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function Ew(t){return t[8]}function $E(t){return t[8]||(t[8]=[])}function Iw(t,r){let s;const a=r[t.index];return wi(a)?s=a:(s=Fg(a,r,null,t),r[t.index]=s,Bf(r,s)),Tw(s,r,t,a),new vw(s,t,r)}let Tw=function ww(t,r,s,a){if(t[fi])return;let c;c=8&s.type?Qn(a):function aA(t,r){const s=t[on],a=s.createComment(""),c=Ut(r,t);return La(s,Zh(s,c),a,function xy(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[fi]=c};class jE{constructor(r){this.queryList=r,this.matches=null}clone(){return new jE(this.queryList)}setDirty(){this.queryList.setDirty()}}class HE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new HE(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==Nw(r,s).matches&&this.queries[s].setDirty()}}class Dw{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class zE{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new zE(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class GE{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new GE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,lA(s,d)),this.matchTNodeWithReadOption(r,s,qo(s,r,d,!1,!1))}else a===Im?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,qo(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Zd||c===Dy||c===Im&&4&s.type)this.addMatch(s.index,-2);else{const d=qo(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function lA(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function hA(t,r,s,a){return-1===s?function dA(t,r){return 11&t.type?Yu(t,r):4&t.type?Ty(t,r):null}(r,t):-2===s?function fA(t,r,s){return s===Zd?Yu(r,t):s===Im?Ty(r,t):s===Dy?Iw(r,t):void 0}(t,r,a):Ra(t,t[Ct],s,r)}function Aw(t,r,s,a){const c=r[ls].queries[a];if(null===c.matches){const d=t.data,g=s.matches,v=[];for(let C=0;C<g.length;C+=2){const x=g[C];v.push(x<0?null:hA(r,d[x],g[C+1],s.metadata.read))}c.matches=v}return c.matches}function WE(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=Aw(t,r,c,s);for(let v=0;v<d.length;v+=2){const C=d[v];if(C>0)a.push(g[v/2]);else{const x=d[v+1],z=r[-C];for(let ie=Er;ie<z.length;ie++){const we=z[ie];we[xs]===we[er]&&WE(we[Ct],we,x,a)}if(null!==z[Mo]){const ie=z[Mo];for(let we=0;we<ie.length;we++){const ke=ie[we];WE(ke[Ct],ke,x,a)}}}}}return a}function Cw(t){const r=at(),s=Wn(),a=K();ue(a+1);const c=Nw(s,a);if(t.dirty&&function ns(t){return 4==(4&t[Nt])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?WE(s,r,a,[]):Aw(s,r,c,a);t.reset(d,ag),t.notifyOnChanges()}return!0}return!1}function Sw(t,r,s){const a=Wn();a.firstCreatePass&&(Mw(a,new Dw(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),Pw(a,at(),r)}function bw(t,r,s,a){const c=Wn();if(c.firstCreatePass){const d=ps();Mw(c,new Dw(r,s,a),d.index),function gA(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}Pw(c,at(),s)}function Rw(){return function pA(t,r){return t[ls].queries[r].queryList}(at(),K())}function Pw(t,r,s){const a=new Iy(4==(4&s));(function w_(t,r,s,a){const c=P_(r);c.push(s),t.firstCreatePass&&M_(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[ls]&&(r[ls]=new HE),r[ls].queries.push(new jE(a))}function Mw(t,r,s){null===t.queries&&(t.queries=new zE),t.queries.track(new GE(r,s))}function Nw(t,r){return t.queries.getByIndex(r)}function Ow(t,r){return Ty(t,r)}function qE(t){return!!ei(t)}const Yw=new qt("Application Initializer");let JE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=Pt(Yw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(nm(d))s.push(d);else if(mh(d)){const g=new Promise((v,C)=>{d.subscribe({complete:v,error:C})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Zw=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Cy=new qt("LocaleId",{providedIn:"root",factory:()=>Pt(Cy,en.Optional|en.SkipSelf)||function LA(){return typeof $localize<"u"&&$localize.locale||ed}()}),FA=new qt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Jw=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Z.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class UA{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let BA=(()=>{class t{compileModuleSync(s){return new UE(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=Da(ei(s).declarations).reduce((g,v)=>{const C=gn(v);return C&&g.push(new Wl(C)),g},[]);return new UA(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const n0=new qt(""),r0=new qt("");let tI,uC=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tI||(function cC(t){tI=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ys.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(Lt(Ys),Lt(s0),Lt(r0))};static#t=this.\u0275prov=jt({token:t,factory:t.\u0275fac})}return t})(),s0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return tI?.findTestabilityInTree(this,s,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),td=null;const o0=new qt("AllowMultipleToken"),nI=new qt("PlatformDestroyListeners"),rI=new qt("appBootstrapListener");class hC{constructor(r,s){this.name=r,this.token=s}}function c0(t,r,s=[]){const a=`Platform: ${r}`,c=new qt(a);return(d=[])=>{let g=iI();if(!g||g.injector.get(o0,!1)){const v=[...s,...d,{provide:c,useValue:!0}];t?t(v):function fC(t){if(td&&!td.get(o0,!1))throw new le(400,!1);(function a0(){!function Yi(t){Ds=t}(()=>{throw new le(600,!1)})})(),td=t;const r=t.get(d0);(function u0(t){t.get(mf,null)?.forEach(s=>s())})(t)}(function l0(t=[],r){return Zo.create({name:r,providers:[{provide:df,useValue:"platform"},{provide:nI,useValue:new Set([()=>td=null])},...t]})}(v,a))}return function gC(t){const r=iI();if(!r)throw new le(401,!1);return r}()}}function iI(){return td?.get(d0)??null}let d0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function mC(t="zone.js",r){return"noop"===t?new d_:"zone.js"===t?new Ys(r):t}(a?.ngZone,function h0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function AD(t,r,s){return new VE(t,r,s)}(s.moduleType,this.injector,function _0(t){return[{provide:Ys,useFactory:t},{provide:$d,multi:!0,useFactory:()=>{const r=Pt(yC,{optional:!0});return()=>r.initialize()}},{provide:m0,useFactory:_C},{provide:mg,useFactory:_g}]}(()=>c)),g=d.injector.get(Jo,null);return c.runOutsideAngular(()=>{const v=c.onError.subscribe({next:C=>{g.handleError(C)}});d.onDestroy(()=>{by(this._modules,d),v.unsubscribe()})}),function f0(t,r,s){try{const a=s();return nm(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const v=d.injector.get(JE);return v.runInitializers(),v.donePromise.then(()=>(function l(t){Ce(t,"Expected localeId to be defined"),"string"==typeof t&&(u=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(Cy,ed)||ed),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=p0({},a);return function lC(t,r,s){const a=new UE(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(sp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new le(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(nI,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(Lt(Zo))};static#t=this.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function p0(t,r){return Array.isArray(r)?r.reduce(p0,t):{...t,...r}}let sp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Pt(m0),this.zoneIsStable=Pt(mg),this.componentTypes=[],this.components=[],this.isStable=Pt(Jw).hasPendingTasks.pipe((0,Me.w)(s=>s?(0,X.of)(!1):this.zoneIsStable),(0,me.x)(),(0,Ee.B)()),this._injector=Pt(Fa)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Ef;if(!this._injector.get(JE).done)throw!c&&Fi(s),new le(405,!1);let g;g=c?s:this._injector.get(Bc).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const v=function dC(t){return t.isBoundToModule}(g)?void 0:this._injector.get(Ih),x=g.create(Zo.NULL,[],a||g.selector,v),z=x.location.nativeElement,ie=x.injector.get(n0,null);return ie?.registerApplication(z),x.onDestroy(()=>{this.detachView(x.hostView),by(this.components,x),ie?.unregisterApplication(z)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;by(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(rI,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>by(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new le(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function by(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const m0=new qt("",{providedIn:"root",factory:()=>Pt(Jo).handleError.bind(void 0)});function _C(){const t=Pt(Ys),r=Pt(Jo);return s=>t.runOutsideAngular(()=>r.handleError(s))}let yC=(()=>{class t{constructor(){this.zone=Pt(Ys),this.applicationRef=Pt(sp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=jt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let EC=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=IC}return t})();function IC(t){return function TC(t,r,s){if(hs(t)&&!s){const a=rt(t.index,r);return new hh(a,a)}return 47&t.type?new hh(r[vr],r):null}(ps(),at(),16==(16&t))}class I0{constructor(){}supports(r){return sc(r)}create(r){return new bC(r)}}const SC=(t,r)=>r;class bC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||SC}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<w0(a,c,d)?s:a,v=w0(g,c,d),C=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const x=v-c,z=C-c;if(x!=z){for(let we=0;we<x;we++){const ke=we<d.length?d[we]:d[we]=0,nt=ke+we;z<=nt&&nt<x&&(d[we]=ke+1)}d[g.previousIndex]=z-x}}v!==C&&r(g,v,C)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!sc(r))throw new le(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let v=0;v<this.length;v++)d=r[v],g=this._trackByFn(v,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,v)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,v),a=!0),s=s._next}else c=0,function qg(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,v=>{g=this._trackByFn(c,v),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,v,g,c)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new RC(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new T0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new T0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class RC{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class T0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new PC,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function w0(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class D0{constructor(){}supports(r){return r instanceof Map||Kg(r)}create(){return new MC}}class MC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Kg(r)))throw new le(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new NC(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class NC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function A0(){return new cI([new I0])}let cI=(()=>{class t{static#e=this.\u0275prov=jt({token:t,providedIn:"root",factory:A0});constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||A0()),deps:[[t,new va,new _c]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new le(901,!1)}}return t})();function C0(){return new lI([new D0])}let lI=(()=>{class t{static#e=this.\u0275prov=jt({token:t,providedIn:"root",factory:C0});constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||C0()),deps:[[t,new va,new _c]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new le(901,!1)}}return t})();const kC=c0(null,"core",[]);let LC=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(a){return new(a||t)(Lt(sp))};static#t=this.\u0275mod=to({type:t});static#n=this.\u0275inj=dn({})}return t})();function qC(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function QC(t){const r=gn(t);if(!r)return null;const s=new Wl(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},721:(bt,Be,U)=>{U.d(Be,{Ot:()=>se,ZF:()=>yt,hX:()=>Ae,z6:()=>Z});var y=U(3182),re=U(5879),ve=U(1920);class se{constructor(We){return We}}class Z{constructor(){return(0,y.C6)()}}const Me=new re.OlP("angularfire2._apps"),me={provide:se,useFactory:function Ee(le){return le&&1===le.length?le[0]:new se((0,y.Mq)())},deps:[[new re.FiY,Me]]},ee={provide:Z,deps:[[new re.FiY,Me]]};function ce(le){return(We,ye)=>{const Ye=We.runOutsideAngular(()=>le(ye));return new se(Ye)}}let De=(()=>{class le{constructor(ye){(0,y.KN)("angularfire",ve.q4.full,"core"),(0,y.KN)("angularfire",ve.q4.full,"app"),(0,y.KN)("angular",re.q4F.full,ye.toString())}static \u0275fac=function(Ye){return new(Ye||le)(re.LFG(re.Lbi))};static \u0275mod=re.oAB({type:le});static \u0275inj=re.cJS({providers:[me,ee]})}return le})();function Ae(le,...We){return{ngModule:De,providers:[{provide:Me,useFactory:ce(le),multi:!0,deps:[re.R0b,re.zs3,ve.HU,...We]}]}}const yt=(0,ve.u3)(y.ZF,!0)},3435:(bt,Be,U)=>{U.d(Be,{gx:()=>So,dh:()=>Uh,Xb:()=>Vu,v0:()=>Ep,AR:()=>vp,w$:()=>wl,e5:()=>vs,w7:()=>Dl});var y=U(1920),re=U(5879),ve=U(721),se=U(3182),Z=U(5861),X=U(9058),Ee=U(534),Me=U(7879),me=U(7582),ee=U(4537);const ln=function yt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Mt=new X.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new Me.Yd("@firebase/auth");function Ye(I,...h){We.logLevel<=Me.in.ERROR&&We.error(`Auth (${Ee.Jn}): ${I}`,...h)}function st(I,...h){throw zn(I,...h)}function ct(I,...h){return zn(I,...h)}function zn(I,...h){if("string"!=typeof I){const p=h[0],w=[...h.slice(1)];return w[0]&&(w[0].appName=I.name),I._errorFactory.create(p,...w)}return Mt.create(I,...h)}function lt(I,h,...p){if(!I)throw zn(h,...p)}function Nn(I){const h="INTERNAL ASSERTION FAILED: "+I;throw Ye(h),new Error(h)}function Sr(I,h){I||Nn(h)}function vt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Rt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Ve{constructor(h,p){this.shortDelay=h,this.longDelay=p,Sr(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,X.uI)()||(0,X.b$)()}get(){return function Re(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Jt(){return"http:"===Rt()||"https:"===Rt()}()||(0,X.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function he(I,h){Sr(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class je{static initialize(h,p,w){this.fetchImpl=h,p&&(this.headersImpl=p),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const de={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ce=new Ve(3e4,6e4);function Se(I,h){return I.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:I.tenantId}):h}function gt(I,h,p,w){return $t.apply(this,arguments)}function $t(){return($t=(0,Z.Z)(function*(I,h,p,w,F={}){return pt(I,F,(0,Z.Z)(function*(){let Y={},Ie={};w&&("GET"===h?Ie=w:Y={body:JSON.stringify(w)});const Ke=(0,X.xO)(Object.assign({key:I.config.apiKey},Ie)).slice(1),tt=yield I._getAdditionalHeaders();return tt["Content-Type"]="application/json",I.languageCode&&(tt["X-Firebase-Locale"]=I.languageCode),je.fetch()(or(I,I.config.apiHost,p,Ke),Object.assign({method:h,headers:tt,referrerPolicy:"no-referrer"},Y))}))})).apply(this,arguments)}function pt(I,h,p){return jt.apply(this,arguments)}function jt(){return(jt=(0,Z.Z)(function*(I,h,p){I._canInitEmulator=!1;const w=Object.assign(Object.assign({},de),h);try{const F=new mn(I),Y=yield Promise.race([p(),F.promise]);F.clearNetworkTimeout();const Ie=yield Y.json();if("needConfirmation"in Ie)throw kr(I,"account-exists-with-different-credential",Ie);if(Y.ok&&!("errorMessage"in Ie))return Ie;{const Ke=Y.ok?Ie.errorMessage:Ie.error.message,[tt,zt]=Ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===tt)throw kr(I,"credential-already-in-use",Ie);if("EMAIL_EXISTS"===tt)throw kr(I,"email-already-in-use",Ie);if("USER_DISABLED"===tt)throw kr(I,"user-disabled",Ie);const an=w[tt]||tt.toLowerCase().replace(/[_\s]+/g,"-");if(zt)throw function sn(I,h,p){const w=Object.assign(Object.assign({},ln()),{[h]:p});return new X.LL("auth","Firebase",w).create(h,{appName:I.name})}(I,an,zt);st(I,an)}}catch(F){if(F instanceof X.ZR)throw F;st(I,"network-request-failed",{message:String(F)})}})).apply(this,arguments)}function Tn(I,h,p,w){return dn.apply(this,arguments)}function dn(){return(dn=(0,Z.Z)(function*(I,h,p,w,F={}){const Y=yield gt(I,h,p,w,F);return"mfaPendingCredential"in Y&&st(I,"multi-factor-auth-required",{_serverResponse:Y}),Y})).apply(this,arguments)}function or(I,h,p,w){const F=`${h}${p}?${w}`;return I.config.emulator?he(I.config,F):`${I.config.apiScheme}://${F}`}function Un(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,w)=>{this.timer=setTimeout(()=>w(ct(this.auth,"network-request-failed")),Ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kr(I,h,p){const w={appName:I.name};p.email&&(w.email=p.email),p.phoneNumber&&(w.phoneNumber=p.phoneNumber);const F=ct(I,h,w);return F.customData._tokenResponse=p,F}function yr(I){return void 0!==I&&void 0!==I.enterprise}class Ji{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===h)return Un(p.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function en(I,h){return yn.apply(this,arguments)}function yn(){return(yn=(0,Z.Z)(function*(I,h){return gt(I,"GET","/v2/recaptchaConfig",Se(I,h))})).apply(this,arguments)}function Xn(){return(Xn=(0,Z.Z)(function*(I,h){return gt(I,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function tn(){return(tn=(0,Z.Z)(function*(I,h){return gt(I,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function ki(I){if(I)try{const h=new Date(Number(I));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function pn(){return(pn=(0,Z.Z)(function*(I,h=!1){const p=(0,X.m9)(I),w=yield p.getIdToken(h),F=Wr(w);lt(F&&F.exp&&F.auth_time&&F.iat,p.auth,"internal-error");const Y="object"==typeof F.firebase?F.firebase:void 0,Ie=Y?.sign_in_provider;return{claims:F,token:w,authTime:ki(_i(F.auth_time)),issuedAtTime:ki(_i(F.iat)),expirationTime:ki(_i(F.exp)),signInProvider:Ie||null,signInSecondFactor:Y?.sign_in_second_factor||null}})).apply(this,arguments)}function _i(I){return 1e3*Number(I)}function Wr(I){const[h,p,w]=I.split(".");if(void 0===h||void 0===p||void 0===w)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,X.tV)(p);return F?JSON.parse(F):(Ye("Failed to decode base64 JWT payload"),null)}catch(F){return Ye("Caught error parsing JWT payload as JSON",F?.toString()),null}}function qn(I,h){return ci.apply(this,arguments)}function ci(){return(ci=(0,Z.Z)(function*(I,h,p=!1){if(p)return h;try{return yield h}catch(w){throw w instanceof X.ZR&&function Jr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(w)&&I.auth.currentUser===I&&(yield I.auth.signOut()),w}})).apply(this,arguments)}class yi{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const F=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,F)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const w=this.getInterval(h);this.timerId=setTimeout((0,Z.Z)(function*(){yield p.iteration()}),w)}iteration(){var h=this;return(0,Z.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class Xr{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=ki(this.lastLoginAt),this.creationTime=ki(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nr(I){return un.apply(this,arguments)}function un(){return un=(0,Z.Z)(function*(I){var h;const p=I.auth,w=yield I.getIdToken(),F=yield qn(I,function wn(I,h){return tn.apply(this,arguments)}(p,{idToken:w}));lt(F?.users.length,p,"internal-error");const Y=F.users[0];I._notifyReloadListener(Y);const Ie=null!==(h=Y.providerUserInfo)&&void 0!==h&&h.length?function W(I){return I.map(h=>{var{providerId:p}=h,w=(0,me._T)(h,["providerId"]);return{providerId:p,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(Y.providerUserInfo):[],Ke=function fe(I,h){return[...I.filter(w=>!h.some(F=>F.providerId===w.providerId)),...h]}(I.providerData,Ie),an=!!I.isAnonymous&&!(I.email&&Y.passwordHash||Ke?.length),Yn={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:Ke,metadata:new Xr(Y.createdAt,Y.lastLoginAt),isAnonymous:an};Object.assign(I,Yn)}),un.apply(this,arguments)}function Li(){return(Li=(0,Z.Z)(function*(I){const h=(0,X.m9)(I);yield nr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function G(){return(G=(0,Z.Z)(function*(I,h){const p=yield pt(I,{},(0,Z.Z)(function*(){const w=(0,X.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:F,apiKey:Y}=I.config,Ie=or(I,F,"/v1/token",`key=${Y}`),Ke=yield I._getAdditionalHeaders();return Ke["Content-Type"]="application/x-www-form-urlencoded",je.fetch()(Ie,{method:"POST",headers:Ke,body:w})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function be(){return(be=(0,Z.Z)(function*(I,h){return gt(I,"POST","/v2/accounts:revokeToken",Se(I,h))})).apply(this,arguments)}class et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){lt(h.idToken,"internal-error"),lt(typeof h.idToken<"u","internal-error"),lt(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Hi(I){const h=Wr(I);return lt(h,"internal-error"),lt(typeof h.exp<"u","internal-error"),lt(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var w=this;return(0,Z.Z)(function*(){return lt(!w.accessToken||w.refreshToken,h,"user-token-expired"),p||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(h,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var w=this;return(0,Z.Z)(function*(){const{accessToken:F,refreshToken:Y,expiresIn:Ie}=yield function Q(I,h){return G.apply(this,arguments)}(h,p);w.updateTokensAndExpiration(F,Y,Number(Ie))})()}updateTokensAndExpiration(h,p,w){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(h,p){const{refreshToken:w,accessToken:F,expirationTime:Y}=p,Ie=new et;return w&&(lt("string"==typeof w,"internal-error",{appName:h}),Ie.refreshToken=w),F&&(lt("string"==typeof F,"internal-error",{appName:h}),Ie.accessToken=F),Y&&(lt("number"==typeof Y,"internal-error",{appName:h}),Ie.expirationTime=Y),Ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new et,this.toJSON())}_performRefresh(){return Nn("not implemented")}}function ht(I,h){lt("string"==typeof I||typeof I>"u","internal-error",{appName:h})}class Lt{constructor(h){var{uid:p,auth:w,stsTokenManager:F}=h,Y=(0,me._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=w,this.stsTokenManager=F,this.accessToken=F.accessToken,this.displayName=Y.displayName||null,this.email=Y.email||null,this.emailVerified=Y.emailVerified||!1,this.phoneNumber=Y.phoneNumber||null,this.photoURL=Y.photoURL||null,this.isAnonymous=Y.isAnonymous||!1,this.tenantId=Y.tenantId||null,this.providerData=Y.providerData?[...Y.providerData]:[],this.metadata=new Xr(Y.createdAt||void 0,Y.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,Z.Z)(function*(){const w=yield qn(p,p.stsTokenManager.getToken(p.auth,h));return lt(w,p.auth,"internal-error"),p.accessToken!==w&&(p.accessToken=w,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),w})()}getIdTokenResult(h){return function Pi(I){return pn.apply(this,arguments)}(this,h)}reload(){return function li(I){return Li.apply(this,arguments)}(this)}_assign(h){this!==h&&(lt(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new Lt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var w=this;return(0,Z.Z)(function*(){let F=!1;h.idToken&&h.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(h),F=!0),p&&(yield nr(w)),yield w.auth._persistUserIfCurrent(w),F&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var h=this;return(0,Z.Z)(function*(){const p=yield h.getIdToken();return yield qn(h,function hn(I,h){return Xn.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var w,F,Y,Ie,Ke,tt,zt,an;const Yn=null!==(w=p.displayName)&&void 0!==w?w:void 0,xi=null!==(F=p.email)&&void 0!==F?F:void 0,ua=null!==(Y=p.phoneNumber)&&void 0!==Y?Y:void 0,Ac=null!==(Ie=p.photoURL)&&void 0!==Ie?Ie:void 0,Bu=null!==(Ke=p.tenantId)&&void 0!==Ke?Ke:void 0,Cc=null!==(tt=p._redirectEventId)&&void 0!==tt?tt:void 0,$u=null!==(zt=p.createdAt)&&void 0!==zt?zt:void 0,Sc=null!==(an=p.lastLoginAt)&&void 0!==an?an:void 0,{uid:bc,emailVerified:Yh,isAnonymous:ju,providerData:iu,stsTokenManager:bd}=p;lt(bc&&bd,h,"internal-error");const La=et.fromJSON(this.name,bd);lt("string"==typeof bc,h,"internal-error"),ht(Yn,h.name),ht(xi,h.name),lt("boolean"==typeof Yh,h,"internal-error"),lt("boolean"==typeof ju,h,"internal-error"),ht(ua,h.name),ht(Ac,h.name),ht(Bu,h.name),ht(Cc,h.name),ht($u,h.name),ht(Sc,h.name);const Hu=new Lt({uid:bc,auth:h,email:xi,emailVerified:Yh,displayName:Yn,isAnonymous:ju,photoURL:Ac,phoneNumber:ua,tenantId:Bu,stsTokenManager:La,createdAt:$u,lastLoginAt:Sc});return iu&&Array.isArray(iu)&&(Hu.providerData=iu.map(Rd=>Object.assign({},Rd))),Cc&&(Hu._redirectEventId=Cc),Hu}static _fromIdTokenResponse(h,p,w=!1){return(0,Z.Z)(function*(){const F=new et;F.updateFromServerResponse(p);const Y=new Lt({uid:p.localId,auth:h,stsTokenManager:F,isAnonymous:w});return yield nr(Y),Y})()}}const rn=new Map;function Pt(I){Sr(I instanceof Function,"Expected a class definition");let h=rn.get(I);return h?(Sr(h instanceof I,"Instance stored in cache mismatched with class"),h):(h=new I,rn.set(I,h),h)}const Zn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,Z.Z)(function*(){return!0})()}_set(p,w){var F=this;return(0,Z.Z)(function*(){F.storage[p]=w})()}_get(p){var w=this;return(0,Z.Z)(function*(){const F=w.storage[p];return void 0===F?null:F})()}_remove(p){var w=this;return(0,Z.Z)(function*(){delete w.storage[p]})()}_addListener(p,w){}_removeListener(p,w){}}return I.type="NONE",I})();function qr(I,h,p){return`firebase:${I}:${h}:${p}`}class Kr{constructor(h,p,w){this.persistence=h,this.auth=p,this.userKey=w;const{config:F,name:Y}=this.auth;this.fullUserKey=qr(this.userKey,F.apiKey,Y),this.fullPersistenceKey=qr("persistence",F.apiKey,Y),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,Z.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Lt._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,Z.Z)(function*(){if(p.persistence===h)return;const w=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,w?p.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,w="authUser"){return(0,Z.Z)(function*(){if(!p.length)return new Kr(Pt(Zn),h,w);const F=(yield Promise.all(p.map(function(){var zt=(0,Z.Z)(function*(an){if(yield an._isAvailable())return an});return function(an){return zt.apply(this,arguments)}}()))).filter(zt=>zt);let Y=F[0]||Pt(Zn);const Ie=qr(w,h.config.apiKey,h.name);let Ke=null;for(const zt of p)try{const an=yield zt._get(Ie);if(an){const Yn=Lt._fromJSON(h,an);zt!==Y&&(Ke=Yn),Y=zt;break}}catch{}const tt=F.filter(zt=>zt._shouldAllowMigration);return Y._shouldAllowMigration&&tt.length?(Y=tt[0],Ke&&(yield Y._set(Ie,Ke.toJSON())),yield Promise.all(p.map(function(){var zt=(0,Z.Z)(function*(an){if(an!==Y)try{yield an._remove(Ie)}catch{}});return function(an){return zt.apply(this,arguments)}}())),new Kr(Y,h,w)):new Kr(Y,h,w)})()}}function Nr(I){const h=I.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Ft(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(qe(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Tt(h))return"Blackberry";if(Pn(h))return"Webos";if(Ne(h))return"Safari";if((h.includes("chrome/")||it(h))&&!h.includes("edge/"))return"Chrome";if(nn(h))return"Android";{const w=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function qe(I=(0,X.z$)()){return/firefox\//i.test(I)}function Ne(I=(0,X.z$)()){const h=I.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function it(I=(0,X.z$)()){return/crios\//i.test(I)}function Ft(I=(0,X.z$)()){return/iemobile/i.test(I)}function nn(I=(0,X.z$)()){return/android/i.test(I)}function Tt(I=(0,X.z$)()){return/blackberry/i.test(I)}function Pn(I=(0,X.z$)()){return/webos/i.test(I)}function hr(I=(0,X.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Qr(I=(0,X.z$)()){return hr(I)||nn(I)||Pn(I)||Tt(I)||/windows phone/i.test(I)||Ft(I)}function Xi(I,h=[]){let p;switch(I){case"Browser":p=Nr((0,X.z$)());break;case"Worker":p=`${Nr((0,X.z$)())}-${I}`;break;default:p=I}const w=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${Ee.Jn}/${w}`}class lo{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const w=Y=>new Promise((Ie,Ke)=>{try{Ie(h(Y))}catch(tt){Ke(tt)}});w.onAbort=p,this.queue.push(w);const F=this.queue.length-1;return()=>{this.queue[F]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,Z.Z)(function*(){if(p.auth.currentUser===h)return;const w=[];try{for(const F of p.queue)yield F(h),F.onAbort&&w.push(F.onAbort)}catch(F){w.reverse();for(const Y of w)try{Y()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:F?.message})}})()}}function ho(){return(ho=(0,Z.Z)(function*(I,h={}){return gt(I,"GET","/v2/passwordPolicy",Se(I,h))})).apply(this,arguments)}class Js{constructor(h){var p,w,F,Y;const Ie=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=Ie.minPasswordLength)&&void 0!==p?p:6,Ie.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ie.maxPasswordLength),void 0!==Ie.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ie.containsLowercaseCharacter),void 0!==Ie.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ie.containsUppercaseCharacter),void 0!==Ie.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ie.containsNumericCharacter),void 0!==Ie.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ie.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(F=null===(w=h.allowedNonAlphanumericCharacters)||void 0===w?void 0:w.join(""))&&void 0!==F?F:"",this.forceUpgradeOnSignin=null!==(Y=h.forceUpgradeOnSignin)&&void 0!==Y&&Y,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,w,F,Y,Ie,Ke;const tt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,tt),this.validatePasswordCharacterOptions(h,tt),tt.isValid&&(tt.isValid=null===(p=tt.meetsMinPasswordLength)||void 0===p||p),tt.isValid&&(tt.isValid=null===(w=tt.meetsMaxPasswordLength)||void 0===w||w),tt.isValid&&(tt.isValid=null===(F=tt.containsLowercaseLetter)||void 0===F||F),tt.isValid&&(tt.isValid=null===(Y=tt.containsUppercaseLetter)||void 0===Y||Y),tt.isValid&&(tt.isValid=null===(Ie=tt.containsNumericCharacter)||void 0===Ie||Ie),tt.isValid&&(tt.isValid=null===(Ke=tt.containsNonAlphanumericCharacter)||void 0===Ke||Ke),tt}validatePasswordLengthOptions(h,p){const w=this.customStrengthOptions.minPasswordLength,F=this.customStrengthOptions.maxPasswordLength;w&&(p.meetsMinPasswordLength=h.length>=w),F&&(p.meetsMaxPasswordLength=h.length<=F)}validatePasswordCharacterOptions(h,p){let w;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let F=0;F<h.length;F++)w=h.charAt(F),this.updatePasswordCharacterOptionsStatuses(p,w>="a"&&w<="z",w>="A"&&w<="Z",w>="0"&&w<="9",this.allowedNonAlphanumericCharacters.includes(w))}updatePasswordCharacterOptionsStatuses(h,p,w,F,Y){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=w)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=F)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=Y))}}class Ms{constructor(h,p,w,F){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=w,this.config=F,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $s(this),this.idTokenSubscription=new $s(this),this.beforeStateQueue=new lo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=F.sdkClientVersion}_initializeWithPersistence(h,p){var w=this;return p&&(this._popupRedirectResolver=Pt(p)),this._initializationPromise=this.queue((0,Z.Z)(function*(){var F,Y;if(!w._deleted&&(w.persistenceManager=yield Kr.create(w,h),!w._deleted)){if(null!==(F=w._popupRedirectResolver)&&void 0!==F&&F._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(p),w.lastNotifiedUid=(null===(Y=w.currentUser)||void 0===Y?void 0:Y.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,Z.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,Z.Z)(function*(){var w;const F=yield p.assertedPersistence.getCurrentUser();let Y=F,Ie=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Ke=null===(w=p.redirectUser)||void 0===w?void 0:w._redirectEventId,tt=Y?._redirectEventId,zt=yield p.tryRedirectSignIn(h);(!Ke||Ke===tt)&&zt?.user&&(Y=zt.user,Ie=!0)}if(!Y)return p.directlySetCurrentUser(null);if(!Y._redirectEventId){if(Ie)try{yield p.beforeStateQueue.runMiddleware(Y)}catch(Ke){Y=F,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Ke))}return Y?p.reloadAndSetCurrentUserOrClear(Y):p.directlySetCurrentUser(null)}return lt(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===Y._redirectEventId?p.directlySetCurrentUser(Y):p.reloadAndSetCurrentUserOrClear(Y)})()}tryRedirectSignIn(h){var p=this;return(0,Z.Z)(function*(){let w=null;try{w=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,Z.Z)(function*(){try{yield nr(h)}catch(w){if("auth/network-request-failed"!==w?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Fe(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var h=this;return(0,Z.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,Z.Z)(function*(){const w=h?(0,X.m9)(h):null;return w&&lt(w.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(w&&w._clone(p))})()}_updateCurrentUser(h,p=!1){var w=this;return(0,Z.Z)(function*(){if(!w._deleted)return h&&lt(w.tenantId===h.tenantId,w,"tenant-id-mismatch"),p||(yield w.beforeStateQueue.runMiddleware(h)),w.queue((0,Z.Z)(function*(){yield w.directlySetCurrentUser(h),w.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,Z.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,Z.Z)(function*(){yield p.assertedPersistence.setPersistence(Pt(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,Z.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const w=p._getPasswordPolicyInternal();return w.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):w.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,Z.Z)(function*(){const p=yield function Ps(I){return ho.apply(this,arguments)}(h),w=new Js(p);null===h.tenantId?h._projectPasswordPolicy=w:h._tenantPasswordPolicies[h.tenantId]=w})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new X.LL("auth","Firebase",h())}onAuthStateChanged(h,p,w){return this.registerStateListener(this.authStateSubscription,h,p,w)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,w){return this.registerStateListener(this.idTokenSubscription,h,p,w)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const w=this.onAuthStateChanged(()=>{w(),h()},p)}})}revokeAccessToken(h){var p=this;return(0,Z.Z)(function*(){if(p.currentUser){const w=yield p.currentUser.getIdToken(),F={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:w};null!=p.tenantId&&(F.tenantId=p.tenantId),yield function q(I,h){return be.apply(this,arguments)}(p,F)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var w=this;return(0,Z.Z)(function*(){const F=yield w.getOrInitRedirectPersistenceManager(p);return null===h?F.removeCurrentUser():F.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,Z.Z)(function*(){if(!p.redirectPersistenceManager){const w=h&&Pt(h)||p._popupRedirectResolver;lt(w,p,"argument-error"),p.redirectPersistenceManager=yield Kr.create(p,[Pt(w._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,Z.Z)(function*(){var w,F;return p._isInitialized&&(yield p.queue((0,Z.Z)(function*(){}))),(null===(w=p._currentUser)||void 0===w?void 0:w._redirectEventId)===h?p._currentUser:(null===(F=p.redirectUser)||void 0===F?void 0:F._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,Z.Z)(function*(){if(h===p.currentUser)return p.queue((0,Z.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,w,F){if(this._deleted)return()=>{};const Y="function"==typeof p?p:p.next.bind(p);let Ie=!1;const Ke=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(Ke,this,"internal-error"),Ke.then(()=>{Ie||Y(this.currentUser)}),"function"==typeof p){const tt=h.addObserver(p,w,F);return()=>{Ie=!0,tt()}}{const tt=h.addObserver(p);return()=>{Ie=!0,tt()}}}directlySetCurrentUser(h){var p=this;return(0,Z.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Xi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,Z.Z)(function*(){var p;const w={"X-Client-Version":h.clientVersion};h.app.options.appId&&(w["X-Firebase-gmpid"]=h.app.options.appId);const F=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();F&&(w["X-Firebase-Client"]=F);const Y=yield h._getAppCheckToken();return Y&&(w["X-Firebase-AppCheck"]=Y),w})()}_getAppCheckToken(){var h=this;return(0,Z.Z)(function*(){var p;const w=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return w?.error&&function ye(I,...h){We.logLevel<=Me.in.WARN&&We.warn(`Auth (${Ee.Jn}): ${I}`,...h)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function bn(I){return(0,X.m9)(I)}class $s{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,X.ne)(p=>this.observer=p)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ts(I){return new Promise((h,p)=>{const w=document.createElement("script");w.setAttribute("src",I),w.onload=h,w.onerror=F=>{const Y=ct("internal-error");Y.customData=F,p(Y)},w.type="text/javascript",w.charset="UTF-8",function as(){var I,h;return null!==(h=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==h?h:document}().appendChild(w)})}function On(I){return`__${I}${Math.floor(1e6*Math.random())}`}class _o{constructor(h){this.type="recaptcha-enterprise",this.auth=bn(h)}verify(h="verify",p=!1){var w=this;return(0,Z.Z)(function*(){function Y(){return Y=(0,Z.Z)(function*(Ke){if(!p){if(null==Ke.tenantId&&null!=Ke._agentRecaptchaConfig)return Ke._agentRecaptchaConfig.siteKey;if(null!=Ke.tenantId&&void 0!==Ke._tenantRecaptchaConfigs[Ke.tenantId])return Ke._tenantRecaptchaConfigs[Ke.tenantId].siteKey}return new Promise(function(){var tt=(0,Z.Z)(function*(zt,an){en(Ke,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Yn=>{if(void 0!==Yn.recaptchaKey){const xi=new Ji(Yn);return null==Ke.tenantId?Ke._agentRecaptchaConfig=xi:Ke._tenantRecaptchaConfigs[Ke.tenantId]=xi,zt(xi.siteKey)}an(new Error("recaptcha Enterprise site key undefined"))}).catch(Yn=>{an(Yn)})});return function(zt,an){return tt.apply(this,arguments)}}())}),Y.apply(this,arguments)}function Ie(Ke,tt,zt){const an=window.grecaptcha;yr(an)?an.enterprise.ready(()=>{an.enterprise.execute(Ke,{action:h}).then(Yn=>{tt(Yn)}).catch(()=>{tt("NO_RECAPTCHA")})}):zt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ke,tt)=>{(function F(Ke){return Y.apply(this,arguments)})(w.auth).then(zt=>{if(!p&&yr(window.grecaptcha))Ie(zt,Ke,tt);else{if(typeof window>"u")return void tt(new Error("RecaptchaVerifier is only supported in browser"));Ts("https://www.google.com/recaptcha/enterprise.js?render="+zt).then(()=>{Ie(zt,Ke,tt)}).catch(an=>{tt(an)})}}).catch(zt=>{tt(zt)})})})()}}function yo(I,h,p){return zi.apply(this,arguments)}function zi(){return(zi=(0,Z.Z)(function*(I,h,p,w=!1){const F=new _o(I);let Y;try{Y=yield F.verify(p)}catch{Y=yield F.verify(p,!0)}const Ie=Object.assign({},h);return Object.assign(Ie,w?{captchaResp:Y}:{captchaResponse:Y}),Object.assign(Ie,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ie,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ie})).apply(this,arguments)}function Hs(I,h,p,w){return na.apply(this,arguments)}function na(){return na=(0,Z.Z)(function*(I,h,p,w){var F;if(null!==(F=I._getRecaptchaConfig())&&void 0!==F&&F.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Y=yield yo(I,h,p,"getOobCode"===p);return w(I,Y)}return w(I,h).catch(function(){var Y=(0,Z.Z)(function*(Ie){if("auth/missing-recaptcha-token"===Ie.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ke=yield yo(I,h,p,"getOobCode"===p);return w(I,Ke)}return Promise.reject(Ie)});return function(Ie){return Y.apply(this,arguments)}}())}),na.apply(this,arguments)}function zs(I){const h=I.indexOf(":");return h<0?"":I.substr(0,h+1)}function vo(I){if(!I)return null;const h=Number(I);return isNaN(h)?null:h}class es{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Nn("not implemented")}_getIdTokenResponse(h){return Nn("not implemented")}_linkToIdToken(h,p){return Nn("not implemented")}_getReauthenticationResolver(h){return Nn("not implemented")}}function Fi(I,h){return ei.apply(this,arguments)}function ei(){return(ei=(0,Z.Z)(function*(I,h){return gt(I,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function di(I,h){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,Z.Z)(function*(I,h){return Tn(I,"POST","/v1/accounts:signInWithPassword",Se(I,h))})).apply(this,arguments)}function Kn(){return(Kn=(0,Z.Z)(function*(I,h){return gt(I,"POST","/v1/accounts:sendOobCode",Se(I,h))})).apply(this,arguments)}function Nt(){return(Nt=(0,Z.Z)(function*(I,h){return function Ns(I,h){return Kn.apply(this,arguments)}(I,h)})).apply(this,arguments)}function ro(){return(ro=(0,Z.Z)(function*(I,h){return Tn(I,"POST","/v1/accounts:signInWithEmailLink",Se(I,h))})).apply(this,arguments)}function cs(){return(cs=(0,Z.Z)(function*(I,h){return Tn(I,"POST","/v1/accounts:signInWithEmailLink",Se(I,h))})).apply(this,arguments)}class Wi extends es{constructor(h,p,w,F=null){super("password",w),this._email=h,this._password=p,this._tenantId=F}static _fromEmailAndPassword(h,p){return new Wi(h,p,"password")}static _fromEmailAndCode(h,p,w=null){return new Wi(h,p,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,Z.Z)(function*(){switch(p.signInMethod){case"password":return Hs(h,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",di);case"emailLink":return function Os(I,h){return ro.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:st(h,"internal-error")}})()}_linkToIdToken(h,p){var w=this;return(0,Z.Z)(function*(){switch(w.signInMethod){case"password":return Hs(h,{idToken:p,returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fi);case"emailLink":return function on(I,h){return cs.apply(this,arguments)}(h,{idToken:p,email:w._email,oobCode:w._password});default:st(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function pr(I,h){return vr.apply(this,arguments)}function vr(){return(vr=(0,Z.Z)(function*(I,h){return Tn(I,"POST","/v1/accounts:signInWithIdp",Se(I,h))})).apply(this,arguments)}class Ti{constructor(h){var p,w,F,Y,Ie,Ke;const tt=(0,X.zd)((0,X.pd)(h)),zt=null!==(p=tt.apiKey)&&void 0!==p?p:null,an=null!==(w=tt.oobCode)&&void 0!==w?w:null,Yn=function Ii(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(F=tt.mode)&&void 0!==F?F:null);lt(zt&&an&&Yn,"argument-error"),this.apiKey=zt,this.operation=Yn,this.code=an,this.continueUrl=null!==(Y=tt.continueUrl)&&void 0!==Y?Y:null,this.languageCode=null!==(Ie=tt.languageCode)&&void 0!==Ie?Ie:null,this.tenantId=null!==(Ke=tt.tenantId)&&void 0!==Ke?Ke:null}static parseLink(h){const p=function fi(I){const h=(0,X.zd)((0,X.pd)(I)).link,p=h?(0,X.zd)((0,X.pd)(h)).deep_link_id:null,w=(0,X.zd)((0,X.pd)(I)).deep_link_id;return(w?(0,X.zd)((0,X.pd)(w)).link:null)||w||p||h||I}(h);try{return new Ti(p)}catch{return null}}}let qi=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,w){return Wi._fromEmailAndPassword(p,w)}static credentialWithLink(p,w){const F=Ti.parseLink(w);return lt(F,"argument-error"),Wi._fromEmailAndCode(p,F.code,F.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Er{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class ia extends Er{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function Oo(I,h){return so.apply(this,arguments)}function so(){return(so=(0,Z.Z)(function*(I,h){return Tn(I,"POST","/v1/accounts:signUp",Se(I,h))})).apply(this,arguments)}class Ki{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,w,F=!1){return(0,Z.Z)(function*(){const Y=yield Lt._fromIdTokenResponse(h,w,F),Ie=L(w);return new Ki({user:Y,providerId:Ie,_tokenResponse:w,operationType:p})})()}static _forOperation(h,p,w){return(0,Z.Z)(function*(){yield h._updateTokensIfNecessary(w,!0);const F=L(w);return new Ki({user:h,providerId:F,_tokenResponse:w,operationType:p})})()}}function L(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}class ae extends X.ZR{constructor(h,p,w,F){var Y;super(p.code,p.message),this.operationType=w,this.user=F,Object.setPrototypeOf(this,ae.prototype),this.customData={appName:h.name,tenantId:null!==(Y=h.tenantId)&&void 0!==Y?Y:void 0,_serverResponse:p.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(h,p,w,F){return new ae(h,p,w,F)}}function Pe(I,h,p,w){return("reauthenticate"===h?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(Y=>{throw"auth/multi-factor-auth-required"===Y.code?ae._fromErrorAndOperation(I,Y,h,w):Y})}function fn(){return(fn=(0,Z.Z)(function*(I,h,p=!1){const w=yield qn(I,h._linkToIdToken(I.auth,yield I.getIdToken()),p);return Ki._forOperation(I,"link",w)})).apply(this,arguments)}function br(){return(br=(0,Z.Z)(function*(I,h,p=!1){const{auth:w}=I,F="reauthenticate";try{const Y=yield qn(I,Pe(w,F,h,I),p);lt(Y.idToken,w,"internal-error");const Ie=Wr(Y.idToken);lt(Ie,w,"internal-error");const{sub:Ke}=Ie;return lt(I.uid===Ke,w,"user-mismatch"),Ki._forOperation(I,F,Y)}catch(Y){throw"auth/user-not-found"===Y?.code&&st(w,"user-mismatch"),Y}})).apply(this,arguments)}function Di(I,h){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,Z.Z)(function*(I,h,p=!1){const w="signIn",F=yield Pe(I,w,h),Y=yield Ki._fromIdTokenResponse(I,w,F);return p||(yield I._updateCurrentUser(Y.user)),Y})).apply(this,arguments)}function ni(){return(ni=(0,Z.Z)(function*(I,h){return Di(bn(I),h)})).apply(this,arguments)}function ge(I){return xe.apply(this,arguments)}function xe(){return(xe=(0,Z.Z)(function*(I){const h=bn(I);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Qi(I,h,p){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,Z.Z)(function*(I,h,p){const w=bn(I),Ie=yield Hs(w,{returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Oo).catch(tt=>{throw"auth/password-does-not-meet-requirements"===tt.code&&ge(I),tt}),Ke=yield Ki._fromIdTokenResponse(w,"signIn",Ie);return yield w._updateCurrentUser(Ke.user),Ke})).apply(this,arguments)}function po(I,h,p){return function wr(I,h){return ni.apply(this,arguments)}((0,X.m9)(I),qi.credential(h,p)).catch(function(){var w=(0,Z.Z)(function*(F){throw"auth/password-does-not-meet-requirements"===F.code&&ge(I),F});return function(F){return w.apply(this,arguments)}}())}function M(I,h){return N.apply(this,arguments)}function N(){return N=(0,Z.Z)(function*(I,h){const p=(0,X.m9)(I),F={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};h&&function pe(I,h,p){var w;lt((null===(w=p.url)||void 0===w?void 0:w.length)>0,I,"invalid-continue-uri"),lt(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(lt(p.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(lt(p.android.packageName.length>0,I,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}(p.auth,F,h);const{email:Y}=yield function Ct(I,h){return Nt.apply(this,arguments)}(p.auth,F);Y!==I.email&&(yield I.reload())}),N.apply(this,arguments)}function ns(I){return(0,X.m9)(I).signOut()}const jr="__sak";class Xt{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(jr,"1"),this.storage.removeItem(jr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const kt=(()=>{class I extends Xt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,w)=>this.onStorageEvent(p,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zo(){const I=(0,X.z$)();return Ne(I)||hr(I)}()&&function Bs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qr(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const w of Object.keys(this.listeners)){const F=this.storage.getItem(w),Y=this.localCache[w];F!==Y&&p(w,Y,F)}}onStorageEvent(p,w=!1){if(!p.key)return void this.forAllChangedKeys((Ke,tt,zt)=>{this.notifyListeners(Ke,zt)});const F=p.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ke=this.storage.getItem(F);if(p.newValue!==Ke)null!==p.newValue?this.storage.setItem(F,p.newValue):this.storage.removeItem(F);else if(this.localCache[F]===p.newValue&&!w)return}const Y=()=>{const Ke=this.storage.getItem(F);!w&&this.localCache[F]===Ke||this.notifyListeners(F,Ke)},Ie=this.storage.getItem(F);!function vi(){return(0,X.w1)()&&10===document.documentMode}()||Ie===p.newValue||p.newValue===p.oldValue?Y():setTimeout(Y,10)}notifyListeners(p,w){this.localCache[p]=w;const F=this.listeners[p];if(F)for(const Y of Array.from(F))Y(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,w,F)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:w,newValue:F}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,w){var F=()=>super._set,Y=this;return(0,Z.Z)(function*(){yield F().call(Y,p,w),Y.localCache[p]=JSON.stringify(w)})()}_get(p){var w=()=>super._get,F=this;return(0,Z.Z)(function*(){const Y=yield w().call(F,p);return F.localCache[p]=JSON.stringify(Y),Y})()}_remove(p){var w=()=>super._remove,F=this;return(0,Z.Z)(function*(){yield w().call(F,p),delete F.localCache[p]})()}}return I.type="LOCAL",I})(),at=(()=>{class I extends Xt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,w){}_removeListener(p,w){}}return I.type="SESSION",I})();let hc=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const w=this.receivers.find(Y=>Y.isListeningto(p));if(w)return w;const F=new I(p);return this.receivers.push(F),F}isListeningto(p){return this.eventTarget===p}handleEvent(p){var w=this;return(0,Z.Z)(function*(){const F=p,{eventId:Y,eventType:Ie,data:Ke}=F.data,tt=w.handlersMap[Ie];if(!tt?.size)return;F.ports[0].postMessage({status:"ack",eventId:Y,eventType:Ie});const zt=Array.from(tt).map(function(){var Yn=(0,Z.Z)(function*(xi){return xi(F.origin,Ke)});return function(xi){return Yn.apply(this,arguments)}}()),an=yield function Wn(I){return Promise.all(I.map(function(){var h=(0,Z.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(w){return{fulfilled:!1,reason:w}}});return function(p){return h.apply(this,arguments)}}()))}(zt);F.ports[0].postMessage({status:"done",eventId:Y,eventType:Ie,response:an})})()}_subscribe(p,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(w)}_unsubscribe(p,w){this.handlersMap[p]&&w&&this.handlersMap[p].delete(w),(!w||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function xo(I="",h=10){let p="";for(let w=0;w<h;w++)p+=Math.floor(10*Math.random());return I+p}class ps{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,w=50){var F=this;return(0,Z.Z)(function*(){const Y=typeof MessageChannel<"u"?new MessageChannel:null;if(!Y)throw new Error("connection_unavailable");let Ie,Ke;return new Promise((tt,zt)=>{const an=xo("",20);Y.port1.start();const Yn=setTimeout(()=>{zt(new Error("unsupported_event"))},w);Ke={messageChannel:Y,onMessage(xi){const ua=xi;if(ua.data.eventId===an)switch(ua.data.status){case"ack":clearTimeout(Yn),Ie=setTimeout(()=>{zt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ie),tt(ua.data.response);break;default:clearTimeout(Yn),clearTimeout(Ie),zt(new Error("invalid_response"))}}},F.handlers.add(Ke),Y.port1.addEventListener("message",Ke.onMessage),F.target.postMessage({eventType:h,eventId:an,data:p},[Y.port2])}).finally(()=>{Ke&&F.removeMessageHandler(Ke)})})()}}function Hr(){return window}function ao(){return typeof Hr().WorkerGlobalScope<"u"&&"function"==typeof Hr().importScripts}function ha(){return(ha=(0,Z.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ko="firebaseLocalStorageDb",Oe="firebaseLocalStorage",qa="fbase_key";class Zi{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Do(I,h){return I.transaction([Oe],h?"readwrite":"readonly").objectStore(Oe)}function E(){const I=indexedDB.open(ko,1);return new Promise((h,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const w=I.result;try{w.createObjectStore(Oe,{keyPath:qa})}catch(F){p(F)}}),I.addEventListener("success",(0,Z.Z)(function*(){const w=I.result;w.objectStoreNames.contains(Oe)?h(w):(w.close(),yield function Au(){const I=indexedDB.deleteDatabase(ko);return new Zi(I).toPromise()}(),h(yield E()))}))})}function S(I,h,p){return _.apply(this,arguments)}function _(){return(_=(0,Z.Z)(function*(I,h,p){const w=Do(I,!0).put({[qa]:h,value:p});return new Zi(w).toPromise()})).apply(this,arguments)}function O(){return(O=(0,Z.Z)(function*(I,h){const p=Do(I,!1).get(h),w=yield new Zi(p).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function K(I,h){const p=Do(I,!0).delete(h);return new Zi(p).toPromise()}const wt=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,Z.Z)(function*(){return p.db||(p.db=yield E()),p.db})()}_withRetries(p){var w=this;return(0,Z.Z)(function*(){let F=0;for(;;)try{const Y=yield w._openDb();return yield p(Y)}catch(Y){if(F++>3)throw Y;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,Z.Z)(function*(){return ao()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,Z.Z)(function*(){p.receiver=hc._getInstance(function rd(){return ao()?self:null}()),p.receiver._subscribe("keyChanged",function(){var w=(0,Z.Z)(function*(F,Y){return{keyProcessed:(yield p._poll()).includes(Y.key)}});return function(F,Y){return w.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var w=(0,Z.Z)(function*(F,Y){return["keyChanged"]});return function(F,Y){return w.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,Z.Z)(function*(){var w,F;if(p.activeServiceWorker=yield function Vs(){return ha.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new ps(p.activeServiceWorker);const Y=yield p.sender._send("ping",{},800);Y&&null!==(w=Y[0])&&void 0!==w&&w.fulfilled&&null!==(F=Y[0])&&void 0!==F&&F.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var w=this;return(0,Z.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function il(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:p},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,Z.Z)(function*(){try{if(!indexedDB)return!1;const p=yield E();return yield S(p,jr,"1"),yield K(p,jr),!0}catch{}return!1})()}_withPendingWrite(p){var w=this;return(0,Z.Z)(function*(){w.pendingWrites++;try{yield p()}finally{w.pendingWrites--}})()}_set(p,w){var F=this;return(0,Z.Z)(function*(){return F._withPendingWrite((0,Z.Z)(function*(){return yield F._withRetries(Y=>S(Y,p,w)),F.localCache[p]=w,F.notifyServiceWorker(p)}))})()}_get(p){var w=this;return(0,Z.Z)(function*(){const F=yield w._withRetries(Y=>function b(I,h){return O.apply(this,arguments)}(Y,p));return w.localCache[p]=F,F})()}_remove(p){var w=this;return(0,Z.Z)(function*(){return w._withPendingWrite((0,Z.Z)(function*(){return yield w._withRetries(F=>K(F,p)),delete w.localCache[p],w.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,Z.Z)(function*(){const w=yield p._withRetries(Ie=>{const Ke=Do(Ie,!1).getAll();return new Zi(Ke).toPromise()});if(!w)return[];if(0!==p.pendingWrites)return[];const F=[],Y=new Set;for(const{fbase_key:Ie,value:Ke}of w)Y.add(Ie),JSON.stringify(p.localCache[Ie])!==JSON.stringify(Ke)&&(p.notifyListeners(Ie,Ke),F.push(Ie));for(const Ie of Object.keys(p.localCache))p.localCache[Ie]&&!Y.has(Ie)&&(p.notifyListeners(Ie,null),F.push(Ie));return F})()}notifyListeners(p,w){this.localCache[p]=w;const F=this.listeners[p];if(F)for(const Y of Array.from(F))Y(w)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,Z.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();On("rcb"),new Ve(3e4,6e4);class al extends es{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return pr(h,this._buildIdpRequest())}_linkToIdToken(h,p){return pr(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return pr(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function oi(I){return Di(I.auth,new al(I),I.bypassAuthState)}function ad(I){const{auth:h,user:p}=I;return lt(p,h,"internal-error"),function Or(I,h){return br.apply(this,arguments)}(p,new al(I),I.bypassAuthState)}function Ks(I){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,Z.Z)(function*(I){const{auth:h,user:p}=I;return lt(p,h,"internal-error"),function Vt(I,h){return fn.apply(this,arguments)}(p,new al(I),I.bypassAuthState)})).apply(this,arguments)}class bu{constructor(h,p,w,F,Y=!1){this.auth=h,this.resolver=w,this.user=F,this.bypassAuthState=Y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,Z.Z)(function*(w,F){h.pendingPromise={resolve:w,reject:F};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(Y){h.reject(Y)}});return function(w,F){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,Z.Z)(function*(){const{urlResponse:w,sessionId:F,postBody:Y,tenantId:Ie,error:Ke,type:tt}=h;if(Ke)return void p.reject(Ke);const zt={auth:p.auth,requestUri:w,sessionId:F,tenantId:Ie||void 0,postBody:Y||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(tt)(zt))}catch(an){p.reject(an)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return oi;case"linkViaPopup":case"linkViaRedirect":return Ks;case"reauthViaPopup":case"reauthViaRedirect":return ad;default:st(this.auth,"internal-error")}}resolve(h){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Ve(2e3,1e4);const bs="pendingRedirect",Sa=new Map;class Ya extends bu{constructor(h,p,w=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,w),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,Z.Z)(function*(){let w=Sa.get(p.auth._key());if(!w){try{const Y=(yield function Za(I,h){return ul.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;w=()=>Promise.resolve(Y)}catch(F){w=()=>Promise.reject(F)}Sa.set(p.auth._key(),w)}return p.bypassAuthState||Sa.set(p.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,w=this;return(0,Z.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(w,h);if("unknown"!==h.type){if(h.eventId){const F=yield w.auth._redirectUserForId(h.eventId);if(F)return w.user=F,p().call(w,h);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,Z.Z)(function*(){})()}cleanUp(){}}function ul(){return(ul=(0,Z.Z)(function*(I,h){const p=function Ja(I){return qr(bs,I.config.apiKey,I.name)}(h),w=function Vo(I){return Pt(I._redirectPersistence)}(I);if(!(yield w._isAvailable()))return!1;const F="true"===(yield w._get(p));return yield w._remove(p),F})).apply(this,arguments)}function ga(I,h){Sa.set(I._key(),h)}function Xa(I,h){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,Z.Z)(function*(I,h,p=!1){const w=bn(I),F=function Co(I,h){return h?Pt(h):(lt(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}(w,h),Ie=yield new Ya(w,F,p).execute();return Ie&&!p&&(delete Ie.user._redirectEventId,yield w._persistUserIfCurrent(Ie.user),yield w._setRedirectUser(null,h)),Ie})).apply(this,arguments)}class eu{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(h,w)&&(p=!0,this.sendToConsumer(h,w),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function ai(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pa(I);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var w;if(h.error&&!Pa(h)){const F=(null===(w=h.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";p.onError(ct(this.auth,F))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const w=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&w}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Oi(h))}saveEventToCache(h){this.cachedEventUids.add(Oi(h)),this.lastProcessedEventTime=Date.now()}}function Oi(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(h=>h).join("-")}function Pa({type:I,error:h}){return"unknown"===I&&"auth/no-auth-event"===h?.code}function _a(){return(_a=(0,Z.Z)(function*(I,h={}){return gt(I,"GET","/v1/projects",h)})).apply(this,arguments)}const hp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gc=/^https?/;function ld(){return ld=(0,Z.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:h}=yield function aa(I){return _a.apply(this,arguments)}(I);for(const p of h)try{if(cr(p))return}catch{}st(I,"unauthorized-domain")}),ld.apply(this,arguments)}function cr(I){const h=vt(),{protocol:p,hostname:w}=new URL(h);if(I.startsWith("chrome-extension://")){const Ie=new URL(I);return""===Ie.hostname&&""===w?"chrome-extension:"===p&&I.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Ie.hostname===w}if(!gc.test(p))return!1;if(hp.test(I))return w===I;const F=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+F+"|"+F+")$","i").test(w)}const zr=new Ve(3e4,6e4);function Nu(){const I=Hr().___jsl;if(I?.H)for(const h of Object.keys(I.H))if(I.H[h].r=I.H[h].r||[],I.H[h].L=I.H[h].L||[],I.H[h].r=[...I.H[h].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let Ko=null;const dd=new Ve(5e3,15e3),is="__/auth/iframe",kh="emulator/auth/iframe",Ou={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uo(I){const h=I.config;lt(h.authDomain,I,"auth-domain-config-required");const p=h.emulator?he(h,kh):`https://${I.config.authDomain}/${is}`,w={apiKey:h.apiKey,appName:I.name,v:Ee.Jn},F=fp.get(I.config.apiHost);F&&(w.eid=F);const Y=I._getFrameworks();return Y.length&&(w.fw=Y.join(",")),`${p}?${(0,X.xO)(w).slice(1)}`}function mc(){return mc=(0,Z.Z)(function*(I){const h=yield function xh(I){return Ko=Ko||function Oh(I){return new Promise((h,p)=>{var w,F,Y;function Ie(){Nu(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Nu(),p(ct(I,"network-request-failed"))},timeout:zr.get()})}if(null!==(F=null===(w=Hr().gapi)||void 0===w?void 0:w.iframes)&&void 0!==F&&F.Iframe)h(gapi.iframes.getContext());else{if(null===(Y=Hr().gapi)||void 0===Y||!Y.load){const Ke=On("iframefcb");return Hr()[Ke]=()=>{gapi.load?Ie():p(ct(I,"network-request-failed"))},Ts(`https://apis.google.com/js/api.js?onload=${Ke}`).catch(tt=>p(tt))}Ie()}}).catch(h=>{throw Ko=null,h})}(I),Ko}(I),p=Hr().gapi;return lt(p,I,"internal-error"),h.open({where:document.body,url:Uo(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ou,dontclear:!0},w=>new Promise(function(){var F=(0,Z.Z)(function*(Y,Ie){yield w.restyle({setHideOnLeave:!1});const Ke=ct(I,"network-request-failed"),tt=Hr().setTimeout(()=>{Ie(Ke)},dd.get());function zt(){Hr().clearTimeout(tt),Y(w)}w.ping(zt).then(zt,()=>{Ie(Ke)})});return function(Y,Ie){return F.apply(this,arguments)}}()))}),mc.apply(this,arguments)}const fl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class hd{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ya="__/auth/handler",fd="emulator/auth/handler",pd=encodeURIComponent("fac");function gd(I,h,p,w,F,Y){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,Z.Z)(function*(I,h,p,w,F,Y){lt(I.config.authDomain,I,"auth-domain-config-required"),lt(I.config.apiKey,I,"invalid-api-key");const Ie={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:w,v:Ee.Jn,eventId:F};if(h instanceof Er){h.setDefaultLanguage(I.languageCode),Ie.providerId=h.providerId||"",(0,X.xb)(h.getCustomParameters())||(Ie.customParameters=JSON.stringify(h.getCustomParameters()));for(const[an,Yn]of Object.entries(Y||{}))Ie[an]=Yn}if(h instanceof ia){const an=h.getScopes().filter(Yn=>""!==Yn);an.length>0&&(Ie.scopes=an.join(","))}I.tenantId&&(Ie.tid=I.tenantId);const Ke=Ie;for(const an of Object.keys(Ke))void 0===Ke[an]&&delete Ke[an];const tt=yield I._getAppCheckToken(),zt=tt?`#${pd}=${encodeURIComponent(tt)}`:"";return`${function Lh({config:I}){return I.emulator?he(I,fd):`https://${I.authDomain}/${ya}`}(I)}?${(0,X.xO)(Ke).slice(1)}${zt}`})).apply(this,arguments)}const Ma="webStorageSupport",md=class Fh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=at,this._completeRedirectFn=Xa,this._overrideRedirectResult=ga}_openPopup(h,p,w,F){var Y=this;return(0,Z.Z)(function*(){var Ie;Sr(null===(Ie=Y.eventManagers[h._key()])||void 0===Ie?void 0:Ie.manager,"_initialize() not called before _openPopup()");const Ke=yield gd(h,p,w,vt(),F);return function ms(I,h,p,w=500,F=600){const Y=Math.max((window.screen.availHeight-F)/2,0).toString(),Ie=Math.max((window.screen.availWidth-w)/2,0).toString();let Ke="";const tt=Object.assign(Object.assign({},fl),{width:w.toString(),height:F.toString(),top:Y,left:Ie}),zt=(0,X.z$)().toLowerCase();p&&(Ke=it(zt)?"_blank":p),qe(zt)&&(h=h||"http://localhost",tt.scrollbars="yes");const an=Object.entries(tt).reduce((xi,[ua,Ac])=>`${xi}${ua}=${Ac},`,"");if(function Rs(I=(0,X.z$)()){var h;return hr(I)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(zt)&&"_self"!==Ke)return function tu(I,h){const p=document.createElement("a");p.href=I,p.target=h;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(w)}(h||"",Ke),new hd(null);const Yn=window.open(h||"",Ke,an);lt(Yn,I,"popup-blocked");try{Yn.focus()}catch{}return new hd(Yn)}(h,Ke,xo())})()}_openRedirect(h,p,w,F){var Y=this;return(0,Z.Z)(function*(){return yield Y._originValidation(h),function Aa(I){Hr().location.href=I}(yield gd(h,p,w,vt(),F)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:F,promise:Y}=this.eventManagers[p];return F?Promise.resolve(F):(Sr(Y,"If manager is not set, promise should be"),Y)}const w=this.initAndGetManager(h);return this.eventManagers[p]={promise:w},w.catch(()=>{delete this.eventManagers[p]}),w}initAndGetManager(h){var p=this;return(0,Z.Z)(function*(){const w=yield function xu(I){return mc.apply(this,arguments)}(h),F=new eu(h);return w.register("authEvent",Y=>(lt(Y?.authEvent,h,"invalid-auth-event"),{status:F.onEvent(Y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:F},p.iframes[h._key()]=w,F})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Ma,{type:Ma},F=>{var Y;const Ie=null===(Y=F?.[0])||void 0===Y?void 0:Y[Ma];void 0!==Ie&&p(!!Ie),st(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Am(I){return ld.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Qr()||Ne()||hr()}};var Na="@firebase/auth";class vc{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,Z.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(w=>{h(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Fu=(0,X.Pz)("authIdTokenMaxAge")||300;let ys=null;const Vh=I=>function(){var h=(0,Z.Z)(function*(p){const w=p&&(yield p.getIdTokenResult()),F=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(F&&F>Fu)return;const Y=w?.token;ys!==Y&&(ys=Y,yield fetch(I,{method:Y?"POST":"DELETE",headers:Y?{Authorization:`Bearer ${Y}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function pl(I=(0,Ee.Mq)()){const h=(0,Ee.qX)(I,"auth");if(h.isInitialized())return h.getImmediate();const p=function Xs(I,h){const p=(0,Ee.qX)(I,"auth");if(p.isInitialized()){const F=p.getImmediate(),Y=p.getOptions();if((0,X.vZ)(Y,h??{}))return F;st(F,"already-initialized")}return p.initialize({options:h})}(I,{popupRedirectResolver:md,persistence:[wt,kt,at]}),w=(0,X.Pz)("authTokenSyncURL");if(w){const Y=Vh(w);(function lc(I,h,p){(0,X.m9)(I).beforeAuthStateChanged(h,p)})(p,Y,()=>Y(p.currentUser)),function Ut(I,h,p,w){(0,X.m9)(I).onIdTokenChanged(h,p,w)}(p,Ie=>Y(Ie))}const F=(0,X.q4)("auth");return F&&function eo(I,h,p){const w=bn(I);lt(w._canInitEmulator,w,"emulator-config-failed"),lt(/^https?:\/\//.test(h),w,"invalid-emulator-scheme");const F=!!p?.disableWarnings,Y=zs(h),{host:Ie,port:Ke}=function to(I){const h=zs(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(h.length));if(!p)return{host:"",port:null};const w=p[2].split("@").pop()||"",F=/^(\[[^\]]+\])(:|$)/.exec(w);if(F){const Y=F[1];return{host:Y,port:vo(w.substr(Y.length+1))}}{const[Y,Ie]=w.split(":");return{host:Y,port:vo(Ie)}}}(h);w.config.emulator={url:`${Y}//${Ie}${null===Ke?"":`:${Ke}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Ie,port:Ke,protocol:Y.replace(":",""),options:Object.freeze({disableWarnings:F})}),F||function ra(){function I(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(p,`http://${F}`),p}!function _p(I){(0,Ee.Xd)(new ee.wA("auth",(h,{options:p})=>{const w=h.getProvider("app").getImmediate(),F=h.getProvider("heartbeat"),Y=h.getProvider("app-check-internal"),{apiKey:Ie,authDomain:Ke}=w.options;lt(Ie&&!Ie.includes(":"),"invalid-api-key",{appName:w.name});const tt={apiKey:Ie,authDomain:Ke,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xi(I)},zt=new Ms(w,F,Y,tt);return function bo(I,h){const p=h?.persistence||[],w=(Array.isArray(p)?p:[p]).map(Pt);h?.errorMap&&I._updateErrorMap(h.errorMap),I._initializeWithPersistence(w,h?.popupRedirectResolver)}(zt,p),zt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,w)=>{h.getProvider("auth-internal").initialize()})),(0,Ee.Xd)(new ee.wA("auth-internal",h=>{const p=bn(h.getProvider("auth").getImmediate());return new vc(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ee.KN)(Na,"1.4.0",function _d(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,Ee.KN)(Na,"1.4.0","esm2017")}("Browser");class So{constructor(h){return h}}class Uh{constructor(){return(0,y.vb)("auth")}}const yd=new re.OlP("angularfire2.auth-instances");function xn(I){return(h,p)=>{const w=h.runOutsideAngular(()=>I(p));return new So(w)}}const Bh={provide:Uh,deps:[[new re.FiY,yd]]},vd={provide:So,useFactory:function yp(I,h){const p=(0,y.JM)("auth",I,h);return p&&new So(p)},deps:[[new re.FiY,yd],ve.Ot]};let Ed=(()=>{class I{constructor(){(0,se.KN)("angularfire",y.q4.full,"auth")}static \u0275fac=function(w){return new(w||I)};static \u0275mod=re.oAB({type:I});static \u0275inj=re.cJS({providers:[vd,Bh]})}return I})();function vp(I,...h){return{ngModule:Ed,providers:[{provide:yd,useFactory:xn(I),multi:!0,deps:[re.R0b,re.zs3,y.HU,ve.z6,[new re.FiY,y.Rf],...h]}]}}const Vu=(0,y.u3)(Qi,!0),Ep=(0,y.u3)(pl,!0),wl=(0,y.u3)(M,!0),vs=(0,y.u3)(po,!0),Dl=(0,y.u3)(ns,!0)},5349:(bt,Be,U)=>{U.d(Be,{gg:()=>ep,hJ:()=>py,BS:()=>hy,JU:()=>my,ad:()=>yE,Cm:()=>dy,IO:()=>mm,pl:()=>bT,r7:()=>PE,ar:()=>ed});var Ae,y=U(1920),re=U(5879),ve=U(721),se=U(3435),Z=U(3182),X=U(5861),Ee=U(534),Me=U(4537),me=U(7879),ee=U(9058),ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},De={},Ze=Ze||{},Le=ce||self;function Qe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function yt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var ln="closure_uid_"+(1e9*Math.random()>>>0),Mt=0;function le(i,e,n){return i.call.apply(i.bind,arguments)}function We(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function ye(i,e,n){return(ye=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?le:We).apply(null,arguments)}function Ye(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function st(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),A=2;A<arguments.length;A++)f[A-2]=arguments[A];return e.prototype[u].apply(o,f)}}function ct(){this.s=this.s,this.o=this.o}ct.prototype.s=!1,ct.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function At(i){Object.prototype.hasOwnProperty.call(i,ln)&&i[ln]||(i[ln]=++Mt)}(this)},ct.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Zt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function zn(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function lt(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Qe(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function Nn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Nn.prototype.h=function(){this.defaultPrevented=!0};var Sr=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Le.addEventListener("test",()=>{},e),Le.removeEventListener("test",()=>{},e)}catch{}return i}();function vt(i){return/^[\s\xa0]*$/.test(i)}function Jt(){var i=Le.navigator;return i&&(i=i.userAgent)?i:""}function Rt(i){return-1!=Jt().indexOf(i)}function Re(i){return Re[" "](i),i}Re[" "]=function(){};var $t,i,Ve=Rt("Opera"),he=Rt("Trident")||Rt("MSIE"),je=Rt("Edge"),de=je||he,Ce=Rt("Gecko")&&!(-1!=Jt().toLowerCase().indexOf("webkit")&&!Rt("Edge"))&&!(Rt("Trident")||Rt("MSIE"))&&!Rt("Edge"),Se=-1!=Jt().toLowerCase().indexOf("webkit")&&!Rt("Edge");function gt(){var i=Le.document;return i?i.documentMode:void 0}e:{var pt="",jt=(i=Jt(),Ce?/rv:([^\);]+)(\)|;)/.exec(i):je?/Edge\/([\d\.]+)/.exec(i):he?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Se?/WebKit\/(\S+)/.exec(i):Ve?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(jt&&(pt=jt?jt[1]:""),he){var Tn=gt();if(null!=Tn&&Tn>parseFloat(pt)){$t=String(Tn);break e}}$t=pt}var Un=Le.document&&he&&(gt()||parseInt($t,10))||void 0;function mn(i,e){if(Nn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Ce){e:{try{Re(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:kr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&mn.$.h.call(this)}}st(mn,Nn);var kr={2:"touch",3:"pen",4:"mouse"};mn.prototype.h=function(){mn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Vr="closure_listenable_"+(1e6*Math.random()|0),yr=0;function Ji(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++yr,this.fa=this.ia=!1}function Mr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Ur(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function yn(i){const e={};for(const n in i)e[n]=i[n];return e}const hn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xn(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<hn.length;l++)n=hn[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Ri(i){this.src=i,this.g={},this.h=0}function ar(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=Zt(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(Mr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function wn(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}Ri.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=wn(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new Ji(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var tn="closure_lm_"+(1e6*Math.random()|0),ki={};function qt(i,e,n,o,u){if(o&&o.once)return _i(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)qt(i,e[l],n,o,u);return null}return n=Xr(n),i&&i[Vr]?i.O(e,n,yt(o)?!!o.capture:!!o,u):Pi(i,e,n,!1,o,u)}function Pi(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=yt(u)?!!u.capture:!!u,A=Jr(i);if(A||(i[tn]=A=new Ri(i)),(n=A.add(e,n,o,f,l)).proxy)return n;if(o=function pn(){const e=ci;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)Sr||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(qn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function _i(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)_i(i,e[l],n,o,u);return null}return n=Xr(n),i&&i[Vr]?i.P(e,n,yt(o)?!!o.capture:!!o,u):Pi(i,e,n,!0,o,u)}function Wr(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)Wr(i,e[l],n,o,u);else o=yt(o)?!!o.capture:!!o,n=Xr(n),i&&i[Vr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=wn(l=i.g[e],n,o,u))&&(Mr(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=Jr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=wn(e,n,o,u)),(n=-1<i?e[i]:null)&&Hi(n))}function Hi(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Vr])ar(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(qn(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Jr(e))?(ar(n,i),0==n.h&&(n.src=null,e[tn]=null)):Mr(i)}}}function qn(i){return i in ki?ki[i]:ki[i]="on"+i}function ci(i,e){if(i.fa)i=!0;else{e=new mn(e,this);var n=i.listener,o=i.la||i.src;i.ia&&Hi(i),i=n.call(o,e)}return i}function Jr(i){return(i=i[tn])instanceof Ri?i:null}var yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xr(i){return"function"==typeof i?i:(i[yi]||(i[yi]=function(e){return i.handleEvent(e)}),i[yi])}function nr(){ct.call(this),this.i=new Ri(this),this.S=this,this.J=null}function un(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new Nn(e,i);else if(e instanceof Nn)e.target=e.target||i;else{var u=e;Xn(e=new Nn(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=li(f,o,!0,e)&&u}if(u=li(f=e.g=i,o,!0,e)&&u,u=li(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=li(f=e.g=n[l],o,!1,e)&&u}function li(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var A=f.listener,R=f.la||f.src;f.ia&&ar(i.i,f),u=!1!==A.call(R,o)&&u}}return u&&!o.defaultPrevented}st(nr,ct),nr.prototype[Vr]=!0,nr.prototype.removeEventListener=function(i,e,n,o){Wr(this,i,e,n,o)},nr.prototype.N=function(){if(nr.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Mr(n[o]);delete i.g[e],i.h--}}this.J=null},nr.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},nr.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var Li=Le.JSON.stringify;function W(){var i=rn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var G=new class fe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new q,i=>i.reset());class q{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function be(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function et(i){Le.setTimeout(()=>{throw i},0)}let ht,Lt=!1,rn=new class Q{constructor(){this.h=this.g=null}add(e,n){const o=G.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},Pt=()=>{const i=Le.Promise.resolve(void 0);ht=()=>{i.then(Qt)}};var Qt=()=>{for(var i;i=W();){try{i.h.call(i.g)}catch(n){et(n)}var e=G;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Lt=!1};function Zn(i,e){nr.call(this),this.h=i||1,this.g=e||Le,this.j=ye(this.qb,this),this.l=Date.now()}function qr(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Kr(i,e,n){if("function"==typeof i)n&&(i=ye(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ye(i.handleEvent,i)}return 2147483647<Number(e)?-1:Le.setTimeout(i,e||0)}function Nr(i){i.g=Kr(()=>{i.g=null,i.i&&(i.i=!1,Nr(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}st(Zn,nr),(Ae=Zn.prototype).ga=!1,Ae.T=null,Ae.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),un(this,"tick"),this.ga&&(qr(this),this.start()))}},Ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ae.N=function(){Zn.$.N.call(this),qr(this),delete this.g};class qe extends ct{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Nr(this)}N(){super.N(),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ne(i){ct.call(this),this.h=i,this.g={}}st(Ne,ct);var it=[];function Ft(i,e,n,o){Array.isArray(n)||(n&&(it[0]=n.toString()),n=it);for(var u=0;u<n.length;u++){var l=qt(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function nn(i){Ur(i.g,function(e,n){this.g.hasOwnProperty(n)&&Hi(e)},i),i.g={}}function Tt(){this.g=!0}function Jn(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vi(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return Li(n)}catch{return e}}(i,n)+(o?" "+o:"")})}Ne.prototype.N=function(){Ne.$.N.call(this),nn(this)},Ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tt.prototype.Ea=function(){this.g=!1},Tt.prototype.info=function(){};var Qr={},Bs=null;function Xi(){return Bs=Bs||new nr}function lo(i){Nn.call(this,Qr.Ta,i)}function Ps(i){const e=Xi();un(e,new lo(e))}function ho(i,e){Nn.call(this,Qr.STAT_EVENT,i),this.stat=e}function Bn(i){const e=Xi();un(e,new ho(e,i))}function Js(i,e){Nn.call(this,Qr.Ua,i),this.size=e}function Ms(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){i()},e)}Qr.Ta="serverreachability",st(lo,Nn),Qr.STAT_EVENT="statevent",st(ho,Nn),Qr.Ua="timingevent",st(Js,Nn);var bn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$s={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function as(){}function On(){}as.prototype.h=null;var _o,us={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function js(){Nn.call(this,"d")}function mo(){Nn.call(this,"c")}function yo(){}function zi(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new Ne(this),this.P=na,this.V=new Zn(i=de?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Hs}function Hs(){this.i=null,this.g="",this.h=!1}st(js,Nn),st(mo,Nn),st(yo,as),yo.prototype.g=function(){return new XMLHttpRequest},yo.prototype.i=function(){return{}},_o=new yo;var na=45e3,Ei={},fo={};function Xs(i,e,n){i.L=1,i.v=er(Gi(e)),i.s=n,i.S=!0,bo(i,null)}function bo(i,e){i.G=Date.now(),vo(i),i.A=Gi(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),xs(n.i,"t",o),i.C=0,n=i.l.J,i.h=new Hs,i.g=J(i.l,n?e:null,!i.s),0<i.O&&(i.M=new qe(ye(i.Pa,i,i.g),i.O)),Ft(i.U,i.g,"readystatechange",i.nb),e=i.I?yn(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Ps(),function Pn(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",A=l.split("&"),R=0;R<A.length;R++){var k=A[R].split("=");if(1<k.length){var H=k[0];k=k[1];var ne=H.split("_");f=2<=ne.length&&"type"==ne[1]?f+(H+"=")+k+"&":f+(H+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function eo(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function zs(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=to(i,n),u==fo){4==e&&(i.o=4,Bn(14),o=!1),Jn(i.j,i.m,null,"[Incomplete Response]");break}if(u==Ei){i.o=4,Bn(15),Jn(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Jn(i.j,i.m,u,null),Lr(i,u)}eo(i)&&u!=fo&&u!=Ei&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Bn(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ri(e),e.M=!0,Bn(11))):(Jn(i.j,i.m,n,"[Invalid Chunked Response]"),gn(i),no(i))}function to(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?fo:(n=Number(e.substring(n,o)),isNaN(n)?Ei:(o+=1)+n>e.length?fo:(e=e.slice(o,o+n),i.C=o+n,e))}function vo(i){i.Y=Date.now()+i.P,ra(i,i.P)}function ra(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ms(ye(i.lb,i),e)}function es(i){i.B&&(Le.clearTimeout(i.B),i.B=null)}function no(i){0==i.l.H||i.J||B(i.l,i)}function gn(i){es(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,qr(i.V),nn(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Lr(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Io(n.i,i)))if(!i.K&&Io(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;Bi(n),gr(n)}Ir(n),Bn(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ms(ye(n.ib,n),6e3));if(1>=Vi(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else T(n,11)}else if((i.K||n.g==i)&&Bi(n),!vt(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let k=u[e];if(n.V=k[0],k=k[1],2==n.H)if("c"==k[0]){n.K=k[1],n.pa=k[2];const H=k[3];null!=H&&(n.ra=H,n.l.info("VER="+n.ra));const ne=k[4];null!=ne&&(n.Ga=ne,n.l.info("SVER="+n.Ga));const _e=k[5];null!=_e&&"number"==typeof _e&&0<_e&&(n.L=o=1.5*_e,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const ze=i.g;if(ze){const dt=ze.g?ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dt){var l=o.i;l.g||-1==dt.indexOf("spdy")&&-1==dt.indexOf("quic")&&-1==dt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Cn(l,l.h),l.h=null))}if(o.F){const It=ze.g?ze.g.getResponseHeader("X-HTTP-Session-Id"):null;It&&(o.Da=It,Nt(o.I,o.F,It))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=j(o,o.J?o.pa:null,o.Y),f.K){$o(o.i,f);var A=f,R=o.L;R&&A.setTimeout(R),A.B&&(es(A),vo(A)),o.g=f}else $r(o);0<n.j.length&&br(n)}else"stop"!=k[0]&&"close"!=k[0]||T(n,7);else 3==n.H&&("stop"==k[0]||"close"==k[0]?"stop"==k[0]?T(n,7):kn(n):"noop"!=k[0]&&n.h&&n.h.Aa(k),n.A=0)}Ps()}catch{}}function ei(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Qe(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Fi(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Qe(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function fr(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Qe(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(Ae=zi.prototype).setTimeout=function(i){this.P=i},Ae.nb=function(i){i=i.target;const e=this.M;e&&3==ae(i)?e.l():this.Pa(i)},Ae.Pa=function(i){try{if(i==this.g)e:{const H=ae(this.g);var e=this.g.Ia();if(this.g.da(),!(3>H)&&(3!=H||de||this.g&&(this.h.h||this.g.ja()||Pe(this.g)))){this.J||4!=H||7==e||Ps(),es(this);var n=this.g.da();this.ca=n;t:if(eo(this)){var o=Pe(this.g);i="";var u=o.length,l=4==ae(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),no(this);var f="";break t}this.h.i=new Le.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function hr(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,H,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var A,R=this.g;if((A=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vt(A)){var k=A;break t}}k=null}if(!(n=k)){this.i=!1,this.o=3,Bn(12),gn(this),no(this);break e}Jn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lr(this,n)}this.S?(zs(this,H,f),de&&this.i&&3==H&&(Ft(this.U,this.V,"tick",this.mb),this.V.start())):(Jn(this.j,this.m,f,null),Lr(this,f)),4==H&&gn(this),this.i&&!this.J&&(4==H?B(this.l,this):(this.i=!1,vo(this)))}else(function Xe(i){const e={};i=(i.g&&2<=ae(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(vt(i[o]))continue;var n=be(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function en(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,Bn(12)):(this.o=0,Bn(13)),gn(this),no(this)}}}catch{}},Ae.mb=function(){if(this.g){var i=ae(this.g),e=this.g.ja();this.C<e.length&&(es(this),zs(this,i,e),this.i&&4!=i&&vo(this))}},Ae.cancel=function(){this.J=!0,gn(this)},Ae.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Rs(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ps(),Bn(17)),gn(this),this.o=2,no(this)):ra(this,this.Y-i)};var Ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function di(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof di){this.h=i.h,Ns(this,i.j),this.s=i.s,this.g=i.g,Kn(this,i.m),this.l=i.l;var e=i.i,n=new cs;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ct(this,n),this.o=i.o}else i&&(e=String(i).match(Ro))?(this.h=!1,Ns(this,e[1]||"",!0),this.s=Br(e[2]||""),this.g=Br(e[3]||"",!0),Kn(this,e[4]),this.l=Br(e[5]||"",!0),Ct(this,e[6]||"",!0),this.o=Br(e[7]||"")):(this.h=!1,this.i=new cs(null,this.h))}function Gi(i){return new di(i)}function Ns(i,e,n){i.j=n?Br(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Kn(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ct(i,e,n){e instanceof cs?(i.i=e,function ls(i,e){e&&!i.j&&(Wi(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(pr(this,o),xs(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=ws(e,ro)),i.i=new cs(e,i.h))}function Nt(i,e,n){i.i.set(e,n)}function er(i){return Nt(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Br(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ws(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ti),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ti(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}di.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ws(e,Gs,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ws(e,Gs,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(ws(n,"/"==n.charAt(0)?Os:ur,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",ws(n,on)),i.join("")};var Gs=/[#\/\?@]/g,ur=/[#\?:]/g,Os=/[#\?]/g,ro=/[#\?@]/g,on=/#/g;function cs(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Wi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Po(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function pr(i,e){Wi(i),e=hi(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function vr(i,e){return Wi(i),e=hi(i,e),i.g.has(e)}function xs(i,e,n){pr(i,e),0<n.length&&(i.i=null,i.g.set(hi(i,e),zn(n)),i.h+=n.length)}function hi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Eo(i){this.l=i||ks,i=Le.PerformanceNavigationTiming?0<(i=Le.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Le.g&&Le.g.Ka&&Le.g.Ka()&&Le.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ae=cs.prototype).add=function(i,e){Wi(this),this.i=null,i=hi(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Ae.forEach=function(i,e){Wi(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},Ae.ta=function(){Wi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},Ae.Z=function(i){Wi(this);let e=[];if("string"==typeof i)vr(this,i)&&(e=e.concat(this.g.get(hi(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Ae.set=function(i,e){return Wi(this),this.i=null,vr(this,i=hi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ae.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var ks=10;function io(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Vi(i){return i.h?1:i.g?i.g.size:0}function Io(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Cn(i,e){i.g?i.g.add(e):i.h=e}function $o(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ls(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return zn(i.i)}Eo.prototype.cancel=function(){if(this.i=Ls(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Ii=class{stringify(i){return Le.JSON.stringify(i,void 0)}parse(i){return Le.JSON.parse(i,void 0)}};function fi(){this.g=new Ii}function Ti(i,e,n){const o=n||"";try{ei(i,function(u,l){let f=u;yt(u)&&(f=Li(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function qi(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Er(i){this.l=i.ec||null,this.j=i.ob||!1}function ia(i,e){nr.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Fr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}st(Er,as),Er.prototype.g=function(){return new ia(this.l,this.j)},Er.prototype.i=function(i){return function(){return i}}({}),st(ia,nr);var Fr=0;function wi(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Ws(i){i.readyState=4,i.l=null,i.j=null,i.A=null,hs(i)}function hs(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ae=ia.prototype).open=function(i,e){if(this.readyState!=Fr)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,hs(this)},Ae.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ws(this)),this.readyState=Fr},Ae.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,hs(this)),this.g&&(this.readyState=3,hs(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wi(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Ae.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ws(this):hs(this),3==this.readyState&&wi(this)}},Ae.Za=function(i){this.g&&(this.response=this.responseText=i,Ws(this))},Ae.Ya=function(i){this.g&&(this.response=i,Ws(this))},Ae.ka=function(){this.g&&Ws(this)},Ae.setRequestHeader=function(i,e){this.v.append(i,e)},Ae.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ae.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(ia.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var sa=Le.JSON.parse;function Dn(i){nr.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qs,this.L=this.M=!1}st(Dn,nr);var qs="",No=/^https?$/i,wu=["POST","PUT"];function so(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ki(i),V(i)}function Ki(i){i.F||(i.F=!0,un(i,"complete"),un(i,"error"))}function L(i){if(i.h&&typeof Ze<"u"&&(!i.C[1]||4!=ae(i)||2!=i.da()))if(i.v&&4==ae(i))Kr(i.La,0,i);else if(un(i,"readystatechange"),4==ae(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(Ro)[1]||null;!u&&Le.self&&Le.self.location&&(u=Le.self.location.protocol.slice(0,-1)),o=!No.test(u?u.toLowerCase():"")}n=o}if(n)un(i,"complete"),un(i,"success");else{i.m=6;try{var l=2<ae(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",Ki(i)}}finally{V(i)}}}function V(i,e){if(i.g){oe(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||un(i,"ready");try{n.onreadystatechange=o}catch{}}}function oe(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Le.clearTimeout(i.A),i.A=null)}function ae(i){return i.g?i.g.readyState:0}function Pe(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case qs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function mt(i){let e="";return Ur(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function Wt(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=mt(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Nt(i,e,n))}function Vt(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function fn(i){this.Ga=0,this.j=[],this.l=new Tt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vt("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vt("baseRetryDelayMs",5e3,i),this.hb=Vt("retryDelaySeedMs",1e4,i),this.eb=Vt("forwardChannelMaxRetries",2,i),this.xa=Vt("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Eo(i&&i.concurrentRequestLimit),this.Ja=new fi,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function kn(i){if(Or(i),3==i.H){var e=i.W++,n=Gi(i.I);if(Nt(n,"SID",i.K),Nt(n,"RID",e),Nt(n,"TYPE","terminate"),wr(i,n),(e=new zi(i,i.l,e)).L=2,e.v=er(Gi(n)),n=!1,Le.navigator&&Le.navigator.sendBeacon)try{n=Le.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Le.Image&&((new Image).src=e.v,n=!0),n||(e.g=J(e.l,null),e.g.ha(e.v)),e.G=Date.now(),vo(e)}P(i)}function gr(i){i.g&&(ri(i),i.g.cancel(),i.g=null)}function Or(i){gr(i),i.u&&(Le.clearTimeout(i.u),i.u=null),Bi(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Le.clearTimeout(i.m),i.m=null)}function br(i){if(!io(i.i)&&!i.m){i.m=!0;var e=i.Na;ht||Pt(),Lt||(ht(),Lt=!0),rn.add(e,i),i.C=0}}function Ui(i,e){var n;n=e?e.m:i.W++;const o=Gi(i.I);Nt(o,"SID",i.K),Nt(o,"RID",n),Nt(o,"AID",i.V),wr(i,o),i.o&&i.s&&Wt(o,i.o,i.s),n=new zi(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=ni(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Cn(i.i,n),Xs(n,o,e)}function wr(i,e){i.na&&Ur(i.na,function(n,o){Nt(e,o,n)}),i.h&&ei({},function(n,o){Nt(e,o,n)})}function ni(i,e,n){n=Math.min(i.j.length,n);var o=i.h?ye(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let A=!0;for(let R=0;R<n;R++){let k=u[R].g;const H=u[R].map;if(k-=l,0>k)l=Math.max(0,u[R].g-100),A=!1;else try{Ti(H,f,"req"+k+"_")}catch{o&&o(H)}}if(A){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function $r(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;ht||Pt(),Lt||(ht(),Lt=!0),rn.add(e,i),i.A=0}}function Ir(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Ms(ye(i.Ma,i),m(i,i.A)),i.A++,0))}function ri(i){null!=i.B&&(Le.clearTimeout(i.B),i.B=null)}function rr(i){i.g=new zi(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Gi(i.wa);Nt(e,"RID","rpc"),Nt(e,"SID",i.K),Nt(e,"AID",i.V),Nt(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Nt(e,"TO",i.qa),Nt(e,"TYPE","xmlhttp"),wr(i,e),i.o&&i.s&&Wt(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=er(Gi(e)),n.s=null,n.S=!0,bo(n,i)}function Bi(i){null!=i.v&&(Le.clearTimeout(i.v),i.v=null)}function B(i,e){var n=null;if(i.g==e){Bi(i),ri(i),i.g=null;var o=2}else{if(!Io(i.i,e))return;n=e.F,$o(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;un(o=Xi(),new Js(o,n)),br(i)}else $r(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function Di(i,e){return!(Vi(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Ms(ye(i.Na,i,e),m(i,i.C)),i.C++,0)))}(i,e)||2==o&&Ir(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:T(i,5);break;case 4:T(i,10);break;case 3:T(i,6);break;default:T(i,2)}}function m(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function T(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=ye(i.pb,i);n||(n=new di("//www.google.com/images/cleardot.gif"),Le.location&&"http"==Le.location.protocol||Ns(n,"https"),er(n)),function Mo(i,e){const n=new Tt;if(Le.Image){const o=new Image;o.onload=Ye(qi,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Ye(qi,n,o,"TestLoadImage: error",!1,e),o.onabort=Ye(qi,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Ye(qi,n,o,"TestLoadImage: timeout",!1,e),Le.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Bn(2);i.H=0,i.h&&i.h.za(e),P(i),Or(i)}function P(i){if(i.H=0,i.ma=[],i.h){const e=Ls(i.i);(0!=e.length||0!=i.j.length)&&(lt(i.ma,e),lt(i.ma,i.j),i.i.i.length=0,zn(i.j),i.j.length=0),i.h.ya()}}function j(i,e,n){var o=n instanceof di?Gi(n):new di(n);if(""!=o.g)e&&(o.g=e+"."+o.g),Kn(o,o.m);else{var u=Le.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new di(null);o&&Ns(l,o),e&&(l.g=e),u&&Kn(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&Nt(o,n,e),Nt(o,"VER",i.ra),wr(i,o),o}function J(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Dn(n&&i.Ha&&!i.va?new Er({ob:!0}):i.va)).Oa(i.J),e}function pe(){}function ge(){if(he&&!(10<=Number(Un)))throw Error("Environmental error: no available transport.")}function xe(i,e){nr.call(this),this.g=new fn(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!vt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new xt(this)}function Je(i){js.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Et(){mo.call(this),this.status=1}function xt(i){this.g=i}function Yt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Kt(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function Ot(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(Ae=Dn.prototype).Oa=function(i){this.M=i},Ae.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_o.g(),this.C=function Ts(i){return i.h||(i.h=i.i())}(this.u?this.u:_o),this.g.onreadystatechange=ye(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void so(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=Le.FormData&&i instanceof Le.FormData,!(0<=Zt(wu,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{oe(this),0<this.B&&((this.L=function Oo(i){return he&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ye(this.ua,this)):this.A=Kr(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){so(this,l)}},Ae.ua=function(){typeof Ze<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,un(this,"timeout"),this.abort(8))},Ae.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,un(this,"complete"),un(this,"abort"),V(this))},Ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),V(this,!0)),Dn.$.N.call(this)},Ae.La=function(){this.s||(this.G||this.v||this.l?L(this):this.kb())},Ae.kb=function(){L(this)},Ae.isActive=function(){return!!this.g},Ae.da=function(){try{return 2<ae(this)?this.g.status:-1}catch{return-1}},Ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ae.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),sa(e)}},Ae.Ia=function(){return this.m},Ae.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ae=fn.prototype).ra=8,Ae.H=1,Ae.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new zi(this,this.l,i);let l=this.s;if(this.U&&(l?(l=yn(l),Xn(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ni(this,u,e),Nt(n=Gi(this.I),"RID",i),Nt(n,"CVER",22),this.F&&Nt(n,"X-HTTP-Session-Id",this.F),wr(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(mt(l)))+"&"+e:this.o&&Wt(n,this.o,l)),Cn(this.i,u),this.bb&&Nt(n,"TYPE","init"),this.P?(Nt(n,"$req",e),Nt(n,"SID","null"),u.aa=!0,Xs(u,n,null)):Xs(u,n,e),this.H=2}}else 3==this.H&&(i?Ui(this,i):0==this.j.length||io(this.i)||Ui(this))},Ae.Ma=function(){if(this.u=null,rr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Ms(ye(this.jb,this),i)}},Ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bn(10),gr(this),rr(this))},Ae.ib=function(){null!=this.v&&(this.v=null,gr(this),Ir(this),Bn(19))},Ae.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Bn(2)):(this.l.info("Failed to ping google.com"),Bn(1))},Ae.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ae=pe.prototype).Ba=function(){},Ae.Aa=function(){},Ae.za=function(){},Ae.ya=function(){},Ae.isActive=function(){return!0},Ae.Va=function(){},ge.prototype.g=function(i,e){return new xe(i,e)},st(xe,nr),xe.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Bn(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=j(i,null,i.Y),br(i)},xe.prototype.close=function(){kn(this.g)},xe.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=Li(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&br(e)},xe.prototype.N=function(){this.g.h=null,delete this.j,kn(this.g),delete this.g,xe.$.N.call(this)},st(Je,js),st(Et,mo),st(xt,pe),xt.prototype.Ba=function(){un(this.g,"a")},xt.prototype.Aa=function(i){un(this.g,new Je(i))},xt.prototype.za=function(i){un(this.g,new Et)},xt.prototype.ya=function(){un(this.g,"b")},st(Yt,function Mn(){this.blockSize=-1}),Yt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Yt.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)Kt(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){Kt(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){Kt(this,o),u=0;break}}this.h=u,this.i+=e},Yt.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var Rr={};function Ai(i){return-128<=i&&128>i?function Fe(i,e){var n=Rr;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new Ot([0|e],0>e?-1:0)}):new Ot([0|i],0>i?-1:0)}function Tr(i){if(isNaN(i)||!isFinite(i))return po;if(0>i)return Pr(Tr(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=Yr;return new Ot(e,0)}var Yr=4294967296,po=Ai(0),Ds=Ai(1),ii=Ai(16777216);function Yi(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function si(i){return-1==i.h}function Pr(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new Ot(n,~i.h).add(Ds)}function To(i,e){return i.add(Pr(e))}function oo(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function D(i,e){this.g=i,this.h=e}function $(i,e){if(Yi(e))throw Error("division by zero");if(Yi(i))return new D(po,po);if(si(i))return e=$(Pr(i),e),new D(Pr(e.g),Pr(e.h));if(si(e))return e=$(i,Pr(e)),new D(Pr(e.g),e.h);if(30<i.g.length){if(si(i)||si(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ds,o=e;0>=o.X(i);)n=M(n),o=M(o);var u=N(n,1),l=N(o,1);for(o=N(o,2),n=N(n,2);!Yi(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=N(o,1),n=N(n,1)}return e=To(i,u.R(e)),new D(u,e)}for(u=po;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=Tr(n)).R(e);si(f)||0<f.X(i);)f=(l=Tr(n-=o)).R(e);Yi(l)&&(l=Ds),u=u.add(l),i=To(i,f)}return new D(u,i)}function M(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new Ot(n,i.h)}function N(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new Ot(u,i.h)}(Ae=Ot.prototype).ea=function(){if(si(this))return-Pr(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:Yr+o)*e,e*=Yr}return i},Ae.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Yi(this))return"0";if(si(this))return"-"+Pr(this).toString(i);for(var e=Tr(Math.pow(i,6)),n=this,o="";;){var u=$(n,e).g,l=((0<(n=To(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(Yi(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},Ae.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Ae.X=function(i){return si(i=To(this,i))?-1:Yi(i)?0:1},Ae.abs=function(){return si(this)?Pr(this):this},Ae.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new Ot(n,-2147483648&n[n.length-1]?-1:0)},Ae.R=function(i){if(Yi(this)||Yi(i))return po;if(si(this))return si(i)?Pr(this).R(Pr(i)):Pr(Pr(this).R(i));if(si(i))return Pr(this.R(Pr(i)));if(0>this.X(ii)&&0>i.X(ii))return Tr(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),A=i.D(u)>>>16,R=65535&i.D(u);n[2*o+2*u]+=f*R,oo(n,2*o+2*u),n[2*o+2*u+1]+=l*R,oo(n,2*o+2*u+1),n[2*o+2*u+1]+=f*A,oo(n,2*o+2*u+1),n[2*o+2*u+2]+=l*A,oo(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new Ot(n,0)},Ae.gb=function(i){return $(this,i).h},Ae.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new Ot(n,this.h&i.h)},Ae.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new Ot(n,this.h|i.h)},Ae.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new Ot(n,this.h^i.h)},ge.prototype.createWebChannel=ge.prototype.g,xe.prototype.send=xe.prototype.u,xe.prototype.open=xe.prototype.m,xe.prototype.close=xe.prototype.close,bn.NO_ERROR=0,bn.TIMEOUT=8,bn.HTTP_ERROR=6,$s.COMPLETE="complete",On.EventType=us,us.OPEN="a",us.CLOSE="b",us.ERROR="c",us.MESSAGE="d",nr.prototype.listen=nr.prototype.O,Dn.prototype.listenOnce=Dn.prototype.P,Dn.prototype.getLastError=Dn.prototype.Sa,Dn.prototype.getLastErrorCode=Dn.prototype.Ia,Dn.prototype.getStatus=Dn.prototype.da,Dn.prototype.getResponseJson=Dn.prototype.Wa,Dn.prototype.getResponseText=Dn.prototype.ja,Dn.prototype.send=Dn.prototype.ha,Dn.prototype.setWithCredentials=Dn.prototype.Oa,Yt.prototype.digest=Yt.prototype.l,Yt.prototype.reset=Yt.prototype.reset,Yt.prototype.update=Yt.prototype.j,Ot.prototype.add=Ot.prototype.add,Ot.prototype.multiply=Ot.prototype.R,Ot.prototype.modulo=Ot.prototype.gb,Ot.prototype.compare=Ot.prototype.X,Ot.prototype.toNumber=Ot.prototype.ea,Ot.prototype.toString=Ot.prototype.toString,Ot.prototype.getBits=Ot.prototype.D,Ot.fromNumber=Tr,Ot.fromString=function Qi(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Pr(Qi(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Tr(Math.pow(e,8)),o=po,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=Tr(Math.pow(e,l)),o=o.R(l).add(Tr(f))):o=(o=o.R(n)).add(Tr(f))}return o};var te=De.createWebChannelTransport=function(){return new ge},Te=De.getStatEventTarget=function(){return Xi()},He=De.ErrorCode=bn,_t=De.EventType=$s,Ln=De.Event=Qr,Sn=De.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$n=De.FetchXmlHttpFactory=Er,Gt=De.WebChannel=On,xr=De.XhrIo=Dn,mr=De.Md5=Yt,Fn=De.Integer=Ot;const Zr="@firebase/firestore";class jn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");let ts="10.5.2";const Dr=new me.Yd("@firebase/firestore");function Fs(){return Dr.logLevel}function ot(i,...e){if(Dr.logLevel<=me.in.DEBUG){const n=e.map(As);Dr.debug(`Firestore (${ts}): ${i}`,...n)}}function Mi(i,...e){if(Dr.logLevel<=me.in.ERROR){const n=e.map(As);Dr.error(`Firestore (${ts}): ${i}`,...n)}}function Qn(i,...e){if(Dr.logLevel<=me.in.WARN){const n=e.map(As);Dr.warn(`Firestore (${ts}): ${i}`,...n)}}function As(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Bt(i="Unexpected state"){const e=`FIRESTORE (${ts}) INTERNAL ASSERTION FAILED: `+i;throw Mi(e),new Error(e)}function Ut(i,e){i||Bt()}function St(i,e){return i}const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ee.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ns{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class wh{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jn.UNAUTHENTICATED))}shutdown(){}}class go{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jo{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=k=>this.i!==u?(u=this.i,n(k)):Promise.resolve();let f=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ns,e.enqueueRetryable(()=>l(this.currentUser))};const A=()=>{const k=f;e.enqueueRetryable((0,X.Z)(function*(){yield k.promise,yield l(o.currentUser)}))},R=k=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=k,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(k=>R(k)),setTimeout(()=>{if(!this.auth){const k=this.t.getImmediate({optional:!0});k?R(k):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ns)}},0),A()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ut("string"==typeof o.accessToken),new wh(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ut(null===e||"string"==typeof e),new jn(e)}}class el{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tl{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new el(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nl{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const o=l=>{null!=l.error&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.R;return this.R=l.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?u(l):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ut("string"==typeof n.token),this.R=n.token,new wo(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function An(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class rl{static newId(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=An(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function vn(i,e){return i<e?-1:i>e?1:0}function Ho(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class jr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new rt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new rt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jr.fromMillis(Date.now())}static fromDate(e){return jr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new jr(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vn(this.nanoseconds,e.nanoseconds):vn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xt(e)}static min(){return new Xt(new jr(0,0))}static max(){return new Xt(new jr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class zo{constructor(e,n,o){void 0===n?n=0:n>e.length&&Bt(),void 0===o?o=e.length-n:o>e.length-n&&Bt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===zo.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zo?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class tr extends zo{construct(e,n,o){return new tr(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new rt(Ge.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new tr(n)}static emptyPath(){return new tr([])}}const nd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ci extends zo{construct(e,n,o){return new Ci(e,n,o)}static isValidIdentifier(e){return nd.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ci.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ci(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new rt(Ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const A=e[u];if("\\"===A){if(u+1===e.length)throw new rt(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[u+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new rt(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=R,u+=2}else"`"===A?(f=!f,u++):"."!==A||f?(o+=A,u++):(l(),u++)}if(l(),f)throw new rt(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ci(n)}static emptyPath(){return new Ci([])}}class kt{constructor(e){this.path=e}static fromPath(e){return new kt(tr.fromString(e))}static fromName(e){return new kt(tr.fromString(e).popFirst(5))}static empty(){return new kt(tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return tr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kt(new tr(e.slice()))}}function ao(i){return new Vs(i.readTime,i.key,-1)}class Vs{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Vs(Xt.min(),kt.empty(),-1)}static max(){return new Vs(Xt.max(),kt.empty(),-1)}}function ha(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=kt.comparator(i.documentKey,e.documentKey),0!==n?n:vn(i.largestBatchId,e.largestBatchId))}const il="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ko(i){return Cs.apply(this,arguments)}function Cs(){return Cs=(0,X.Z)(function*(i){if(i.code!==Ge.FAILED_PRECONDITION||i.message!==il)throw i;ot("LocalStore","Unexpectedly lost primary lease")}),Cs.apply(this,arguments)}class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Oe((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Oe?n:Oe.resolve(n)}catch(n){return Oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Oe.reject(n)}static resolve(e){return new Oe((n,o)=>{n(e)})}static reject(e){return new Oe((n,o)=>{o(e)})}static waitFor(e){return new Oe((n,o)=>{let u=0,l=0,f=!1;e.forEach(A=>{++u,A.next(()=>{++l,f&&l===u&&n()},R=>o(R))}),f=!0,l===u&&n()})}static or(e){let n=Oe.resolve(!1);for(const o of e)n=n.next(u=>u?Oe.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Oe((o,u)=>{const l=e.length,f=new Array(l);let A=0;for(let R=0;R<l;R++){const k=R;n(e[k]).next(H=>{f[k]=H,++A,A===l&&o(f)},H=>u(H))}})}static doWhile(e,n){return new Oe((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function E(i){return"IndexedDbTransactionError"===i.name}let Ue=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.se(u),this.oe=u=>o.writeSequenceNumber(u))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function $e(i){return null==i}function wt(i){return 0===i&&1/i==-1/0}function od(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Co(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function al(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class oi{constructor(e,n){this.comparator=e,this.root=n||Ks.EMPTY}insert(e,n){return new oi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ks.BLACK,null,null))}remove(e){return new oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ks.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ad(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ad(this.root,e,this.comparator,!1)}getReverseIterator(){return new ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ad(this.root,e,this.comparator,!0)}}class ad{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ks{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??Ks.RED,this.left=u??Ks.EMPTY,this.right=l??Ks.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new Ks(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ks.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Ks.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ks.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ks.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bt();const e=this.left.check();if(e!==this.right.check())throw Bt();return e+(this.isRed()?0:1)}}Ks.EMPTY=null,Ks.RED=!0,Ks.BLACK=!1,Ks.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt()}get value(){throw Bt()}get color(){throw Bt()}get left(){throw Bt()}get right(){throw Bt()}copy(e,n,o,u,l){return this}insert(e,n,o){return new Ks(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ar{constructor(e){this.comparator=e,this.data=new oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bu(this.data.getIterator())}getIteratorFrom(e){return new bu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ar(this.comparator);return n.data=e,n}}class bu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Us{constructor(e){this.fields=e,e.sort(Ci.comparator)}static empty(){return new Us([])}unionWith(e){let n=new Ar(Ci.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Us(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class Ru extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(u){try{return atob(u)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Ru("Invalid base64 string: "+l):l}}(e);return new rs(n)}static fromUint8Array(e){const n=function(u){let l="";for(let f=0;f<u.length;++f)l+=String.fromCharCode(u[f]);return l}(e);return new rs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let u=0;u<n.length;u++)o[u]=n.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rs.EMPTY_BYTE_STRING=new rs("");const dp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wo(i){if(Ut(!!i),"string"==typeof i){let e=0;const n=dp.exec(i);if(Ut(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Si(i.seconds),nanos:Si(i.nanos)}}function Si(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function bs(i){return"string"==typeof i?rs.fromBase64String(i):rs.fromUint8Array(i)}function Sa(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ya(i){const e=i.mapValue.fields.__previous_value__;return Sa(e)?Ya(e):e}function Za(i){const e=Wo(i.mapValue.fields.__local_write_time__.timestampValue);return new jr(e.seconds,e.nanos)}class ul{constructor(e,n,o,u,l,f,A,R,k){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=A,this.longPollingOptions=R,this.useFetchStreams=k}}class Lo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Lo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Lo&&e.projectId===this.projectId&&e.database===this.database}}const Fo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ga(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Sa(i)?4:Mu(i)?9007199254740991:10:Bt()}function Vo(i,e){if(i===e)return!0;const n=ga(i);if(n!==ga(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Za(i).isEqual(Za(e));case 3:return function(u,l){if("string"==typeof u.timestampValue&&"string"==typeof l.timestampValue&&u.timestampValue.length===l.timestampValue.length)return u.timestampValue===l.timestampValue;const f=Wo(u.timestampValue),A=Wo(l.timestampValue);return f.seconds===A.seconds&&f.nanos===A.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,bs(i.bytesValue).isEqual(bs(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,l){return Si(u.geoPointValue.latitude)===Si(l.geoPointValue.latitude)&&Si(u.geoPointValue.longitude)===Si(l.geoPointValue.longitude)}(i,e);case 2:return function(u,l){if("integerValue"in u&&"integerValue"in l)return Si(u.integerValue)===Si(l.integerValue);if("doubleValue"in u&&"doubleValue"in l){const f=Si(u.doubleValue),A=Si(l.doubleValue);return f===A?wt(f)===wt(A):isNaN(f)&&isNaN(A)}return!1}(i,e);case 9:return Ho(i.arrayValue.values||[],e.arrayValue.values||[],Vo);case 10:return function(u,l){const f=u.mapValue.fields||{},A=l.mapValue.fields||{};if(od(f)!==od(A))return!1;for(const R in f)if(f.hasOwnProperty(R)&&(void 0===A[R]||!Vo(f[R],A[R])))return!1;return!0}(i,e);default:return Bt()}var l}function Ja(i,e){return void 0!==(i.values||[]).find(n=>Vo(n,e))}function ba(i,e){if(i===e)return 0;const n=ga(i),o=ga(e);if(n!==o)return vn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return vn(i.booleanValue,e.booleanValue);case 2:return function(l,f){const A=Si(l.integerValue||l.doubleValue),R=Si(f.integerValue||f.doubleValue);return A<R?-1:A>R?1:A===R?0:isNaN(A)?isNaN(R)?0:-1:1}(i,e);case 3:return Mh(i.timestampValue,e.timestampValue);case 4:return Mh(Za(i),Za(e));case 5:return vn(i.stringValue,e.stringValue);case 6:return function(l,f){const A=bs(l),R=bs(f);return A.compareTo(R)}(i.bytesValue,e.bytesValue);case 7:return function(l,f){const A=l.split("/"),R=f.split("/");for(let k=0;k<A.length&&k<R.length;k++){const H=vn(A[k],R[k]);if(0!==H)return H}return vn(A.length,R.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,f){const A=vn(Si(l.latitude),Si(f.latitude));return 0!==A?A:vn(Si(l.longitude),Si(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,f){const A=l.values||[],R=f.values||[];for(let k=0;k<A.length&&k<R.length;++k){const H=ba(A[k],R[k]);if(H)return H}return vn(A.length,R.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,f){if(l===Fo.mapValue&&f===Fo.mapValue)return 0;if(l===Fo.mapValue)return 1;if(f===Fo.mapValue)return-1;const A=l.fields||{},R=Object.keys(A),k=f.fields||{},H=Object.keys(k);R.sort(),H.sort();for(let ne=0;ne<R.length&&ne<H.length;++ne){const _e=vn(R[ne],H[ne]);if(0!==_e)return _e;const ze=ba(A[R[ne]],k[H[ne]]);if(0!==ze)return ze}return vn(R.length,H.length)}(i.mapValue,e.mapValue);default:throw Bt()}}function Mh(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return vn(i,e);const n=Wo(i),o=Wo(e),u=vn(n.seconds,o.seconds);return 0!==u?u:vn(n.nanos,o.nanos)}function qo(i){return Ra(i)}function Ra(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const o=Wo(n);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?bs(i.bytesValue).toBase64():"referenceValue"in i?kt.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let o="[",u=!0;for(const l of n.values||[])u?u=!1:o+=",",o+=Ra(l);return o+"]"}(i.arrayValue):"mapValue"in i?function(n){const o=Object.keys(n.fields||{}).sort();let u="{",l=!0;for(const f of o)l?l=!1:u+=",",u+=`${f}:${Ra(n.fields[f])}`;return u+"}"}(i.mapValue):Bt()}function oa(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function cd(i){return!!i&&"integerValue"in i}function ma(i){return!!i&&"arrayValue"in i}function ll(i){return!!i&&"nullValue"in i}function uo(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Pu(i){return!!i&&"mapValue"in i}function Xa(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Co(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Xa(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xa(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Mu(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Oi{constructor(e){this.value=e}static empty(){return new Oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Pu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xa(n)}setAll(e){let n=Ci.emptyPath(),o={},u=[];e.forEach((f,A)=>{if(!n.isImmediateParentOf(A)){const R=this.getFieldsMap(n);this.applyChanges(R,o,u),o={},u=[],n=A.popLast()}f?o[A.lastSegment()]=Xa(f):u.push(A.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());Pu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Pu(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Co(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new Oi(Xa(this.value))}}function Pa(i){const e=[];return Co(i.fields,(n,o)=>{const u=new Ci([n]);if(Pu(o)){const l=Pa(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new Us(e)}class ai{constructor(e,n,o,u,l,f,A){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=A}static newInvalidDocument(e){return new ai(e,0,Xt.min(),Xt.min(),Xt.min(),Oi.empty(),0)}static newFoundDocument(e,n,o,u){return new ai(e,1,n,Xt.min(),o,u,0)}static newNoDocument(e,n){return new ai(e,2,n,Xt.min(),Xt.min(),Oi.empty(),0)}static newUnknownDocument(e,n){return new ai(e,3,n,Xt.min(),Xt.min(),Oi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ai&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class aa{constructor(e,n){this.position=e,this.inclusive=n}}function _a(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?kt.comparator(kt.fromName(f.referenceValue),n.key):ba(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function hp(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Vo(i.position[n],e.position[n]))return!1;return!0}class gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Am(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ld{}class cr extends ld{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new fp(e,n,o):"array-contains"===n?new fl(e,o):"in"===n?new ku(e,o):"not-in"===n?new pp(e,o):"array-contains-any"===n?new Cm(e,o):new cr(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new Uo(e,o):new xu(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ba(n,this.value)):null!==n&&ga(this.value)===ga(n)&&this.matchesComparison(ba(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends ld{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new zr(e,n)}matches(e){return Nu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Nu(i){return"and"===i.op}function Ko(i){return function xh(i){for(const e of i.filters)if(e instanceof zr)return!1;return!0}(i)&&Nu(i)}function dd(i){if(i instanceof cr)return i.field.canonicalString()+i.op.toString()+qo(i.value);if(Ko(i))return i.filters.map(e=>dd(e)).join(",");{const e=i.filters.map(n=>dd(n)).join(",");return`${i.op}(${e})`}}function is(i,e){return i instanceof cr?(o=i,(u=e)instanceof cr&&o.op===u.op&&o.field.isEqual(u.field)&&Vo(o.value,u.value)):i instanceof zr?function(o,u){return u instanceof zr&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((l,f,A)=>l&&is(f,u.filters[A]),!0)}(i,e):void Bt();var o,u}function Ou(i){return i instanceof cr?`${(n=i).field.canonicalString()} ${n.op} ${qo(n.value)}`:i instanceof zr?function(n){return n.op.toString()+" {"+n.getFilters().map(Ou).join(" ,")+"}"}(i):"Filter";var n}class fp extends cr{constructor(e,n,o){super(e,n,o),this.key=kt.fromName(o.referenceValue)}matches(e){const n=kt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Uo extends cr{constructor(e,n){super(e,"in",n),this.keys=mc(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xu extends cr{constructor(e,n){super(e,"not-in",n),this.keys=mc(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mc(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>kt.fromName(o.referenceValue))}class fl extends cr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ma(n)&&Ja(n.arrayValue,this.value)}}class ku extends cr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ja(this.value.arrayValue,n)}}class pp extends cr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ja(this.value.arrayValue,n)}}class Cm extends cr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ma(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Ja(this.value.arrayValue,o))}}class gp{constructor(e,n=null,o=[],u=[],l=null,f=null,A=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=A,this.ce=null}}function hd(i,e=null,n=[],o=[],u=null,l=null,f=null){return new gp(i,e,n,o,u,l,f)}function ms(i){const e=St(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>dd(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),$e(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>qo(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>qo(o)).join(",")),e.ce=n}return e.ce}function tu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Am(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!is(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!hp(i.startAt,e.startAt)&&hp(i.endAt,e.endAt)}function ya(i){return kt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Qo{constructor(e,n=null,o=[],u=[],l=null,f="F",A=null,R=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=A,this.endAt=R,this.le=null,this.he=null,this.Pe=null}}function Ma(i){return new Qo(i)}function Fh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function md(i){return null!==i.collectionGroup}function nu(i){const e=St(i);if(null===e.le){e.le=[];const n=new Set;for(const l of e.explicitOrderBy)e.le.push(l),n.add(l.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let A=new Ar(Ci.comparator);return f.filters.forEach(R=>{R.getFlattenedFilters().forEach(k=>{k.isInequality()&&(A=A.add(k.field))})}),A})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.le.push(new gc(l,o))}),n.has(Ci.keyField().canonicalString())||e.le.push(new gc(Ci.keyField(),o))}return e.le}function _s(i){const e=St(i);return e.he||(e.he=function mp(i,e){if("F"===i.limitType)return hd(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(u=>new gc(u.field,"desc"===u.dir?"asc":"desc"));const n=i.endAt?new aa(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new aa(i.startAt.position,i.startAt.inclusive):null;return hd(i.path,i.collectionGroup,e,i.filters,i.limit,n,o)}}(e,nu(i))),e.he}function _c(i,e){const n=i.filters.concat([e]);return new Qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Lu(i,e,n){return new Qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function va(i,e){return tu(_s(i),_s(e))&&i.limitType===e.limitType}function yc(i){return`${ms(_s(i))}|lt:${i.limitType}`}function Na(i){return`Query(target=${function(n){let o=n.path.canonicalString();return null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(u=>Ou(u)).join(", ")}]`),$e(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(u=>{return`${(f=u).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(u=>qo(u)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(u=>qo(u)).join(",")),`Target(${o})`}(_s(i))}; limitType=${i.limitType})`}function Oa(i,e){return e.isFoundDocument()&&function(o,u){const l=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(l):kt.isDocumentKey(o.path)?o.path.isEqual(l):o.path.isImmediateParentOf(l)}(i,e)&&function(o,u){for(const l of nu(o))if(!l.field.isKeyField()&&null===u.data.field(l.field))return!1;return!0}(i,e)&&function(o,u){for(const l of o.filters)if(!l.matches(u))return!1;return!0}(i,e)&&(u=e,!((o=i).startAt&&!function(f,A,R){const k=_a(f,A,R);return f.inclusive?k<=0:k<0}(o.startAt,nu(o),u)||o.endAt&&!function(f,A,R){const k=_a(f,A,R);return f.inclusive?k>=0:k>0}(o.endAt,nu(o),u)));var o,u}function _d(i){return(e,n)=>{let o=!1;for(const u of nu(i)){const l=_p(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function _p(i,e,n){const o=i.field.isKeyField()?kt.comparator(e.key,n.key):function(l,f,A){const R=f.data.field(l),k=A.data.field(l);return null!==R&&null!==k?ba(R,k):Bt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Bt()}}class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return al(this.inner)}size(){return this.innerSize}}const Fu=new oi(kt.comparator);function ys(){return Fu}const Vh=new oi(kt.comparator);function pl(...i){let e=Vh;for(const n of i)e=e.insert(n.key,n);return e}function gl(i){let e=Vh;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function So(){return ml()}function Uh(){return ml()}function ml(){return new Ea(i=>i.toString(),(i,e)=>i.isEqual(e))}const yd=new oi(kt.comparator),yp=new Ar(kt.comparator);function xn(...i){let e=yp;for(const n of i)e=e.add(n);return e}const Bh=new Ar(vn);function Ed(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wt(e)?"-0":e}}function vp(i){return{integerValue:""+i}}function $h(i,e){return function Rn(i){return"number"==typeof i&&Number.isInteger(i)&&!wt(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?vp(e):Ed(i,e)}class jh{constructor(){this._=void 0}}function Sm(i,e,n){return i instanceof _l?function(u,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return l&&Sa(l)&&(l=Ya(l)),l&&(f.fields.__previous_value__=l),{mapValue:f}}(n,e):i instanceof Ec?Td(i,e):i instanceof Vu?Rm(i,e):function(u,l){const f=Id(u,l),A=Pm(f)+Pm(u.Ie);return cd(f)&&cd(u.Ie)?vp(A):Ed(u.serializer,A)}(i,e)}function bm(i,e,n){return i instanceof Ec?Td(i,e):i instanceof Vu?Rm(i,e):n}function Id(i,e){return i instanceof yl?cd(o=e)||(l=o)&&"doubleValue"in l?e:{integerValue:0}:null;var o,l}class _l extends jh{}class Ec extends jh{constructor(e){super(),this.elements=e}}function Td(i,e){const n=Ep(e);for(const o of i.elements)n.some(u=>Vo(u,o))||n.push(o);return{arrayValue:{values:n}}}class Vu extends jh{constructor(e){super(),this.elements=e}}function Rm(i,e){let n=Ep(e);for(const o of i.elements)n=n.filter(u=>!Vo(u,o));return{arrayValue:{values:n}}}class yl extends jh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Pm(i){return Si(i.integerValue||i.doubleValue)}function Ep(i){return ma(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Dd{constructor(e,n){this.version=e,this.transformResults=n}}class bi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function El(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Il{}function Uu(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ru(i.key,bi.none()):new xa(i.key,i.data,bi.none());{const n=i.data,o=Oi.empty();let u=new Ar(Ci.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new ka(i.key,o,new Us(u.toArray()),bi.none())}}function Ip(i,e,n){i instanceof xa?function(u,l,f){const A=u.value.clone(),R=wp(u.fieldTransforms,l,f.transformResults);A.setAll(R),l.convertToFoundDocument(f.version,A).setHasCommittedMutations()}(i,e,n):i instanceof ka?function(u,l,f){if(!El(u.precondition,l))return void l.convertToUnknownDocument(f.version);const A=wp(u.fieldTransforms,l,f.transformResults),R=l.data;R.setAll(Tp(u)),R.setAll(A),l.convertToFoundDocument(f.version,R).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ic(i,e,n,o){return i instanceof xa?function(l,f,A,R){if(!El(l.precondition,f))return A;const k=l.value.clone(),H=Hh(l.fieldTransforms,R,f);return k.setAll(H),f.convertToFoundDocument(f.version,k).setHasLocalMutations(),null}(i,e,n,o):i instanceof ka?function(l,f,A,R){if(!El(l.precondition,f))return A;const k=Hh(l.fieldTransforms,R,f),H=f.data;return H.setAll(Tp(l)),H.setAll(k),f.convertToFoundDocument(f.version,H).setHasLocalMutations(),null===A?null:A.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(ne=>ne.field))}(i,e,n,o):(A=n,El(i.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):A);var f,A}function Ad(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Id(o.transform,u||null);null!=l&&(null===n&&(n=Oi.empty()),n.set(o.field,l))}return n||null}function Tl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=i.fieldTransforms)&&void 0===u||o&&u&&Ho(o,u,(l,f)=>function wd(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(o=i.transform)instanceof Ec&&u instanceof Ec||o instanceof Vu&&u instanceof Vu?Ho(o.elements,u.elements,Vo):o instanceof yl&&u instanceof yl?Vo(o.Ie,u.Ie):o instanceof _l&&u instanceof _l);var o,u}(l,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var o,u}class xa extends Il{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ka extends Il{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Tp(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function wp(i,e,n){const o=new Map;Ut(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,A=e.data.field(l.field);o.set(l.field,bm(f,A,n[u]))}return o}function Hh(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,Sm(l,f,e))}return o}class ru extends Il{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zh extends Il{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Gh{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Ip(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Ic(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Ic(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Uh();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let A=this.applyToLocalView(f,l.mutatedFields);A=n.has(u.key)?null:A;const R=Uu(f,A);null!==R&&o.set(u.key,R),f.isValidDocument()||f.convertToNoDocument(Xt.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xn())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,(n,o)=>Tl(n,o))&&Ho(this.baseMutations,e.baseMutations,(n,o)=>Tl(n,o))}}class Wh{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Ut(e.mutations.length===o.length);let u=yd;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new Wh(e,n,o,u)}}class wl{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nm{constructor(e,n){this.count=e,this.unchangedNames=n}}var Cr,lr;function Cd(i){if(void 0===i)return Mi("GRPC error has no .code"),Ge.UNKNOWN;switch(i){case Cr.OK:return Ge.OK;case Cr.CANCELLED:return Ge.CANCELLED;case Cr.UNKNOWN:return Ge.UNKNOWN;case Cr.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case Cr.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case Cr.INTERNAL:return Ge.INTERNAL;case Cr.UNAVAILABLE:return Ge.UNAVAILABLE;case Cr.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case Cr.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case Cr.NOT_FOUND:return Ge.NOT_FOUND;case Cr.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case Cr.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case Cr.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case Cr.ABORTED:return Ge.ABORTED;case Cr.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case Cr.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case Cr.DATA_LOSS:return Ge.DATA_LOSS;default:return Bt()}}(lr=Cr||(Cr={}))[lr.OK=0]="OK",lr[lr.CANCELLED=1]="CANCELLED",lr[lr.UNKNOWN=2]="UNKNOWN",lr[lr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lr[lr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lr[lr.NOT_FOUND=5]="NOT_FOUND",lr[lr.ALREADY_EXISTS=6]="ALREADY_EXISTS",lr[lr.PERMISSION_DENIED=7]="PERMISSION_DENIED",lr[lr.UNAUTHENTICATED=16]="UNAUTHENTICATED",lr[lr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lr[lr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lr[lr.ABORTED=10]="ABORTED",lr[lr.OUT_OF_RANGE=11]="OUT_OF_RANGE",lr[lr.UNIMPLEMENTED=12]="UNIMPLEMENTED",lr[lr.INTERNAL=13]="INTERNAL",lr[lr.UNAVAILABLE=14]="UNAVAILABLE",lr[lr.DATA_LOSS=15]="DATA_LOSS";const Dp=new Fn([4294967295,4294967295],0);function Kh(i){const e=function Tc(){return new TextEncoder}().encode(i),n=new mr;return n.update(e),new Uint8Array(n.digest())}function Ap(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Fn([n,o],0),new Fn([u,l],0)]}class Dl{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new Al(`Invalid padding: ${n}`);if(o<0)throw new Al(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Al(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new Al(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Fn.fromNumber(this.Te)}de(e,n,o){let u=e.add(n.multiply(Fn.fromNumber(o)));return 1===u.compare(Dp)&&(u=new Fn([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=Kh(e),[o,u]=Ap(n);for(let l=0;l<this.hashCount;l++){const f=this.de(o,u,l);if(!this.Ae(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new Dl(l,u,n);return o.forEach(A=>f.insert(A)),f}insert(e){if(0===this.Te)return;const n=Kh(e),[o,u]=Ap(n);for(let l=0;l<this.hashCount;l++){const f=this.de(o,u,l);this.Re(f)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wc{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new wc(Xt.min(),u,new oi(vn),ys(),xn())}}class Cl{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Cl(o,n,xn(),xn(),xn())}}class Sl{constructor(e,n,o,u){this.Ve=e,this.removedTargetIds=n,this.key=o,this.me=u}}class Cp{constructor(e,n){this.targetId=e,this.fe=n}}class Sp{constructor(e,n,o=rs.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Sd{constructor(){this.ge=0,this.pe=Dc(),this.ye=rs.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=xn(),n=xn(),o=xn();return this.pe.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Bt()}}),new Cl(this.ye,this.we,e,n,o)}Fe(){this.Se=!1,this.pe=Dc()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Qh{constructor(e){this.Le=e,this.ke=new Map,this.qe=ys(),this.Qe=bp(),this.Ke=new oi(vn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const o=this.ze(n);switch(e.state){case 0:this.je(n)&&o.Ce(e.resumeToken);break;case 1:o.Ne(),o.be||o.Fe(),o.Ce(e.resumeToken);break;case 2:o.Ne(),o.be||this.removeTarget(n);break;case 3:this.je(n)&&(o.Be(),o.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),o.Ce(e.resumeToken));break;default:Bt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((o,u)=>{this.je(u)&&n(u)})}Je(e){const n=e.targetId,o=e.fe.count,u=this.Ye(n);if(u){const l=u.target;if(ya(l))if(0===o){const f=new kt(l.path);this.We(n,f,ai.newNoDocument(f,Xt.min()))}else Ut(1===o);else{const f=this.Ze(n);if(f!==o){const A=this.Xe(e),R=A?this.et(A,e,f):1;0!==R&&(this.He(n),this.Ke=this.Ke.insert(n,2===R?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:l=0}=n;let f,A;try{f=bs(o).toUint8Array()}catch(R){if(R instanceof Ru)return Qn("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw R}try{A=new Dl(f,u,l)}catch(R){return Qn(R instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",R),null}return 0===A.Te?null:A}et(e,n,o){return n.fe.count===o-this.rt(e,n.targetId)?0:2}rt(e,n){const o=this.Le.getRemoteKeysForTarget(n);let u=0;return o.forEach(l=>{const f=this.Le.nt(),A=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;e.mightContain(A)||(this.We(n,l,null),u++)}),u}it(e){const n=new Map;this.ke.forEach((l,f)=>{const A=this.Ye(f);if(A){if(l.current&&ya(A.target)){const R=new kt(A.target.path);null!==this.qe.get(R)||this.st(f,R)||this.We(f,R,ai.newNoDocument(R,e))}l.De&&(n.set(f,l.ve()),l.Fe())}});let o=xn();this.Qe.forEach((l,f)=>{let A=!0;f.forEachWhile(R=>{const k=this.Ye(R);return!k||"TargetPurposeLimboResolution"===k.purpose||(A=!1,!1)}),A&&(o=o.add(l))}),this.qe.forEach((l,f)=>f.setReadTime(e));const u=new wc(e,n,this.Ke,this.qe,o);return this.qe=ys(),this.Qe=bp(),this.Ke=new oi(vn),u}Ue(e,n){if(!this.je(e))return;const o=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,o),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,o){if(!this.je(e))return;const u=this.ze(e);this.st(e,n)?u.Me(n,1):u.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),o&&(this.qe=this.qe.insert(n,o))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Sd,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ar(vn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||ot("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Sd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function bp(){return new oi(kt.comparator)}function Dc(){return new oi(kt.comparator)}const I={asc:"ASCENDING",desc:"DESCENDING"},h={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p={and:"AND",or:"OR"};class w{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function F(i,e){return i.useProto3Json||$e(e)?e:{value:e}}function Y(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ie(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Ke(i,e){return Y(i,e.toTimestamp())}function tt(i){return Ut(!!i),Xt.fromTimestamp(function(n){const o=Wo(n);return new jr(o.seconds,o.nanos)}(i))}function zt(i,e){return(o=i,new tr(["projects",o.projectId,"databases",o.database])).child("documents").child(e).canonicalString();var o}function an(i){const e=tr.fromString(i);return Ut(Pd(e)),e}function Yn(i,e){return zt(i.databaseId,e.path)}function xi(i,e){const n=an(e);if(n.get(1)!==i.databaseId.projectId)throw new rt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new rt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new kt(Cc(n))}function ua(i,e){return zt(i.databaseId,e)}function Bu(i){return new tr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Cc(i){return Ut(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function $u(i,e,n){return{name:Yn(i,e),fields:n.value.mapValue.fields}}function La(i,e){return{documents:[ua(i,e.path)]}}function Hu(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=ua(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ua(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(R){if(0!==R.length)return Jh(zr.create(R,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(R){if(0!==R.length)return R.map(k=>{return{field:su((ne=k).field),direction:Zh(ne.dir)};var ne})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=F(i,e.limit);return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(n.structuredQuery.endAt=function(R){return{before:!R.inclusive,values:R.position}}(e.endAt)),n;var R}function Rd(i){let e=function Ac(i){const e=an(i);return 4===e.length?tr.emptyPath():Cc(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Ut(1===o);const H=n.from[0];H.allDescendants?u=H.collectionId:e=e.child(H.collectionId)}let l=[];n.where&&(l=function(ne){const _e=Oy(ne);return _e instanceof zr&&Ko(_e)?_e.getFilters():[_e]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(_e=>{return new gc(Rc((dt=_e).field),function(Dt){switch(Dt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(dt.direction));var dt}));let A=null;n.limit&&(A=function(ne){let _e;return _e="object"==typeof ne?ne.value:ne,$e(_e)?null:_e}(n.limit));let R=null;var ne;n.startAt&&(R=new aa((ne=n.startAt).values||[],!!ne.before));let k=null;return n.endAt&&(k=function(ne){return new aa(ne.values||[],!ne.before)}(n.endAt)),function Lh(i,e,n,o,u,l,f,A){return new Qo(i,e,n,o,u,l,f,A)}(e,u,f,l,A,"F",R,k)}function Oy(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=Rc(n.unaryFilter.field);return cr.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=Rc(n.unaryFilter.field);return cr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Rc(n.unaryFilter.field);return cr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Rc(n.unaryFilter.field);return cr.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Bt()}}(i):void 0!==i.fieldFilter?cr.create(Rc((n=i).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return zr.create(n.compositeFilter.filters.map(o=>Oy(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Bt()}}(n.compositeFilter.op))}(i):Bt();var n}function Zh(i){return I[i]}function xy(i){return h[i]}function Om(i){return p[i]}function su(i){return{fieldPath:i.canonicalString()}}function Rc(i){return Ci.fromServerFormat(i.fieldPath)}function Jh(i){return i instanceof cr?function(n){if("=="===n.op){if(uo(n.value))return{unaryFilter:{field:su(n.field),op:"IS_NAN"}};if(ll(n.value))return{unaryFilter:{field:su(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(uo(n.value))return{unaryFilter:{field:su(n.field),op:"IS_NOT_NAN"}};if(ll(n.value))return{unaryFilter:{field:su(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:su(n.field),op:xy(n.op),value:n.value}}}(i):i instanceof zr?function(n){const o=n.getFilters().map(u=>Jh(u));return 1===o.length?o[0]:{compositeFilter:{op:Om(n.op),filters:o}}}(i):Bt()}function xm(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Pd(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Yo{constructor(e,n,o,u,l=Xt.min(),f=Xt.min(),A=rs.EMPTY_BYTE_STRING,R=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=A,this.expectedCount=R}withSequenceNumber(e){return new Yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Rp{constructor(e){this.ut=e}}function Mp(i){const e=Rd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Lu(e,e.limit,"L"):e}class Rl{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Si(e.integerValue));else if("doubleValue"in e){const o=Si(e.doubleValue);isNaN(o)?this.Tt(n,13):(this.Tt(n,15),wt(o)?n.Et(0):n.Et(o))}else if("timestampValue"in e){const o=e.timestampValue;this.Tt(n,20),"string"==typeof o?n.dt(o):(n.dt(`${o.seconds||""}`),n.Et(o.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(bs(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.Tt(n,45),n.Et(o.latitude||0),n.Et(o.longitude||0)}else"mapValue"in e?Mu(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Bt()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const o=e.fields||{};this.Tt(n,55);for(const u of Object.keys(o))this.At(u,n),this.Pt(o[u],n)}yt(e,n){const o=e.values||[];this.Tt(n,50);for(const u of o)this.Pt(u,n)}ft(e,n){this.Tt(n,37),kt.fromName(e).path.forEach(o=>{this.Tt(n,60),this.wt(o,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Rl.St=new Rl;class Vy{constructor(){this.on=new Vp}addToCollectionParentIndex(e,n){return this.on.add(n),Oe.resolve()}getCollectionParents(e,n){return Oe.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Oe.resolve()}deleteFieldIndex(e,n){return Oe.resolve()}deleteAllFieldIndexes(e){return Oe.resolve()}createTargetIndexes(e,n){return Oe.resolve()}getDocumentsMatchingTarget(e,n){return Oe.resolve(null)}getIndexType(e,n){return Oe.resolve(0)}getFieldIndexes(e,n){return Oe.resolve([])}getNextCollectionGroupToUpdate(e){return Oe.resolve(null)}getMinOffset(e,n){return Oe.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,n){return Oe.resolve(Vs.min())}updateCollectionGroup(e,n,o){return Oe.resolve()}updateIndexEntries(e,n){return Oe.resolve()}}class Vp{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Ar(tr.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Ar(tr.comparator)).toArray()}}new Uint8Array(0);class $i{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new $i(e,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}$i.DEFAULT_COLLECTION_PERCENTILE=10,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$i.DEFAULT=new $i(41943040,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$i.DISABLED=new $i(-1,0,0);class uu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new uu(0)}static Nn(){return new uu(-1)}}class Hp{constructor(){this.changes=new Ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ai.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Oe.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Gy{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Wm{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&Ic(o.mutation,u,Us.empty(),jr.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,xn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=xn()){const u=So();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=pl();return l.forEach((A,R)=>{f=f.insert(A,R.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=So();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,xn()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,A)=>{n.set(f,A)})})}computeViews(e,n,o,u){let l=ys();const f=ml(),A=ml();return n.forEach((R,k)=>{const H=o.get(k.key);u.has(k.key)&&(void 0===H||H.mutation instanceof ka)?l=l.insert(k.key,k):void 0!==H?(f.set(k.key,H.mutation.getFieldMask()),Ic(H.mutation,k,H.mutation.getFieldMask(),jr.now())):f.set(k.key,Us.empty())}),this.recalculateAndSaveOverlays(e,l).next(R=>(R.forEach((k,H)=>f.set(k,H)),n.forEach((k,H)=>{var ne;return A.set(k,new Gy(H,null!==(ne=f.get(k))&&void 0!==ne?ne:null))}),A))}recalculateAndSaveOverlays(e,n){const o=ml();let u=new oi((f,A)=>f-A),l=xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const A of f)A.keys().forEach(R=>{const k=n.get(R);if(null===k)return;let H=o.get(R)||Us.empty();H=A.applyToLocalView(k,H),o.set(R,H);const ne=(u.get(A.batchId)||xn()).add(R);u=u.insert(A.batchId,ne)})}).next(()=>{const f=[],A=u.getReverseIterator();for(;A.hasNext();){const R=A.getNext(),k=R.key,H=R.value,ne=Uh();H.forEach(_e=>{if(!l.has(_e)){const ze=Uu(n.get(_e),o.get(_e));null!==ze&&ne.set(_e,ze),l=l.add(_e)}}),f.push(this.documentOverlayCache.saveOverlays(e,k,ne))}return Oe.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,u){return kt.isDocumentKey((f=n).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):md(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,u):this.getDocumentsMatchingCollectionQuery(e,n,o,u);var f}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Oe.resolve(So());let A=-1,R=l;return f.next(k=>Oe.forEach(k,(H,ne)=>(A<ne.largestBatchId&&(A=ne.largestBatchId),l.get(H)?Oe.resolve():this.remoteDocumentCache.getEntry(e,H).next(_e=>{R=R.insert(H,_e)}))).next(()=>this.populateOverlays(e,k,l)).next(()=>this.computeViews(e,R,k,xn())).next(H=>({batchId:A,changes:gl(H)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new kt(n)).next(o=>{let u=pl();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o,u){const l=n.collectionGroup;let f=pl();return this.indexManager.getCollectionParents(e,l).next(A=>Oe.forEach(A,R=>{const k=(ne=n,_e=R.child(l),new Qo(_e,null,ne.explicitOrderBy.slice(),ne.filters.slice(),ne.limit,ne.limitType,ne.startAt,ne.endAt));var ne,_e;return this.getDocumentsMatchingCollectionQuery(e,k,o,u).next(H=>{H.forEach((ne,_e)=>{f=f.insert(ne,_e)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,o,u){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(f=>(l=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,l,u))).next(f=>{l.forEach((R,k)=>{const H=k.getKey();null===f.get(H)&&(f=f.insert(H,ai.newInvalidDocument(H)))});let A=pl();return f.forEach((R,k)=>{const H=l.get(R);void 0!==H&&Ic(H.mutation,k,Us.empty(),jr.now()),Oa(n,k)&&(A=A.insert(R,k))}),A})}}class qm{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Oe.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(u=n).id,version:u.version,createTime:tt(u.createTime)}),Oe.resolve();var u}getNamedQuery(e,n){return Oe.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(u=n).name,query:Mp(u.bundledQuery),readTime:tt(u.readTime)}),Oe.resolve();var u}}class fI{constructor(){this.overlays=new oi(kt.comparator),this.lr=new Map}getOverlay(e,n){return Oe.resolve(this.overlays.get(n))}getOverlays(e,n){const o=So();return Oe.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.lt(e,n,l)}),Oe.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.lr.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.lr.delete(o)),Oe.resolve()}getOverlaysForCollection(e,n,o){const u=So(),l=n.length+1,f=new kt(n.child("")),A=this.overlays.getIteratorFrom(f);for(;A.hasNext();){const R=A.getNext().value,k=R.getKey();if(!n.isPrefixOf(k.path))break;k.path.length===l&&R.largestBatchId>o&&u.set(R.getKey(),R)}return Oe.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new oi((k,H)=>k-H);const f=this.overlays.getIterator();for(;f.hasNext();){const k=f.getNext().value;if(k.getKey().getCollectionGroup()===n&&k.largestBatchId>o){let H=l.get(k.largestBatchId);null===H&&(H=So(),l=l.insert(k.largestBatchId,H)),H.set(k.getKey(),k)}}const A=So(),R=l.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((k,H)=>A.set(k,H)),!(A.size()>=u)););return Oe.resolve(A)}lt(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.lr.get(u.largestBatchId).delete(o.key);this.lr.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new wl(n,o));let l=this.lr.get(n);void 0===l&&(l=xn(),this.lr.set(n,l)),this.lr.set(n,l.add(o.key))}}class Km{constructor(){this.hr=new Ar(ss.Pr),this.Ir=new Ar(ss.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const o=new ss(e,n);this.hr=this.hr.add(o),this.Ir=this.Ir.add(o)}Er(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.dr(new ss(e,n))}Ar(e,n){e.forEach(o=>this.removeReference(o,n))}Rr(e){const n=new kt(new tr([])),o=new ss(n,e),u=new ss(n,e+1),l=[];return this.Ir.forEachInRange([o,u],f=>{this.dr(f),l.push(f.key)}),l}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new kt(new tr([])),o=new ss(n,e),u=new ss(n,e+1);let l=xn();return this.Ir.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new ss(e,0),o=this.hr.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class ss{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return kt.comparator(e.key,n.key)||vn(e.gr,n.gr)}static Tr(e,n){return vn(e.gr,n.gr)||kt.comparator(e.key,n.key)}}class $d{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ar(ss.Pr)}checkEmpty(e){return Oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.pr;this.pr++;const f=new Gh(l,n,o,u);this.mutationQueue.push(f);for(const A of u)this.yr=this.yr.add(new ss(A.key,l)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return Oe.resolve(f)}lookupMutationBatch(e,n){return Oe.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.Sr(n+1),l=u<0?0:u;return Oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new ss(n,0),u=new ss(n,Number.POSITIVE_INFINITY),l=[];return this.yr.forEachInRange([o,u],f=>{const A=this.wr(f.gr);l.push(A)}),Oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Ar(vn);return n.forEach(u=>{const l=new ss(u,0),f=new ss(u,Number.POSITIVE_INFINITY);this.yr.forEachInRange([l,f],A=>{o=o.add(A.gr)})}),Oe.resolve(this.br(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;kt.isDocumentKey(l)||(l=l.child(""));const f=new ss(new kt(l),0);let A=new Ar(vn);return this.yr.forEachWhile(R=>{const k=R.key.path;return!!o.isPrefixOf(k)&&(k.length===u&&(A=A.add(R.gr)),!0)},f),Oe.resolve(this.br(A))}br(e){const n=[];return e.forEach(o=>{const u=this.wr(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Ut(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let o=this.yr;return Oe.forEach(n.mutations,u=>{const l=new ss(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.yr=o})}Fn(e){}containsKey(e,n){const o=new ss(n,0),u=this.yr.firstAfterOrEqual(o);return Oe.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Oe.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Qm{constructor(e){this.Cr=e,this.docs=new oi(kt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Cr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Oe.resolve(o?o.document.mutableCopy():ai.newInvalidDocument(n))}getEntries(e,n){let o=ys();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():ai.newInvalidDocument(u))}),Oe.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=ys();const f=n.path,A=new kt(f.child("")),R=this.docs.getIteratorFrom(A);for(;R.hasNext();){const{key:k,value:{document:H}}=R.getNext();if(!f.isPrefixOf(k.path))break;k.path.length>f.length+1||ha(ao(H),o)<=0||(u.has(H.key)||Oa(n,H))&&(l=l.insert(H.key,H.mutableCopy()))}return Oe.resolve(l)}getAllFromCollectionGroup(e,n,o,u){Bt()}vr(e,n){return Oe.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Ym(this)}getSize(e){return Oe.resolve(this.size)}}class Ym extends Hp{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this._r.addEntry(e,u)):this._r.removeEntry(o)}),Oe.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class zp{constructor(e){this.persistence=e,this.Fr=new Ea(n=>ms(n),tu),this.lastRemoteSnapshotVersion=Xt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Km,this.targetCount=0,this.Nr=uu.On()}forEachTarget(e,n){return this.Fr.forEach((o,u)=>n(u)),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Mr&&(this.Mr=n),Oe.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new uu(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Oe.resolve()}updateTargetData(e,n){return this.kn(n),Oe.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.Fr.forEach((f,A)=>{A.sequenceNumber<=n&&null===o.get(A.targetId)&&(this.Fr.delete(f),l.push(this.removeMatchingKeysForTargetId(e,A.targetId)),u++)}),Oe.waitFor(l).next(()=>u)}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,n){const o=this.Fr.get(n)||null;return Oe.resolve(o)}addMatchingKeys(e,n,o){return this.Or.Er(n,o),Oe.resolve()}removeMatchingKeys(e,n,o){this.Or.Ar(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),Oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Oe.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Or.mr(n);return Oe.resolve(o)}containsKey(e,n){return Oe.resolve(this.Or.containsKey(n))}}class jd{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Ue(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new zp(this),this.indexManager=new Vy,this.remoteDocumentCache=new Qm(o=>this.referenceDelegate.Qr(o)),this.serializer=new Rp(n),this.Kr=new qm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Br[e.toKey()];return o||(o=new $d(n,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,o){ot("MemoryPersistence","Starting transaction:",e);const u=new Wy(this.Lr.next());return this.referenceDelegate.$r(),o(u).next(l=>this.referenceDelegate.Ur(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Wr(e,n){return Oe.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,n)))}}class Wy extends rd{constructor(e){super(),this.currentSequenceNumber=e}}class Hd{constructor(e){this.persistence=e,this.Gr=new Km,this.zr=null}static jr(e){return new Hd(e)}get Hr(){if(this.zr)return this.zr;throw Bt()}addReference(e,n,o){return this.Gr.addReference(o,n),this.Hr.delete(o.toString()),Oe.resolve()}removeReference(e,n,o){return this.Gr.removeReference(o,n),this.Hr.add(o.toString()),Oe.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Oe.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(u=>this.Hr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Hr.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.Hr,o=>{const u=kt.fromPath(o);return this.Jr(e,u).next(l=>{l||n.removeEntry(u,Xt.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(o=>{o?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Oe.or([()=>Oe.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class du{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.ki=o,this.qi=u}static Qi(e,n){let o=xn(),u=xn();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new du(e,n.fromCache,o,u)}}class Ky{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class df{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,o,u){const l={result:null};return this.zi(e,n).next(f=>{l.result=f}).next(()=>{if(!l.result)return this.ji(e,n,u,o).next(f=>{l.result=f})}).next(()=>{if(l.result)return;const f=new Ky;return this.Hi(e,n,f).next(A=>{if(l.result=A,this.$i)return this.Ji(e,n,f,A.size)})}).next(()=>l.result)}Ji(e,n,o,u){return o.documentReadCount<this.Ui?(Fs()<=me.in.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Oe.resolve()):(Fs()<=me.in.DEBUG&&ot("QueryEngine","Query:",Na(n),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Wi*u?(Fs()<=me.in.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_s(n))):Oe.resolve())}zi(e,n){if(Fh(n))return Oe.resolve(null);let o=_s(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Lu(n,null,"F"),o=_s(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=xn(...l);return this.Gi.getDocuments(e,f).next(A=>this.indexManager.getMinOffset(e,o).next(R=>{const k=this.Yi(n,A);return this.Zi(n,k,f,R.readTime)?this.zi(e,Lu(n,null,"F")):this.Xi(e,k,n,R)}))})))}ji(e,n,o,u){return Fh(n)||u.isEqual(Xt.min())?Oe.resolve(null):this.Gi.getDocuments(e,o).next(l=>{const f=this.Yi(n,l);return this.Zi(n,f,o,u)?Oe.resolve(null):(Fs()<=me.in.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Na(n)),this.Xi(e,f,n,function Aa(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Xt.fromTimestamp(1e9===o?new jr(n+1,0):new jr(n,o));return new Vs(u,kt.empty(),e)}(u,-1)).next(A=>A))})}Yi(e,n){let o=new Ar(_d(e));return n.forEach((u,l)=>{Oa(e,l)&&(o=o.add(l))}),o}Zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Hi(e,n,o){return Fs()<=me.in.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Na(n)),this.Gi.getDocumentsMatchingQuery(e,n,Vs.min(),o)}Xi(e,n,o,u){return this.Gi.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class hf{constructor(e,n,o,u){this.persistence=e,this.es=n,this.serializer=u,this.ts=new oi(vn),this.ns=new Ea(l=>ms(l),tu),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(o)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wm(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function ff(i,e){return kl.apply(this,arguments)}function kl(){return kl=(0,X.Z)(function*(i,e){const n=St(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.os(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],A=[];let R=xn();for(const k of u){f.push(k.batchId);for(const H of k.mutations)R=R.add(H.key)}for(const k of l){A.push(k.batchId);for(const H of k.mutations)R=R.add(H.key)}return n.localDocuments.getDocuments(o,R).next(k=>({_s:k,removedBatchIds:f,addedBatchIds:A}))})})}),kl.apply(this,arguments)}function kc(i){const e=St(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Qy(i,e){const n=St(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function wa(i,e,n){return qp.apply(this,arguments)}function qp(){return qp=(0,X.Z)(function*(i,e,n){const o=St(i),u=o.ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!E(f))throw f;ot("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.ts=o.ts.remove(e),o.ns.delete(u.target)}),qp.apply(this,arguments)}function pf(i,e,n){const o=St(i);let u=Xt.min(),l=xn();return o.persistence.runTransaction("Execute query","readwrite",f=>function(R,k,H){const ne=St(R),_e=ne.ns.get(H);return void 0!==_e?Oe.resolve(ne.ts.get(_e)):ne.qr.getTargetData(k,H)}(o,f,_s(e)).next(A=>{if(A)return u=A.lastLimboFreeSnapshotVersion,o.qr.getMatchingKeysForTargetId(f,A.targetId).next(R=>{l=R})}).next(()=>o.es.getDocumentsMatchingQuery(f,e,n?u:Xt.min(),n?l:xn())).next(A=>(function Kp(i,e,n){let o=i.rs.get(e)||Xt.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.rs.set(e,o)}(o,function vc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),A),{documents:A,ls:l})))}class qd{constructor(){this.activeTargetIds=function vd(){return Bh}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vc{constructor(){this.eo=new qd,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,o){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new qd,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xp{ro(e){}shutdown(){}}class yf{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ku=null;function Ll(){return null===Ku?Ku=268435456+Math.round(2147483648*Math.random()):Ku++,"0x"+Ku.toString(16)}const Fl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eg{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Qs="WebChannelConnection";class vf extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.mo=o+"://"+n.host,this.fo=`projects/${u}/databases/${l}`,this.po="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${l}`}get yo(){return!1}wo(n,o,u,l,f){const A=Ll(),R=this.So(n,o);ot("RestConnection",`Sending RPC '${n}' ${A}:`,R,u);const k={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(k,l,f),this.Do(n,R,k,u).then(H=>(ot("RestConnection",`Received RPC '${n}' ${A}: `,H),H),H=>{throw Qn("RestConnection",`RPC '${n}' ${A} failed with error: `,H,"url: ",R,"request:",u),H})}Co(n,o,u,l,f,A){return this.wo(n,o,u,l,f)}bo(n,o,u){n["X-Goog-Api-Client"]="gl-js/ fire/"+ts,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((l,f)=>n[f]=l),u&&u.headers.forEach((l,f)=>n[f]=l)}So(n,o){return`${this.mo}/v1/${o}:${Fl[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,o,u){const l=Ll();return new Promise((f,A)=>{const R=new xr;R.setWithCredentials(!0),R.listenOnce(_t.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case He.NO_ERROR:const H=R.getResponseJson();ot(Qs,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(H)),f(H);break;case He.TIMEOUT:ot(Qs,`RPC '${e}' ${l} timed out`),A(new rt(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case He.HTTP_ERROR:const ne=R.getStatus();if(ot(Qs,`RPC '${e}' ${l} failed with status:`,ne,"response text:",R.getResponseText()),ne>0){let _e=R.getResponseJson();Array.isArray(_e)&&(_e=_e[0]);const ze=_e?.error;if(ze&&ze.status&&ze.message){const dt=function(Dt){const _n=Dt.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(_n)>=0?_n:Ge.UNKNOWN}(ze.status);A(new rt(dt,ze.message))}else A(new rt(Ge.UNKNOWN,"Server responded with status "+R.getStatus()))}else A(new rt(Ge.UNAVAILABLE,"Connection failed."));break;default:Bt()}}finally{ot(Qs,`RPC '${e}' ${l} completed.`)}});const k=JSON.stringify(u);ot(Qs,`RPC '${e}' ${l} sending request:`,u),R.send(n,"POST",k,o,15)})}vo(e,n,o){const u=Ll(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=te(),A=Te(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},k=this.longPollingOptions.timeoutSeconds;void 0!==k&&(R.longPollingTimeout=Math.round(1e3*k)),this.useFetchStreams&&(R.xmlHttpFactory=new $n({})),this.bo(R.initMessageHeaders,n,o),R.encodeInitMessageHeaders=!0;const H=l.join("");ot(Qs,`Creating RPC '${e}' stream ${u}: ${H}`,R);const ne=f.createWebChannel(H,R);let _e=!1,ze=!1;const dt=new eg({co:Dt=>{ze?ot(Qs,`Not sending because RPC '${e}' stream ${u} is closed:`,Dt):(_e||(ot(Qs,`Opening RPC '${e}' stream ${u} transport.`),ne.open(),_e=!0),ot(Qs,`RPC '${e}' stream ${u} sending:`,Dt),ne.send(Dt))},lo:()=>ne.close()}),It=(Dt,_n,En)=>{Dt.listen(_n,In=>{try{En(In)}catch(dr){setTimeout(()=>{throw dr},0)}})};return It(ne,Gt.EventType.OPEN,()=>{ze||ot(Qs,`RPC '${e}' stream ${u} transport opened.`)}),It(ne,Gt.EventType.CLOSE,()=>{ze||(ze=!0,ot(Qs,`RPC '${e}' stream ${u} transport closed`),dt.Ro())}),It(ne,Gt.EventType.ERROR,Dt=>{ze||(ze=!0,Qn(Qs,`RPC '${e}' stream ${u} transport errored:`,Dt),dt.Ro(new rt(Ge.UNAVAILABLE,"The operation could not be completed")))}),It(ne,Gt.EventType.MESSAGE,Dt=>{var _n;if(!ze){const En=Dt.data[0];Ut(!!En);const dr=En.error||(null===(_n=En[0])||void 0===_n?void 0:_n.error);if(dr){ot(Qs,`RPC '${e}' stream ${u} received error:`,dr);const ui=dr.status;let Gr=function(ME){const vy=Cr[ME];if(void 0!==vy)return Cd(vy)}(ui),os=dr.message;void 0===Gr&&(Gr=Ge.INTERNAL,os="Unknown error status: "+ui+" with message "+dr.message),ze=!0,dt.Ro(new rt(Gr,os)),ne.close()}else ot(Qs,`RPC '${e}' stream ${u} received:`,En),dt.Vo(En)}}),It(A,Ln.STAT_EVENT,Dt=>{Dt.stat===Sn.PROXY?ot(Qs,`RPC '${e}' stream ${u} detected buffering proxy`):Dt.stat===Sn.NOPROXY&&ot(Qs,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{dt.Ao()},0),dt}}function Vl(){return typeof document<"u"?document:null}function hu(i){return new w(i,!0)}class tg{constructor(e,n,o=1e3,u=1.5,l=6e4){this.si=e,this.timerId=n,this.Fo=o,this.Mo=u,this.xo=l,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),o=Math.max(0,Date.now()-this.Bo),u=Math.max(0,n-o);u>0&&ot("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,u,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class ng{constructor(e,n,o,u,l,f,A,R){this.si=e,this.Ko=o,this.$o=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=A,this.listener=R,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new tg(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,X.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,X.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var o=this;return(0,X.Z)(function*(){o.t_(),o.n_(),o.zo.cancel(),o.Uo++,4!==e?o.zo.reset():n&&n.code===Ge.RESOURCE_EXHAUSTED?(Mi(n.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),o.zo.Lo()):n&&n.code===Ge.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.r_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Uo===n&&this.s_(o,u)},o=>{e(()=>{const u=new rt(Ge.UNKNOWN,"Fetching auth token failed: "+o.message);return this.o_(u)})})}s_(e,n){const o=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{o(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(u=>{o(()=>this.o_(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Jo(){var e=this;this.state=5,this.zo.ko((0,X.Z)(function*(){e.state=0,e.start()}))}o_(e){return ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jy extends ng{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Yh(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(k=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===k?1:"REMOVE"===k?2:"CURRENT"===k?3:"RESET"===k?4:Bt(),u=e.targetChange.targetIds||[],l=function(k,H){return k.useProto3Json?(Ut(void 0===H||"string"==typeof H),rs.fromBase64String(H||"")):(Ut(void 0===H||H instanceof Uint8Array),rs.fromUint8Array(H||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,A=f&&function(k){const H=void 0===k.code?Ge.UNKNOWN:Cd(k.code);return new rt(H,k.message||"")}(f);n=new Sp(o,u,l,A||null)}else if("documentChange"in e){const o=e.documentChange,u=xi(i,o.document.name),l=tt(o.document.updateTime),f=o.document.createTime?tt(o.document.createTime):Xt.min(),A=new Oi({mapValue:{fields:o.document.fields}}),R=ai.newFoundDocument(u,l,f,A);n=new Sl(o.targetIds||[],o.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const o=e.documentDelete,u=xi(i,o.document),l=o.readTime?tt(o.readTime):Xt.min(),f=ai.newNoDocument(u,l);n=new Sl([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=xi(i,o.document);n=new Sl([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Bt();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new Nm(u,l);n=new Cp(o.targetId,f)}}var k;return n}(this.serializer,e),o=function(l){if(!("targetChange"in l))return Xt.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?Xt.min():f.readTime?tt(f.readTime):Xt.min()}(e);return this.listener.a_(n,o)}u_(e){const n={};n.database=Bu(this.serializer),n.addTarget=function(l,f){let A;const R=f.target;if(A=ya(R)?{documents:La(l,R)}:{query:Hu(l,R)},A.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){A.resumeToken=Ie(l,f.resumeToken);const k=F(l,f.expectedCount);null!==k&&(A.expectedCount=k)}else if(f.snapshotVersion.compareTo(Xt.min())>0){A.readTime=Y(l,f.snapshotVersion.toTimestamp());const k=F(l,f.expectedCount);null!==k&&(A.expectedCount=k)}return A}(this.serializer,e);const o=function Ny(i,e){const n=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.e_(n)}c_(e){const n={};n.database=Bu(this.serializer),n.removeTarget=e,this.e_(n)}}class Xy extends ng{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function bd(i,e){return i&&i.length>0?(Ut(void 0!==e),i.map(n=>function(u,l){let f=tt(u.updateTime?u.updateTime:l);return f.isEqual(Xt.min())&&(f=tt(l)),new Dd(f,u.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=tt(e.commitTime);return this.listener.I_(o,n)}return Ut(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Bu(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function ju(i,e){let n;if(e instanceof xa)n={update:$u(i,e.key,e.value)};else if(e instanceof ru)n={delete:Yn(i,e.key)};else if(e instanceof ka)n={update:$u(i,e.key,e.data),updateMask:xm(e.fieldMask)};else{if(!(e instanceof zh))return Bt();n={verify:Yn(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(l,f){const A=f.transform;if(A instanceof _l)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(A instanceof Ec)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:A.elements}};if(A instanceof Vu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:A.elements}};if(A instanceof yl)return{fieldPath:f.field.canonicalString(),increment:A.Ie};throw Bt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:Ke(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Bt()),n;var l}(this.serializer,o))};this.e_(n)}}class rg extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.d_=!1}A_(){if(this.d_)throw new rt(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.wo(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new rt(Ge.UNKNOWN,u.toString())})}Co(e,n,o,u){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.Co(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new rt(Ge.UNKNOWN,l.toString())})}terminate(){this.d_=!0}}class ev{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Mi(n),this.f_=!1):ot("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class pI{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=l,this.F_.ro(A=>{o.enqueueAndForget((0,X.Z)(function*(){var R;fu(f)&&(ot("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,X.Z)(function*(H){const ne=St(H);ne.C_.add(4),yield Qu(ne),ne.M_.set("Unknown"),ne.C_.delete(4),yield Qd(ne)}),function k(H){return R.apply(this,arguments)})(f))}))}),this.M_=new ev(o,u)}}function Qd(i){return Ul.apply(this,arguments)}function Ul(){return Ul=(0,X.Z)(function*(i){if(fu(i))for(const e of i.v_)yield e(!0)}),Ul.apply(this,arguments)}function Qu(i){return sg.apply(this,arguments)}function sg(){return sg=(0,X.Z)(function*(i){for(const e of i.v_)yield e(!1)}),sg.apply(this,arguments)}function Yd(i,e){const n=St(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),og(n)?Ef(n):$c(n).Ho()&&Bl(n,e))}function Uc(i,e){const n=St(i),o=$c(n);n.D_.delete(e),o.Ho()&&i_(n,e),0===n.D_.size&&(o.Ho()?o.Zo():fu(n)&&n.M_.set("Unknown"))}function Bl(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$c(i).u_(e)}function i_(i,e){i.x_.Oe(e),$c(i).c_(e)}function Ef(i){i.x_=new Qh({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),$c(i).start(),i.M_.g_()}function og(i){return fu(i)&&!$c(i).jo()&&i.D_.size>0}function fu(i){return 0===St(i).C_.size}function tv(i){i.x_=void 0}function nv(i){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,X.Z)(function*(i){i.D_.forEach((e,n)=>{Bl(i,e)})}),Bc.apply(this,arguments)}function rv(i,e){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,X.Z)(function*(i,e){tv(i),og(i)?(i.M_.w_(e),Ef(i)):i.M_.set("Unknown")}),Yu.apply(this,arguments)}function Zd(i,e,n){return ag.apply(this,arguments)}function ag(){return ag=(0,X.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof Sp&&2===e.state&&e.cause)try{yield(o=(0,X.Z)(function*(l,f){const A=f.cause;for(const R of f.targetIds)l.D_.has(R)&&(yield l.remoteSyncer.rejectListen(R,A),l.D_.delete(R),l.x_.removeTarget(R))}),function u(l,f){return o.apply(this,arguments)})(i,e)}catch(o){ot("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Jd(i,o)}else if(e instanceof Sl?i.x_.$e(e):e instanceof Cp?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(Xt.min()))try{const o=yield kc(i.localStore);n.compareTo(o)>=0&&(yield function(l,f){const A=l.x_.it(f);return A.targetChanges.forEach((R,k)=>{if(R.resumeToken.approximateByteSize()>0){const H=l.D_.get(k);H&&l.D_.set(k,H.withResumeToken(R.resumeToken,f))}}),A.targetMismatches.forEach((R,k)=>{const H=l.D_.get(R);if(!H)return;l.D_.set(R,H.withResumeToken(rs.EMPTY_BYTE_STRING,H.snapshotVersion)),i_(l,R);const ne=new Yo(H.target,R,k,H.sequenceNumber);Bl(l,ne)}),l.remoteSyncer.applyRemoteEvent(A)}(i,n))}catch(o){ot("RemoteStore","Failed to raise snapshot:",o),yield Jd(i,o)}var o}),ag.apply(this,arguments)}function Jd(i,e,n){return ug.apply(this,arguments)}function ug(){return ug=(0,X.Z)(function*(i,e,n){if(!E(e))throw e;i.C_.add(1),yield Qu(i),i.M_.set("Offline"),n||(n=()=>kc(i.localStore)),i.asyncQueue.enqueueRetryable((0,X.Z)(function*(){ot("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield Qd(i)}))}),ug.apply(this,arguments)}function s_(i,e){return e().catch(n=>Jd(i,n,e))}function $l(i){return If.apply(this,arguments)}function If(){return If=(0,X.Z)(function*(i){const e=St(i),n=jc(e);let o=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;o_(e);)try{const u=yield Qy(e.localStore,o);if(null===u){0===e.b_.length&&n.Zo();break}o=u.batchId,cg(e,u)}catch(u){yield Jd(e,u)}iv(e)&&Tf(e)}),If.apply(this,arguments)}function o_(i){return fu(i)&&i.b_.length<10}function cg(i,e){i.b_.push(e);const n=jc(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function iv(i){return fu(i)&&!jc(i).jo()&&i.b_.length>0}function Tf(i){jc(i).start()}function a_(i){return lg.apply(this,arguments)}function lg(){return lg=(0,X.Z)(function*(i){jc(i).E_()}),lg.apply(this,arguments)}function sv(i){return wf.apply(this,arguments)}function wf(){return wf=(0,X.Z)(function*(i){const e=jc(i);for(const n of i.b_)e.P_(n.mutations)}),wf.apply(this,arguments)}function ov(i,e,n){return Df.apply(this,arguments)}function Df(){return Df=(0,X.Z)(function*(i,e,n){const o=i.b_.shift(),u=Wh.from(o,e,n);yield s_(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield $l(i)}),Df.apply(this,arguments)}function av(i,e){return dg.apply(this,arguments)}function dg(){return dg=(0,X.Z)(function*(i,e){var n;e&&jc(i).h_&&(yield(n=(0,X.Z)(function*(u,l){if(function qh(i){switch(i){default:return Bt();case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0}}(A=l.code)&&A!==Ge.ABORTED){const f=u.b_.shift();jc(u).Yo(),yield s_(u,()=>u.remoteSyncer.rejectFailedWrite(f.batchId,l)),yield $l(u)}var A}),function o(u,l){return n.apply(this,arguments)})(i,e)),iv(i)&&Tf(i)}),dg.apply(this,arguments)}function uv(i,e){return Af.apply(this,arguments)}function Af(){return Af=(0,X.Z)(function*(i,e){const n=St(i);n.asyncQueue.verifyOperationInProgress(),ot("RemoteStore","RemoteStore received new credentials");const o=fu(n);n.C_.add(3),yield Qu(n),o&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Qd(n)}),Af.apply(this,arguments)}function Zo(){return Zo=(0,X.Z)(function*(i,e){const n=St(i);e?(n.C_.delete(2),yield Qd(n)):e||(n.C_.add(2),yield Qu(n),n.M_.set("Unknown"))}),Zo.apply(this,arguments)}function $c(i){return i.O_||(i.O_=function(n,o,u){const l=St(n);return l.A_(),new Jy(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(i.datastore,i.asyncQueue,{ho:nv.bind(null,i),Io:rv.bind(null,i),a_:Zd.bind(null,i)}),i.v_.push(function(){var e=(0,X.Z)(function*(n){n?(i.O_.Yo(),og(i)?Ef(i):i.M_.set("Unknown")):(yield i.O_.stop(),tv(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function jc(i){return i.N_||(i.N_=function(n,o,u){const l=St(n);return l.A_(),new Xy(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(i.datastore,i.asyncQueue,{ho:a_.bind(null,i),Io:av.bind(null,i),T_:sv.bind(null,i),I_:ov.bind(null,i)}),i.v_.push(function(){var e=(0,X.Z)(function*(n){n?(i.N_.Yo(),yield $l(i)):(yield i.N_.stop(),i.b_.length>0&&(ot("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class Xd{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,A=new Xd(e,n,f,u,l);return A.start(o),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rt(Ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jo(i,e){if(Mi("AsyncQueue",`${e}: ${i}`),E(i))return new rt(Ge.UNAVAILABLE,`${e}: ${i}`);throw i}class Zu{constructor(e){this.comparator=e?(n,o)=>e(n,o)||kt.comparator(n.key,o.key):(n,o)=>kt.comparator(n.key,o.key),this.keyedMap=pl(),this.sortedSet=new oi(this.comparator)}static emptySet(e){return new Zu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Zu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class u_{constructor(){this.B_=new oi(kt.comparator)}track(e){const n=e.doc.key,o=this.B_.get(n);o?0!==e.type&&3===o.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==o.type?this.B_=this.B_.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.B_=this.B_.remove(n):1===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Bt():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,o)=>{e.push(o)}),e}}class eh{constructor(e,n,o,u,l,f,A,R,k){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=A,this.excludesMetadataChanges=R,this.hasCachedResults=k}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(A=>{f.push({type:0,doc:A})}),new eh(e,n,Zu.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&va(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class cv{constructor(){this.k_=void 0,this.listeners=[]}}class hg{constructor(){this.queries=new Ea(e=>yc(e),va),this.onlineState="Unknown",this.q_=new Set}}function Sf(){return Sf=(0,X.Z)(function*(i,e){const n=St(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new cv),u)try{l.k_=yield n.onListen(o)}catch(f){const A=Jo(f,`Initialization of query '${Na(e.query)}' failed`);return void e.onError(A)}n.queries.set(o,l),l.listeners.push(e),e.Q_(n.onlineState),l.k_&&e.K_(l.k_)&&th(n)}),Sf.apply(this,arguments)}function c_(){return c_=(0,X.Z)(function*(i,e){const n=St(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),c_.apply(this,arguments)}function Ys(i,e){const n=St(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const A of f.listeners)A.K_(u)&&(o=!0);f.k_=u}}o&&th(n)}function lv(i,e,n){const o=St(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function th(i){i.q_.forEach(e=>{e.next()})}class pg{constructor(e,n,o){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=o||{}}K_(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new eh(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=eh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class d_{constructor(e){this.key=e}}class mg{constructor(e){this.key=e}}class _g{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=xn(),this.mutatedKeys=xn(),this._a=_d(e),this.aa=new Zu(this._a)}get ua(){return this.ia}ca(e,n){const o=n?n.la:new u_,u=n?n.aa:this.aa;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,A=!1;const R="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,k="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((H,ne)=>{const _e=u.get(H),ze=Oa(this.query,ne)?ne:null,dt=!!_e&&this.mutatedKeys.has(_e.key),It=!!ze&&(ze.hasLocalMutations||this.mutatedKeys.has(ze.key)&&ze.hasCommittedMutations);let Dt=!1;_e&&ze?_e.data.isEqual(ze.data)?dt!==It&&(o.track({type:3,doc:ze}),Dt=!0):this.ha(_e,ze)||(o.track({type:2,doc:ze}),Dt=!0,(R&&this._a(ze,R)>0||k&&this._a(ze,k)<0)&&(A=!0)):!_e&&ze?(o.track({type:0,doc:ze}),Dt=!0):_e&&!ze&&(o.track({type:1,doc:_e}),Dt=!0,(R||k)&&(A=!0)),Dt&&(ze?(f=f.add(ze),l=It?l.add(H):l.delete(H)):(f=f.delete(H),l=l.delete(H)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const H="F"===this.query.limitType?f.last():f.first();f=f.delete(H.key),l=l.delete(H.key),o.track({type:1,doc:H})}return{aa:f,la:o,Zi:A,mutatedKeys:l}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const l=e.la.L_();l.sort((k,H)=>function(_e,ze){const dt=It=>{switch(It){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt()}};return dt(_e)-dt(ze)}(k.type,H.type)||this._a(k.doc,H.doc)),this.Pa(o);const f=n?this.Ia():[],A=0===this.oa.size&&this.current?1:0,R=A!==this.sa;return this.sa=A,0!==l.length||R?{snapshot:new eh(this.query,e.aa,u,l,e.mutatedKeys,0===A,R,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ta:f}:{Ta:f}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new u_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=xn(),this.aa.forEach(o=>{this.Ea(o.key)&&(this.oa=this.oa.add(o.key))});const n=[];return e.forEach(o=>{this.oa.has(o)||n.push(new mg(o))}),this.oa.forEach(o=>{e.has(o)||n.push(new d_(o))}),n}da(e){this.ia=e.ls,this.oa=xn();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return eh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class hv{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class fv{constructor(e){this.key=e,this.Ra=!1}}class pv{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.Va={},this.ma=new Ea(A=>yc(A),va),this.fa=new Map,this.ga=new Set,this.pa=new oi(kt.comparator),this.ya=new Map,this.wa=new Km,this.Sa={},this.ba=new Map,this.Da=uu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function h_(i,e){return Ju.apply(this,arguments)}function Ju(){return Ju=(0,X.Z)(function*(i,e){const n=function Sg(i){const e=St(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p_.bind(null,e),e.Va.a_=Ys.bind(null,e.eventManager),e.Va.Fa=lv.bind(null,e.eventManager),e}(i);let o,u;const l=n.ma.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.Aa();else{const f=yield function Lc(i,e){const n=St(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.qr.getTargetData(o,e).next(l=>l?(u=l,Oe.resolve(u)):n.qr.allocateTargetId(o).next(f=>(u=new Yo(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.qr.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.ts.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ts=n.ts.insert(o.targetId,o),n.ns.set(e,o.targetId)),o})}(n.localStore,_s(e)),A=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function Da(i,e,n,o,u){return Xu.apply(this,arguments)}(n,e,o,"current"===A,f.resumeToken),n.isPrimaryClient&&Yd(n.remoteStore,f)}return u}),Ju.apply(this,arguments)}function Xu(){return Xu=(0,X.Z)(function*(i,e,n,o,u){i.va=(ne,_e,ze)=>{return(dt=(0,X.Z)(function*(Dt,_n,En,In){let dr=_n.view.ca(En);dr.Zi&&(dr=yield pf(Dt.localStore,_n.query,!1).then(({documents:os})=>_n.view.ca(os,dr)));const ui=In&&In.targetChanges.get(_n.targetId),Gr=_n.view.applyChanges(dr,Dt.isPrimaryClient,ui);return Nf(Dt,_n.targetId,Gr.Ta),Gr.snapshot}),function It(Dt,_n,En,In){return dt.apply(this,arguments)})(i,ne,_e,ze);var dt};const l=yield pf(i.localStore,e,!0),f=new _g(e,l.ls),A=f.ca(l.documents),R=Cl.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),k=f.applyChanges(A,i.isPrimaryClient,R);Nf(i,n,k.Ta);const H=new hv(e,n,f);return i.ma.set(e,H),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),k.snapshot}),Xu.apply(this,arguments)}function gv(i,e){return yg.apply(this,arguments)}function yg(){return yg=(0,X.Z)(function*(i,e){const n=St(i),o=n.ma.get(e),u=n.fa.get(o.targetId);if(u.length>1)return n.fa.set(o.targetId,u.filter(l=>!va(l,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield wa(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Uc(n.remoteStore,o.targetId),rh(n,o.targetId)}).catch(ko))):(rh(n,o.targetId),yield wa(n.localStore,o.targetId,!0))}),yg.apply(this,arguments)}function Rf(){return Rf=(0,X.Z)(function*(i,e,n){const o=function bg(i){const e=St(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_v.bind(null,e),e}(i);try{const u=yield function(f,A){const R=St(f),k=jr.now(),H=A.reduce((ze,dt)=>ze.add(dt.key),xn());let ne,_e;return R.persistence.runTransaction("Locally write mutations","readwrite",ze=>{let dt=ys(),It=xn();return R.ss.getEntries(ze,H).next(Dt=>{dt=Dt,dt.forEach((_n,En)=>{En.isValidDocument()||(It=It.add(_n))})}).next(()=>R.localDocuments.getOverlayedDocuments(ze,dt)).next(Dt=>{ne=Dt;const _n=[];for(const En of A){const In=Ad(En,ne.get(En.key).overlayedDocument);null!=In&&_n.push(new ka(En.key,In,Pa(In.value.mapValue),bi.exists(!0)))}return R.mutationQueue.addMutationBatch(ze,k,_n,A)}).next(Dt=>{_e=Dt;const _n=Dt.applyToLocalDocumentSet(ne,It);return R.documentOverlayCache.saveOverlays(ze,Dt.batchId,_n)})}).then(()=>({batchId:_e.batchId,changes:gl(ne)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(f,A,R){let k=f.Sa[f.currentUser.toKey()];k||(k=new oi(vn)),k=k.insert(A,R),f.Sa[f.currentUser.toKey()]=k}(o,u.batchId,n),yield Va(o,u.changes),yield $l(o.remoteStore)}catch(u){const l=Jo(u,"Failed to persist write");n.reject(l)}}),Rf.apply(this,arguments)}function Pf(i,e){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,X.Z)(function*(i,e){const n=St(i);try{const o=yield function Wp(i,e){const n=St(i),o=e.snapshotVersion;let u=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.ss.newChangeBuffer({trackRemovals:!0});u=n.ts;const A=[];e.targetChanges.forEach((H,ne)=>{const _e=u.get(ne);if(!_e)return;A.push(n.qr.removeMatchingKeys(l,H.removedDocuments,ne).next(()=>n.qr.addMatchingKeys(l,H.addedDocuments,ne)));let ze=_e.withSequenceNumber(l.currentSequenceNumber);var It,Dt,_n;null!==e.targetMismatches.get(ne)?ze=ze.withResumeToken(rs.EMPTY_BYTE_STRING,Xt.min()).withLastLimboFreeSnapshotVersion(Xt.min()):H.resumeToken.approximateByteSize()>0&&(ze=ze.withResumeToken(H.resumeToken,o)),u=u.insert(ne,ze),Dt=ze,_n=H,(0===(It=_e).resumeToken.approximateByteSize()||Dt.snapshotVersion.toMicroseconds()-It.snapshotVersion.toMicroseconds()>=3e8||_n.addedDocuments.size+_n.modifiedDocuments.size+_n.removedDocuments.size>0)&&A.push(n.qr.updateTargetData(l,ze))});let R=ys(),k=xn();if(e.documentUpdates.forEach(H=>{e.resolvedLimboDocuments.has(H)&&A.push(n.persistence.referenceDelegate.updateLimboDocument(l,H))}),A.push(function Jm(i,e,n){let o=xn(),u=xn();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=ys();return n.forEach((A,R)=>{const k=l.get(A);R.isFoundDocument()!==k.isFoundDocument()&&(u=u.add(A)),R.isNoDocument()&&R.version.isEqual(Xt.min())?(e.removeEntry(A,R.readTime),f=f.insert(A,R)):!k.isValidDocument()||R.version.compareTo(k.version)>0||0===R.version.compareTo(k.version)&&k.hasPendingWrites?(e.addEntry(R),f=f.insert(A,R)):ot("LocalStore","Ignoring outdated watch update for ",A,". Current version:",k.version," Watch version:",R.version)}),{us:f,cs:u}})}(l,f,e.documentUpdates).next(H=>{R=H.us,k=H.cs})),!o.isEqual(Xt.min())){const H=n.qr.getLastRemoteSnapshotVersion(l).next(ne=>n.qr.setTargetsMetadata(l,l.currentSequenceNumber,o));A.push(H)}return Oe.waitFor(A).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,R,k)).next(()=>R)}).then(l=>(n.ts=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.ya.get(l);f&&(Ut(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.Ra=!0:u.modifiedDocuments.size>0?Ut(f.Ra):u.removedDocuments.size>0&&(Ut(f.Ra),f.Ra=!1))}),yield Va(n,o,e)}catch(o){yield ko(o)}}),Hc.apply(this,arguments)}function nh(i,e,n){const o=St(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ma.forEach((l,f)=>{const A=f.view.Q_(e);A.snapshot&&u.push(A.snapshot)}),function(f,A){const R=St(f);R.onlineState=A;let k=!1;R.queries.forEach((H,ne)=>{for(const _e of ne.listeners)_e.Q_(A)&&(k=!0)}),k&&th(R)}(o.eventManager,e),u.length&&o.Va.a_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function p_(i,e,n){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,X.Z)(function*(i,e,n){const o=St(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.ya.get(e),l=u&&u.key;if(l){let f=new oi(kt.comparator);f=f.insert(l,ai.newNoDocument(l,Xt.min()));const A=xn().add(l),R=new wc(Xt.min(),new Map,new oi(vn),f,A);yield Pf(o,R),o.pa=o.pa.remove(l),o.ya.delete(e),jl(o)}else yield wa(o.localStore,e,!1).then(()=>rh(o,e,n)).catch(ko)}),Mf.apply(this,arguments)}function mv(i,e){return vg.apply(this,arguments)}function vg(){return vg=(0,X.Z)(function*(i,e){const n=St(i),o=e.batch.batchId;try{const u=yield function Fa(i,e){const n=St(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.ss.newChangeBuffer({trackRemovals:!0});return function(A,R,k,H){const ne=k.batch,_e=ne.keys();let ze=Oe.resolve();return _e.forEach(dt=>{ze=ze.next(()=>H.getEntry(R,dt)).next(It=>{const Dt=k.docVersions.get(dt);Ut(null!==Dt),It.version.compareTo(Dt)<0&&(ne.applyToRemoteDocument(It,k),It.isValidDocument()&&(It.setReadTime(k.commitVersion),H.addEntry(It)))})}),ze.next(()=>A.mutationQueue.removeMutationBatch(R,ne))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(A){let R=xn();for(let k=0;k<A.mutationResults.length;++k)A.mutationResults[k].transformResults.length>0&&(R=R.add(A.batch.mutations[k].key));return R}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);__(n,o,null),Ig(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Va(n,u)}catch(u){yield ko(u)}}),vg.apply(this,arguments)}function _v(i,e,n){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,X.Z)(function*(i,e,n){const o=St(i);try{const u=yield function(f,A){const R=St(f);return R.persistence.runTransaction("Reject batch","readwrite-primary",k=>{let H;return R.mutationQueue.lookupMutationBatch(k,A).next(ne=>(Ut(null!==ne),H=ne.keys(),R.mutationQueue.removeMutationBatch(k,ne))).next(()=>R.mutationQueue.performConsistencyCheck(k)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(k,H,A)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(k,H)).next(()=>R.localDocuments.getDocuments(k,H))})}(o.localStore,e);__(o,e,n),Ig(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Va(o,u)}catch(u){yield ko(u)}}),Eg.apply(this,arguments)}function Ig(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function __(i,e,n){const o=St(i);let u=o.Sa[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Sa[o.currentUser.toKey()]=u}}function rh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.fa.get(e))i.ma.delete(o),n&&i.Va.Fa(o,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(o=>{i.wa.containsKey(o)||Tg(i,o)})}function Tg(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(Uc(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),jl(i))}function Nf(i,e,n){for(const o of n)o instanceof d_?(i.wa.addReference(o.key,e),gI(i,o)):o instanceof mg?(ot("SyncEngine","Document no longer in limbo: "+o.key),i.wa.removeReference(o.key,e),i.wa.containsKey(o.key)||Tg(i,o.key)):Bt()}function gI(i,e){const n=e.key,o=n.path.canonicalString();i.pa.get(n)||i.ga.has(o)||(ot("SyncEngine","New document in limbo: "+n),i.ga.add(o),jl(i))}function jl(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new kt(tr.fromString(e)),o=i.Da.next();i.ya.set(o,new fv(n)),i.pa=i.pa.insert(n,o),Yd(i.remoteStore,new Yo(_s(Ma(n.path)),o,"TargetPurposeLimboResolution",Ue._e))}}function Va(i,e,n){return Of.apply(this,arguments)}function Of(){return Of=(0,X.Z)(function*(i,e,n){const o=St(i),u=[],l=[],f=[];var A;o.ma.isEmpty()||(o.ma.forEach((A,R)=>{f.push(o.va(R,e,n).then(k=>{if((k||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(R.targetId,k?.fromCache?"not-current":"current"),k){u.push(k);const H=du.Qi(R.targetId,k);l.push(H)}}))}),yield Promise.all(f),o.Va.a_(u),yield(A=(0,X.Z)(function*(k,H){const ne=St(k);try{yield ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",_e=>Oe.forEach(H,ze=>Oe.forEach(ze.ki,dt=>ne.persistence.referenceDelegate.addReference(_e,ze.targetId,dt)).next(()=>Oe.forEach(ze.qi,dt=>ne.persistence.referenceDelegate.removeReference(_e,ze.targetId,dt)))))}catch(_e){if(!E(_e))throw _e;ot("LocalStore","Failed to update sequence numbers: "+_e)}for(const _e of H){const ze=_e.targetId;if(!_e.fromCache){const dt=ne.ts.get(ze),Dt=dt.withLastLimboFreeSnapshotVersion(dt.snapshotVersion);ne.ts=ne.ts.insert(ze,Dt)}}}),function R(k,H){return A.apply(this,arguments)})(o.localStore,l))}),Of.apply(this,arguments)}function yv(i,e){return xf.apply(this,arguments)}function xf(){return xf=(0,X.Z)(function*(i,e){const n=St(i);if(!n.currentUser.isEqual(e)){ot("SyncEngine","User change. New user:",e.toKey());const o=yield ff(n.localStore,e);n.currentUser=e,(l=n).ba.forEach(A=>{A.forEach(R=>{R.reject(new rt(Ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.ba.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Va(n,o._s)}var l}),xf.apply(this,arguments)}function y_(i,e){const n=St(i),o=n.ya.get(e);if(o&&o.Ra)return xn().add(o.key);{let u=xn();const l=n.fa.get(e);if(!l)return u;for(const f of l){const A=n.ma.get(f);u=u.unionWith(A.view.ua)}return u}}class oh{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,X.Z)(function*(){n.serializer=hu(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Zm(i,e,n,o){return new hf(i,e,n,o)}(this.persistence,new df,e.initialUser,this.serializer)}createPersistence(e){return new jd(Hd.jr,this.serializer)}createSharedClientState(e){return new Vc}terminate(){var e=this;return(0,X.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Hl{initialize(e,n){var o=this;return(0,X.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>nh(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=yv.bind(null,o.syncEngine),yield function Cf(i,e){return Zo.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hg}createDatastore(e){const n=hu(e.databaseInfo.databaseId),o=new vf(e.databaseInfo);return new rg(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return o=this.localStore,u=this.datastore,l=e.asyncQueue,f=n=>nh(this.syncEngine,n,0),A=yf.D()?new yf:new Xp,new pI(o,u,l,f,A);var o,u,l,f,A}createSyncEngine(e,n){return function(u,l,f,A,R,k,H){const ne=new pv(u,l,f,A,R,k);return H&&(ne.Ca=!0),ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,X.Z)(function*(o){const u=St(o);ot("RemoteStore","RemoteStore shutting down."),u.C_.add(5),yield Qu(u),u.F_.shutdown(),u.M_.set("Unknown")}),function n(o){return e.apply(this,arguments)})(this.remoteStore);var e}}class ah{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class wv{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=jn.UNAUTHENTICATED,this.clientId=rl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,X.Z)(function*(A){ot("FirestoreClient","Received user=",A.uid),yield l.authCredentialListener(A),l.user=A});return function(A){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(ot("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,X.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rt(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=Jo(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Vf(i,e){return D_.apply(this,arguments)}function D_(){return D_=(0,X.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),ot("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,X.Z)(function*(l){o.isEqual(l)||(yield ff(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),D_.apply(this,arguments)}function uh(i,e){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,X.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Pg(i){return Mg.apply(this,arguments)}(i);ot("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>uv(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>uv(e.remoteStore,l)),i._onlineComponents=e}),Uf.apply(this,arguments)}function Mg(){return Mg=(0,X.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ot("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Vf(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function A_(i){return"FirebaseError"===i.name?i.code===Ge.FAILED_PRECONDITION||i.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;Qn("Error using user provided cache. Falling back to memory cache: "+n),yield Vf(i,new oh)}}else ot("FirestoreClient","Using default OfflineComponentProvider"),yield Vf(i,new oh);return i._offlineComponents}),Mg.apply(this,arguments)}function ch(i){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,X.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ot("FirestoreClient","Using user provided OnlineComponentProvider"),yield uh(i,i._uninitializedComponentsProvider._online)):(ot("FirestoreClient","Using default OnlineComponentProvider"),yield uh(i,new Hl))),i._onlineComponents}),Ng.apply(this,arguments)}function zl(i){return xg.apply(this,arguments)}function xg(){return xg=(0,X.Z)(function*(i){const e=yield ch(i),n=e.eventManager;return n.onListen=h_.bind(null,e.syncEngine),n.onUnlisten=gv.bind(null,e.syncEngine),n}),xg.apply(this,arguments)}function Ug(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Bg=new Map;function lh(i,e,n){if(!n)throw new rt(Ge.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function N_(i){if(!kt.isDocumentKey(i))throw new rt(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function O_(i){if(kt.isDocumentKey(i))throw new rt(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Gl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(o=i).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof i?"a function":Bt()}function _r(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new rt(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gl(i);throw new rt(Ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class x_{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new rt(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rt(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function pu(i,e,n,o){if(!0===e&&!0===o)throw new rt(Ge.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ug(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new rt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new rt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new rt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rc{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rt(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rt(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x_(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new Dh;switch(o.type){case"firstParty":return new tl(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new rt(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=Bg.get(n);o&&(ot("ComponentProvider","Removing Datastore"),Bg.delete(n),o.terminate())}(this),Promise.resolve()}}class Zs{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Zs(this.firestore,e,this._query)}}class ji{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ji(this.firestore,e,this._key)}}class gu extends Zs{constructor(e,n,o){super(e,n,Ma(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ji(this.firestore,null,new kt(e))}withConverter(e){return new gu(this.firestore,e,this._path)}}function Cv(i,e,...n){if(i=(0,ee.m9)(i),lh("collection","path",e),i instanceof rc){const o=tr.fromString(e,...n);return O_(o),new gu(i,null,o)}{if(!(i instanceof ji||i instanceof gu))throw new rt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(tr.fromString(e,...n));return O_(o),new gu(i.firestore,null,o)}}function jg(i,e,...n){if(i=(0,ee.m9)(i),1===arguments.length&&(e=rl.newId()),lh("doc","path",e),i instanceof rc){const o=tr.fromString(e,...n);return N_(o),new ji(i,null,new kt(o))}{if(!(i instanceof ji||i instanceof gu))throw new rt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(tr.fromString(e,...n));return N_(o),new ji(i.firestore,i instanceof gu?i.converter:null,new kt(o))}}class L_{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new tg(this,"async_queue_retry"),this.iu=()=>{const n=Vl();n&&ot("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Vl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Vl();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new ns;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,X.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!E(n))throw n;ot("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(o=>{throw this.eu=o,this.tu=!1,Mi("INTERNAL UNHANDLED ERROR: ",function(f){let A=f.message||"";return f.stack&&(A=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),A}(o)),o}).then(o=>(this.tu=!1,o))));return this.Ja=n,n}enqueueAfterDelay(e,n,o){this.su(),this.ru.indexOf(e)>-1&&(n=0);const u=Xd.createAndSchedule(this,e,n,o,l=>this.au(l));return this.Xa.push(u),u}su(){this.eu&&Bt()}verifyOperationInProgress(){}uu(){var e=this;return(0,X.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function $f(i){return function(n,o){if("object"!=typeof n||null===n)return!1;const u=n;for(const l of["next","error","complete"])if(l in u&&"function"==typeof u[l])return!0;return!1}(i)}class gi extends rc{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new L_,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Wl(this),this._firestoreClient.terminate()}}function Rv(i,e){const n="object"==typeof i?i:(0,Ee.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,Ee.qX)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,ee.P0)("firestore");l&&function dh(i,e,n,o={}){var u;const l=(i=_r(i,rc))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Qn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let A,R;if("string"==typeof o.mockUserToken)A=o.mockUserToken,R=jn.MOCK_USER;else{A=(0,ee.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const k=o.mockUserToken.sub||o.mockUserToken.user_id;if(!k)throw new rt(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new jn(k)}i._authCredentials=new go(new wh(A,R))}}(u,...l)}return u}function Es(i){return i._firestoreClient||Wl(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Wl(i){var e,n,o;const u=i._freezeSettings(),l=(R=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ul(i._databaseId,R,i._persistenceKey,(H=u).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,Ug(H.experimentalLongPollingOptions),H.useFetchStreams));var R,H;i._firestoreClient=new wv(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.localCache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}class Gc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gc(rs.fromBase64String(e))}catch(n){throw new rt(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gc(rs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ql{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new rt(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ci(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hg{constructor(e){this._methodName=e}}class zg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new rt(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new rt(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vn(this._lat,e._lat)||vn(this._long,e._long)}}const Nv=/^__.*__$/;class B_{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new ka(e,this.data,this.fieldMask,n,this.fieldTransforms):new xa(e,this.data,n,this.fieldTransforms)}}class Gg{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new ka(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt()}}class Wg{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.Pu(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Wg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:o,du:!1});return u.Au(e),u}Ru(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:o,du:!1});return u.Pu(),u}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return _u(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if($_(this.Iu)&&Nv.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class j_{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||hu(e)}pu(e,n,o,u=!1){return new Wg({Iu:e,methodName:n,gu:o,path:Ci.emptyPath(),du:!1,fu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wc(i){const e=i._freezeSettings(),n=hu(i._databaseId);return new j_(i._databaseId,!!e.ignoreUndefinedProperties,n)}function H_(i,e,n,o,u,l={}){const f=i.pu(l.merge||l.mergeFields?2:0,e,n,u);ac("Data must be an object, but it was:",f,o);const A=ea(o,f);let R,k;if(l.merge)R=new Us(f.fieldMask),k=f.fieldTransforms;else if(l.mergeFields){const H=[];for(const ne of l.mergeFields){const _e=ja(e,ne,n);if(!f.contains(_e))throw new rt(Ge.INVALID_ARGUMENT,`Field '${_e}' is specified in your field mask but missing from your input data.`);qc(H,_e)||H.push(_e)}R=new Us(H),k=f.fieldTransforms.filter(ne=>R.covers(ne.field))}else R=null,k=f.fieldTransforms;return new B_(new Oi(A),R,k)}class sc extends Hg{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sc}}function $a(i,e){if(jf(i=(0,ee.m9)(i)))return ac("Unsupported field value:",e,i),ea(i,e);if(i instanceof Hg)return function(o,u){if(!$_(u.Iu))throw u.mu(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.mu(`${o._methodName}() is not currently supported inside arrays`);const l=o._toFieldTransform(u);l&&u.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(o,u){const l=[];let f=0;for(const A of o){let R=$a(A,u.Vu(f));null==R&&(R={nullValue:"NULL_VALUE"}),l.push(R),f++}return{arrayValue:{values:l}}}(i,e)}return function(o,u){if(null===(o=(0,ee.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return $h(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const l=jr.fromDate(o);return{timestampValue:Y(u.serializer,l)}}if(o instanceof jr){const l=new jr(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Y(u.serializer,l)}}if(o instanceof zg)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Gc)return{bytesValue:Ie(u.serializer,o._byteString)};if(o instanceof ji){const l=u.databaseId,f=o.firestore._databaseId;if(!f.isEqual(l))throw u.mu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:zt(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.mu(`Unsupported field value: ${Gl(o)}`)}(i,e)}function ea(i,e){const n={};return al(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(i,(o,u)=>{const l=$a(u,e.Eu(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function jf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof jr||i instanceof zg||i instanceof Gc||i instanceof ji||i instanceof Hg)}function ac(i,e,n){if(!jf(n)||"object"!=typeof(u=n)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=Gl(n);throw e.mu("an object"===o?i+" a custom object":i+" "+o)}var u}function ja(i,e,n){if((e=(0,ee.m9)(e))instanceof ql)return e._internalPath;if("string"==typeof e)return mu(i,e);throw _u("Field path arguments must be of type string or ",i,!1,void 0,n)}const Ql=new RegExp("[~\\*/\\[\\]]");function mu(i,e,n){if(e.search(Ql)>=0)throw _u(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ql(...e.split("."))._internalPath}catch{throw _u(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function _u(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let A=`Function ${e}() called with invalid data`;n&&(A+=" (via `toFirestore()`)"),A+=". ";let R="";return(l||f)&&(R+=" (found",l&&(R+=` in field ${o}`),f&&(R+=` in document ${u}`),R+=")"),new rt(Ge.INVALID_ARGUMENT,A+i+R)}function qc(i,e){return i.some(n=>n.isEqual(e))}class uc{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ji(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Yl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Yl extends uc{data(){return super.data()}}function yu(i,e){return"string"==typeof e?mu(i,e):e instanceof ql?e._internalPath:e._delegate._internalPath}class Hf{}class G_ extends Hf{}function W_(i,e,...n){let o=[];e instanceof Hf&&o.push(e),o=o.concat(n),function(l){const f=l.filter(R=>R instanceof Kc).length,A=l.filter(R=>R instanceof Zl).length;if(f>1||f>0&&A>0)throw new rt(Ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Zl extends G_{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Zl(e,n,o)}_apply(e){const n=this._parse(e);return Wf(e._query,n),new Zs(e.firestore,e.converter,_c(e._query,n))}_parse(e){const n=Wc(e.firestore);return function(l,f,A,R,k,H,ne){let _e;if(k.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new rt(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){Jl(ne,H);const ze=[];for(const dt of ne)ze.push(Gf(R,l,dt));_e={arrayValue:{values:ze}}}else _e=Gf(R,l,ne)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||Jl(ne,H),_e=function oc(i,e,n,o=!1){return $a(n,i.pu(o?4:3,e))}(A,"where",ne,"in"===H||"not-in"===H);return cr.create(k,H,_e)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function q_(i,e,n){const o=e,u=yu("where",i);return Zl._create(u,o,n)}class Kc extends Hf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Kc(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:zr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(u,l){let f=u;const A=l.getFlattenedFilters();for(const R of A)Wf(f,R),f=_c(f,R)}(e._query,n),new Zs(e.firestore,e.converter,_c(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Gf(i,e,n){if("string"==typeof(n=(0,ee.m9)(n))){if(""===n)throw new rt(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!md(e)&&-1!==n.indexOf("/"))throw new rt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(tr.fromString(n));if(!kt.isDocumentKey(o))throw new rt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return oa(i,new kt(o))}if(n instanceof ji)return oa(i,n._key);throw new rt(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gl(n)}.`)}function Jl(i,e){if(!Array.isArray(i)||0===i.length)throw new rt(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Wf(i,e){const n=function(u,l){for(const f of u)for(const A of f.getFlattenedFilters())if(l.indexOf(A.op)>=0)return A.op;return null}(i.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new rt(Ge.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Q_{convertValue(e,n="none"){switch(ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Si(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Bt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Co(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new zg(Si(e.latitude),Si(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Ya(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Za(e));default:return null}}convertTimestamp(e){const n=Wo(e);return new jr(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=tr.fromString(e);Ut(Pd(o));const u=new Lo(o.get(1),o.get(3)),l=new kt(o.popFirst(5));return u.isEqual(n)||Mi(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Yc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cc extends uc{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(yu("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Zc extends cc{data(e={}){return super.data(e)}}class vu{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Yc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Zc(this._firestore,this._userDataWriter,o.key,o,new Yc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(u,l){if(u._snapshot.oldDocs.isEmpty()){let f=0;return u._snapshot.docChanges.map(A=>({type:"added",doc:new Zc(u._firestore,u._userDataWriter,A.doc.key,A.doc,new Yc(u._snapshot.mutatedKeys.has(A.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:f++}))}{let f=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(A=>l||3!==A.type).map(A=>{const R=new Zc(u._firestore,u._userDataWriter,A.doc.key,A.doc,new Yc(u._snapshot.mutatedKeys.has(A.doc.key),u._snapshot.fromCache),u.query.converter);let k=-1,H=-1;return 0!==A.type&&(k=f.indexOf(A.doc.key),f=f.delete(A.doc.key)),1!==A.type&&(f=f.add(A.doc),H=f.indexOf(A.doc.key)),{type:kI(A.type),doc:R,oldIndex:k,newIndex:H}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function kI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt()}}class Ha extends Q_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ji(this.firestore,null,n)}}function Y_(i,e,n){i=_r(i,ji);const o=_r(i.firestore,gi),u=function Qc(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e,n);return Jc(o,[H_(Wc(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,bi.none())])}function Z_(i,e,n,...o){i=_r(i,ji);const u=_r(i.firestore,gi),l=Wc(u);let f;return f="string"==typeof(e=(0,ee.m9)(e))||e instanceof ql?function co(i,e,n,o,u,l){const f=i.pu(1,e,n),A=[ja(e,o,n)],R=[u];if(l.length%2!=0)throw new rt(Ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _e=0;_e<l.length;_e+=2)A.push(ja(e,l[_e])),R.push(l[_e+1]);const k=[],H=Oi.empty();for(let _e=A.length-1;_e>=0;--_e)if(!qc(k,A[_e])){const ze=A[_e];let dt=R[_e];dt=(0,ee.m9)(dt);const It=f.Ru(ze);if(dt instanceof sc)k.push(ze);else{const Dt=$a(dt,It);null!=Dt&&(k.push(ze),H.set(ze,Dt))}}const ne=new Us(k);return new Gg(H,ne,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function Kl(i,e,n,o){const u=i.pu(1,e,n);ac("Data must be an object, but it was:",u,o);const l=[],f=Oi.empty();Co(o,(R,k)=>{const H=mu(e,R,n);k=(0,ee.m9)(k);const ne=u.Ru(H);if(k instanceof sc)l.push(H);else{const _e=$a(k,ne);null!=_e&&(l.push(H),f.set(H,_e))}});const A=new Us(l);return new Gg(f,A,u.fieldTransforms)}(l,"updateDoc",i._key,e),Jc(u,[f.toMutation(i._key,bi.exists(!0))])}function Jc(i,e){return function(o,u){const l=new ns;return o.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function f_(i,e,n){return Rf.apply(this,arguments)}(yield function Og(i){return ch(i).then(e=>e.syncEngine)}(o),u,l)})),l.promise}(Es(i),e)}!function(e,n=!0){ts=Ee.Jn,(0,Ee.Xd)(new Me.wA("firestore",(o,{instanceIdentifier:u,options:l})=>{const f=o.getProvider("app").getImmediate(),A=new gi(new jo(o.getProvider("auth-internal")),new nl(o.getProvider("app-check-internal")),function(k,H){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new rt(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(k.options.projectId,H)}(f,u),f);return l=Object.assign({useFetchStreams:n},l),A._setSettings(l),A},"PUBLIC").setMultipleInstances(!0)),(0,Ee.KN)(Zr,"4.3.2",e),(0,Ee.KN)(Zr,"4.3.2","esm2017")}();var Zf=U(5592),Eu=U(7398),Jf=function(){return Jf=Object.assign||function(e){for(var n,o=1,u=arguments.length;o<u;o++)for(var l in n=arguments[o])Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l]);return e},Jf.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var cm={includeMetadataChanges:!1};function Iu(i,e){return void 0===e&&(e=cm),new Zf.y(function(n){var o=function Bv(i,...e){var n,o,u;i=(0,ee.m9)(i);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||$f(e[f])||(l=e[f],f++);const A={includeMetadataChanges:l.includeMetadataChanges};if($f(e[f])){const ne=e[f];e[f]=null===(n=ne.next)||void 0===n?void 0:n.bind(ne),e[f+1]=null===(o=ne.error)||void 0===o?void 0:o.bind(ne),e[f+2]=null===(u=ne.complete)||void 0===u?void 0:u.bind(ne)}let R,k,H;if(i instanceof ji)k=_r(i.firestore,gi),H=Ma(i._key.path),R={next:ne=>{e[f]&&e[f](function gh(i,e,n){const o=n.docs.get(e._key),u=new Ha(i);return new cc(i,u,e._key,o,new Yc(n.hasPendingWrites,n.fromCache),e.converter)}(k,i,ne))},error:e[f+1],complete:e[f+2]};else{const ne=_r(i,Zs);k=_r(ne.firestore,gi),H=ne._query;const _e=new Ha(k);R={next:ze=>{e[f]&&e[f](new vu(k,_e,ne,ze))},error:e[f+1],complete:e[f+2]},function Qg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new rt(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(_e,ze,dt,It){const Dt=new ah(It),_n=new pg(ze,Dt,dt);return _e.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function ca(i,e){return Sf.apply(this,arguments)}(yield zl(_e),_n)})),()=>{Dt.Na(),_e.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function fg(i,e){return c_.apply(this,arguments)}(yield zl(_e),_n)}))}}(Es(k),H,A,R)}(i,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:o}})}function ay(i,e){return void 0===e&&(e={}),function tE(i){return Iu(i,{includeMetadataChanges:!0}).pipe((0,Eu.U)(function(e){return e.docs}))}(i).pipe((0,Eu.U)(function(n){return n.map(function(o){return function Xf(i,e){var n;void 0===e&&(e={});var o=i.data(e);return i.exists()&&"object"==typeof o&&null!==o&&e.idField?Jf(Jf({},o),((n={})[e.idField]=i.id,n)):o}(o,e)})}))}class ep{constructor(e){return e}}const cy="firestore",tp=new re.OlP("angularfire2.firestore-instances");function hm(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new ep(o)}}const fm={provide:class ly{constructor(){return(0,y.vb)(cy)}},deps:[[new re.FiY,tp]]},za={provide:ep,useFactory:function XI(i,e){const n=(0,y.JM)(cy,i,e);return n&&new ep(n)},deps:[[new re.FiY,tp],ve.Ot]};let rE=(()=>{class i{constructor(){(0,Z.KN)("angularfire",y.q4.full,"fst")}static \u0275fac=function(o){return new(o||i)};static \u0275mod=re.oAB({type:i});static \u0275inj=re.cJS({providers:[za,fm]})}return i})();function dy(i,...e){return{ngModule:rE,providers:[{provide:tp,useFactory:hm(i),multi:!0,deps:[re.R0b,re.zs3,y.HU,ve.z6,[new re.FiY,se.dh],[new re.FiY,y.Rf],...e]}]}}const hy=(0,y.u3)(ay,!0),py=(0,y.u3)(Cv,!0),my=(0,y.u3)(jg,!0),yE=(0,y.u3)(Rv,!0),mm=(0,y.u3)(W_,!0),bT=(0,y.u3)(Y_,!0),PE=(0,y.u3)(Z_,!0),ed=(0,y.u3)(q_,!0)},5017:(bt,Be,U)=>{U.d(Be,{Ke:()=>ds,Jt:()=>wi,cF:()=>hs,aF:()=>qs,Vq:()=>fi,iH:()=>No,KV:()=>Oo});var y=U(1920),re=U(5879),ve=U(721),se=U(3435),Z=U(3182),X=U(5861),Ee=U(534),Me=U(9058),me=U(4537);const ee="firebasestorage.googleapis.com",ce="storageBucket";class Le extends Me.ZR{constructor(V,oe,ae=0){super(yt(V),`Firebase Storage: ${oe} (${yt(V)})`),this.status_=ae,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Le.prototype)}get status(){return this.status_}set status(V){this.status_=V}_codeEquals(V){return yt(V)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(V){this.customData.serverResponse=V,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Qe=function(L){return L.UNKNOWN="unknown",L.OBJECT_NOT_FOUND="object-not-found",L.BUCKET_NOT_FOUND="bucket-not-found",L.PROJECT_NOT_FOUND="project-not-found",L.QUOTA_EXCEEDED="quota-exceeded",L.UNAUTHENTICATED="unauthenticated",L.UNAUTHORIZED="unauthorized",L.UNAUTHORIZED_APP="unauthorized-app",L.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",L.INVALID_CHECKSUM="invalid-checksum",L.CANCELED="canceled",L.INVALID_EVENT_NAME="invalid-event-name",L.INVALID_URL="invalid-url",L.INVALID_DEFAULT_BUCKET="invalid-default-bucket",L.NO_DEFAULT_BUCKET="no-default-bucket",L.CANNOT_SLICE_BLOB="cannot-slice-blob",L.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",L.NO_DOWNLOAD_URL="no-download-url",L.INVALID_ARGUMENT="invalid-argument",L.INVALID_ARGUMENT_COUNT="invalid-argument-count",L.APP_DELETED="app-deleted",L.INVALID_ROOT_OPERATION="invalid-root-operation",L.INVALID_FORMAT="invalid-format",L.INTERNAL_ERROR="internal-error",L.UNSUPPORTED_ENVIRONMENT="unsupported-environment",L}(Qe||{});function yt(L){return"storage/"+L}function At(){return new Le(Qe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function vt(L){return new Le(Qe.INVALID_ARGUMENT,L)}function Jt(){return new Le(Qe.APP_DELETED,"The Firebase app was deleted.")}function Re(L,V){return new Le(Qe.INVALID_FORMAT,"String does not match format '"+L+"': "+V)}function Fe(L){throw new Le(Qe.INTERNAL_ERROR,"Internal error: "+L)}class Ve{constructor(V,oe){this.bucket=V,this.path_=oe}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const V=encodeURIComponent;return"/b/"+V(this.bucket)+"/o/"+V(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(V,oe){let ae;try{ae=Ve.makeFromUrl(V,oe)}catch{return new Ve(V,"")}if(""===ae.path)return ae;throw function sn(L){return new Le(Qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+L+"'.")}(V)}static makeFromUrl(V,oe){let ae=null;const Pe="([A-Za-z0-9.\\-_]+)",Wt=new RegExp("^gs://"+Pe+"(/(.*))?$","i");function fn(ri){ri.path_=decodeURIComponent(ri.path)}const gr=oe.replace(/[.]/g,"\\."),Ir=[{regex:Wt,indices:{bucket:1,path:3},postModify:function Xe(ri){"/"===ri.path.charAt(ri.path.length-1)&&(ri.path_=ri.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${gr}/v[A-Za-z0-9_]+/b/${Pe}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:fn},{regex:new RegExp(`^https?://${oe===ee?"(?:storage.googleapis.com|storage.cloud.google.com)":oe}/${Pe}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:fn}];for(let ri=0;ri<Ir.length;ri++){const rr=Ir[ri],Bi=rr.regex.exec(V);if(Bi){let m=Bi[rr.indices.path];m||(m=""),ae=new Ve(Bi[rr.indices.bucket],m),rr.postModify(ae);break}}if(null==ae)throw function ct(L){return new Le(Qe.INVALID_URL,"Invalid URL '"+L+"'.")}(V);return ae}}class he{constructor(V){this.promise_=Promise.reject(V)}getPromise(){return this.promise_}cancel(V=!1){}}function $t(L){return"string"==typeof L||L instanceof String}function pt(L){return jt()&&L instanceof Blob}function jt(){return typeof Blob<"u"&&!(0,Me.UG)()}function Tn(L,V,oe,ae){if(ae<V)throw vt(`Invalid value for '${L}'. Expected ${V} or greater.`);if(ae>oe)throw vt(`Invalid value for '${L}'. Expected ${oe} or less.`)}function dn(L,V,oe){let ae=V;return null==oe&&(ae=`https://${V}`),`${oe}://${ae}/v0${L}`}function or(L){const V=encodeURIComponent;let oe="?";for(const ae in L)L.hasOwnProperty(ae)&&(oe=oe+(V(ae)+"=")+V(L[ae])+"&");return oe=oe.slice(0,-1),oe}var Un=function(L){return L[L.NO_ERROR=0]="NO_ERROR",L[L.NETWORK_ERROR=1]="NETWORK_ERROR",L[L.ABORT=2]="ABORT",L}(Un||{});class kr{constructor(V,oe,ae,Pe,Xe,mt,Wt,Vt,fn,kn,gr,Or=!0){this.url_=V,this.method_=oe,this.headers_=ae,this.body_=Pe,this.successCodes_=Xe,this.additionalRetryCodes_=mt,this.callback_=Wt,this.errorCallback_=Vt,this.timeout_=fn,this.progressCallback_=kn,this.connectionFactory_=gr,this.retry=Or,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((br,Di)=>{this.resolve_=br,this.reject_=Di,this.start_()})}start_(){const oe=(ae,Pe)=>{const Xe=this.resolve_,mt=this.reject_,Wt=Pe.connection;if(Pe.wasSuccessCode)try{const Vt=this.callback_(Wt,Wt.getResponse());!function Ce(L){return void 0!==L}(Vt)?Xe():Xe(Vt)}catch(Vt){mt(Vt)}else if(null!==Wt){const Vt=At();Vt.serverResponse=Wt.getErrorText(),mt(this.errorCallback_?this.errorCallback_(Wt,Vt):Vt)}else mt(Pe.canceled?this.appDelete_?Jt():function st(){return new Le(Qe.CANCELED,"User canceled the upload/download.")}():function Ye(){return new Le(Qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?oe(0,new Vr(!1,null,!0)):this.backoffId_=function je(L,V,oe){let ae=1,Pe=null,Xe=null,mt=!1,Wt=0;function Vt(){return 2===Wt}let fn=!1;function kn(...wr){fn||(fn=!0,V.apply(null,wr))}function gr(wr){Pe=setTimeout(()=>{Pe=null,L(br,Vt())},wr)}function Or(){Xe&&clearTimeout(Xe)}function br(wr,...ni){if(fn)return void Or();if(wr)return Or(),void kn.call(null,wr,...ni);if(Vt()||mt)return Or(),void kn.call(null,wr,...ni);let Ir;ae<64&&(ae*=2),1===Wt?(Wt=2,Ir=0):Ir=1e3*(ae+Math.random()),gr(Ir)}let Di=!1;function Ui(wr){Di||(Di=!0,Or(),!fn&&(null!==Pe?(wr||(Wt=2),clearTimeout(Pe),gr(0)):wr||(Wt=1)))}return gr(0),Xe=setTimeout(()=>{mt=!0,Ui(!0)},oe),Ui}((ae,Pe)=>{if(Pe)return void ae(!1,new Vr(!1,null,!0));const Xe=this.connectionFactory_();this.pendingConnection_=Xe;const mt=Wt=>{null!==this.progressCallback_&&this.progressCallback_(Wt.loaded,Wt.lengthComputable?Wt.total:-1)};null!==this.progressCallback_&&Xe.addUploadProgressListener(mt),Xe.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Xe.removeUploadProgressListener(mt),this.pendingConnection_=null;const Wt=Xe.getErrorCode()===Un.NO_ERROR,Vt=Xe.getStatus();if(!Wt||function mn(L,V){const oe=L>=500&&L<600,Pe=-1!==[408,429].indexOf(L),Xe=-1!==V.indexOf(L);return oe||Pe||Xe}(Vt,this.additionalRetryCodes_)&&this.retry){const kn=Xe.getErrorCode()===Un.ABORT;return void ae(!1,new Vr(!1,null,kn))}const fn=-1!==this.successCodes_.indexOf(Vt);ae(!0,new Vr(fn,Xe))})},oe,this.timeout_)}getPromise(){return this.promise_}cancel(V){this.canceled_=!0,this.appDelete_=V||!1,null!==this.backoffId_&&function de(L){L(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Vr{constructor(V,oe,ae){this.wasSuccessCode=V,this.connection=oe,this.canceled=!!ae}}function hn(...L){const V=function yn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==V){const oe=new V;for(let ae=0;ae<L.length;ae++)oe.append(L[ae]);return oe.getBlob()}if(jt())return new Blob(L);throw new Le(Qe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ar={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wn{constructor(V,oe){this.data=V,this.contentType=oe||null}}function ki(L){const V=[];for(let oe=0;oe<L.length;oe++){let ae=L.charCodeAt(oe);ae<=127?V.push(ae):ae<=2047?V.push(192|ae>>6,128|63&ae):55296==(64512&ae)?oe<L.length-1&&56320==(64512&L.charCodeAt(oe+1))?(ae=65536|(1023&ae)<<10|1023&L.charCodeAt(++oe),V.push(240|ae>>18,128|ae>>12&63,128|ae>>6&63,128|63&ae)):V.push(239,191,189):56320==(64512&ae)?V.push(239,191,189):V.push(224|ae>>12,128|ae>>6&63,128|63&ae)}return new Uint8Array(V)}function Pi(L,V){switch(L){case ar.BASE64:{const Pe=-1!==V.indexOf("-"),Xe=-1!==V.indexOf("_");if(Pe||Xe)throw Re(L,"Invalid character '"+(Pe?"-":"_")+"' found: is it base64url encoded?");break}case ar.BASE64URL:{const Pe=-1!==V.indexOf("+"),Xe=-1!==V.indexOf("/");if(Pe||Xe)throw Re(L,"Invalid character '"+(Pe?"+":"/")+"' found: is it base64 encoded?");V=V.replace(/-/g,"+").replace(/_/g,"/");break}}let oe;try{oe=function Ri(L){if(typeof atob>"u")throw function Sr(L){return new Le(Qe.UNSUPPORTED_ENVIRONMENT,`${L} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(L)}(V)}catch(Pe){throw Pe.message.includes("polyfill")?Pe:Re(L,"Invalid character found")}const ae=new Uint8Array(oe.length);for(let Pe=0;Pe<oe.length;Pe++)ae[Pe]=oe.charCodeAt(Pe);return ae}class pn{constructor(V){this.base64=!1,this.contentType=null;const oe=V.match(/^data:([^,]+)?,/);if(null===oe)throw Re(ar.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ae=oe[1]||null;null!=ae&&(this.base64=function Hi(L,V){return L.length>=V.length&&L.substring(L.length-V.length)===V}(ae,";base64"),this.contentType=this.base64?ae.substring(0,ae.length-7):ae),this.rest=V.substring(V.indexOf(",")+1)}}class qn{constructor(V,oe){let ae=0,Pe="";pt(V)?(this.data_=V,ae=V.size,Pe=V.type):V instanceof ArrayBuffer?(oe?this.data_=new Uint8Array(V):(this.data_=new Uint8Array(V.byteLength),this.data_.set(new Uint8Array(V))),ae=this.data_.length):V instanceof Uint8Array&&(oe?this.data_=V:(this.data_=new Uint8Array(V.length),this.data_.set(V)),ae=V.length),this.size_=ae,this.type_=Pe}size(){return this.size_}type(){return this.type_}slice(V,oe){if(pt(this.data_)){const Pe=function Xn(L,V,oe){return L.webkitSlice?L.webkitSlice(V,oe):L.mozSlice?L.mozSlice(V,oe):L.slice?L.slice(V,oe):null}(this.data_,V,oe);return null===Pe?null:new qn(Pe)}{const ae=new Uint8Array(this.data_.buffer,V,oe-V);return new qn(ae,!0)}}static getBlob(...V){if(jt()){const oe=V.map(ae=>ae instanceof qn?ae.data_:ae);return new qn(hn.apply(null,oe))}{const oe=V.map(mt=>$t(mt)?function tn(L,V){switch(L){case ar.RAW:return new wn(ki(V));case ar.BASE64:case ar.BASE64URL:return new wn(Pi(L,V));case ar.DATA_URL:return new wn(function _i(L){const V=new pn(L);return V.base64?Pi(ar.BASE64,V.rest):function qt(L){let V;try{V=decodeURIComponent(L)}catch{throw Re(ar.DATA_URL,"Malformed data URL.")}return ki(V)}(V.rest)}(V),function Wr(L){return new pn(L).contentType}(V))}throw At()}(ar.RAW,mt).data:mt.data_);let ae=0;oe.forEach(mt=>{ae+=mt.byteLength});const Pe=new Uint8Array(ae);let Xe=0;return oe.forEach(mt=>{for(let Wt=0;Wt<mt.length;Wt++)Pe[Xe++]=mt[Wt]}),new qn(Pe,!0)}}uploadData(){return this.data_}}function ci(L){let V;try{V=JSON.parse(L)}catch{return null}return function gt(L){return"object"==typeof L&&!Array.isArray(L)}(V)?V:null}function Xr(L){const V=L.lastIndexOf("/",L.length-2);return-1===V?L:L.slice(V+1)}function nr(L,V){return V}class un{constructor(V,oe,ae,Pe){this.server=V,this.local=oe||V,this.writable=!!ae,this.xform=Pe||nr}}let li=null;function fe(){if(li)return li;const L=[];L.push(new un("bucket")),L.push(new un("generation")),L.push(new un("metageneration")),L.push(new un("name","fullPath",!0));const oe=new un("name");oe.xform=function V(Xe,mt){return function Li(L){return!$t(L)||L.length<2?L:Xr(L)}(mt)},L.push(oe);const Pe=new un("size");return Pe.xform=function ae(Xe,mt){return void 0!==mt?Number(mt):mt},L.push(Pe),L.push(new un("timeCreated")),L.push(new un("updated")),L.push(new un("md5Hash",null,!0)),L.push(new un("cacheControl",null,!0)),L.push(new un("contentDisposition",null,!0)),L.push(new un("contentEncoding",null,!0)),L.push(new un("contentLanguage",null,!0)),L.push(new un("contentType",null,!0)),L.push(new un("metadata","customMetadata",!0)),li=L,li}function G(L,V,oe){const ae=ci(V);return null===ae?null:function Q(L,V,oe){const ae={type:"file"},Pe=oe.length;for(let Xe=0;Xe<Pe;Xe++){const mt=oe[Xe];ae[mt.local]=mt.xform(ae,V[mt.server])}return function W(L,V){Object.defineProperty(L,"ref",{get:function oe(){const Xe=new Ve(L.bucket,L.fullPath);return V._makeStorageReference(Xe)}})}(ae,L),ae}(L,ae,oe)}const et="prefixes",ht="items";class Pt{constructor(V,oe,ae,Pe){this.url=V,this.method=oe,this.handler=ae,this.timeout=Pe,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Qt(L){if(!L)throw At()}function Nr(L){return function V(oe,ae){let Pe;return Pe=401===oe.getStatus()?oe.getErrorText().includes("Firebase App Check token is invalid")?function We(){return new Le(Qe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function le(){return new Le(Qe.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===oe.getStatus()?function Mt(L){return new Le(Qe.QUOTA_EXCEEDED,"Quota for bucket '"+L+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(L.bucket):403===oe.getStatus()?function ye(L){return new Le(Qe.UNAUTHORIZED,"User does not have permission to access '"+L+"'.")}(L.path):ae,Pe.status=oe.getStatus(),Pe.serverResponse=ae.serverResponse,Pe}}function it(L,V,oe,ae,Pe){const Xe={};Xe.prefix=V.isRoot?"":V.path+"/",oe&&oe.length>0&&(Xe.delimiter=oe),ae&&(Xe.pageToken=ae),Pe&&(Xe.maxResults=Pe);const Wt=dn(V.bucketOnlyServerUrl(),L.host,L._protocol),fn=L.maxOperationRetryTime,kn=new Pt(Wt,"GET",function qr(L,V){return function oe(ae,Pe){const Xe=function rn(L,V,oe){const ae=ci(oe);return null===ae?null:function Lt(L,V,oe){const ae={prefixes:[],items:[],nextPageToken:oe.nextPageToken};if(oe[et])for(const Pe of oe[et]){const Xe=Pe.replace(/\/$/,""),mt=L._makeStorageReference(new Ve(V,Xe));ae.prefixes.push(mt)}if(oe[ht])for(const Pe of oe[ht]){const Xe=L._makeStorageReference(new Ve(V,Pe.name));ae.items.push(Xe)}return ae}(L,V,ae)}(L,V,Pe);return Qt(null!==Xe),Xe}}(L,V.bucket),fn);return kn.urlParams=Xe,kn.errorHandler=Nr(V),kn}function Rs(L,V,oe,ae,Pe){const Xe=V.bucketOnlyServerUrl(),mt={"X-Goog-Upload-Protocol":"multipart"},Vt=function Wt(){let Ir="";for(let ri=0;ri<2;ri++)Ir+=Math.random().toString().slice(2);return Ir}();mt["Content-Type"]="multipart/related; boundary="+Vt;const fn=function Jn(L,V,oe){const ae=Object.assign({},oe);return ae.fullPath=L.path,ae.size=V.size(),ae.contentType||(ae.contentType=function hr(L,V){return L&&L.contentType||V&&V.type()||"application/octet-stream"}(null,V)),ae}(V,ae,Pe),kn=function be(L,V){const oe={},ae=V.length;for(let Pe=0;Pe<ae;Pe++){const Xe=V[Pe];Xe.writable&&(oe[Xe.server]=L[Xe.local])}return JSON.stringify(oe)}(fn,oe),br=qn.getBlob("--"+Vt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+kn+"\r\n--"+Vt+"\r\nContent-Type: "+fn.contentType+"\r\n\r\n",ae,"\r\n--"+Vt+"--");if(null===br)throw function zn(){return new Le(Qe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const Di={name:fn.fullPath},Ui=dn(Xe,L.host,L._protocol),ni=L.maxUploadRetryTime,$r=new Pt(Ui,"POST",function Zn(L,V){return function oe(ae,Pe){const Xe=G(L,Pe,V);return Qt(null!==Xe),Xe}}(L,oe),ni);return $r.urlParams=Di,$r.headers=mt,$r.body=br.uploadData(),$r.errorHandler=Nr(V),$r}let $s=null;class as{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Un.NO_ERROR,this.sendPromise_=new Promise(V=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Un.ABORT,V()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Un.NETWORK_ERROR,V()}),this.xhr_.addEventListener("load",()=>{V()})})}send(V,oe,ae,Pe){if(this.sent_)throw Fe("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(oe,V,!0),void 0!==Pe)for(const Xe in Pe)Pe.hasOwnProperty(Xe)&&this.xhr_.setRequestHeader(Xe,Pe[Xe].toString());return void 0!==ae?this.xhr_.send(ae):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fe("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fe("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fe("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fe("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(V){return this.xhr_.getResponseHeader(V)}addUploadProgressListener(V){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",V)}removeUploadProgressListener(V){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",V)}}class Ts extends as{initXhr(){this.xhr_.responseType="text"}}function On(){return $s?$s():new Ts}class zi{constructor(V,oe){this._service=V,this._location=oe instanceof Ve?oe:Ve.makeFromUrl(oe,V.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(V,oe){return new zi(V,oe)}get root(){const V=new Ve(this._location.bucket,"");return this._newRef(this._service,V)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xr(this._location.path)}get storage(){return this._service}get parent(){const V=function Jr(L){if(0===L.length)return null;const V=L.lastIndexOf("/");return-1===V?"":L.slice(0,V)}(this._location.path);if(null===V)return null;const oe=new Ve(this._location.bucket,V);return new zi(this._service,oe)}_throwIfRoot(V){if(""===this._location.path)throw function Rt(L){return new Le(Qe.INVALID_ROOT_OPERATION,"The operation '"+L+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(V)}}function eo(L,V,oe){return zs.apply(this,arguments)}function zs(){return(zs=(0,X.Z)(function*(L,V,oe){const Pe=yield function to(L,V){null!=V&&"number"==typeof V.maxResults&&Tn("options.maxResults",1,1e3,V.maxResults);const oe=V||{},ae=it(L.storage,L._location,"/",oe.pageToken,oe.maxResults);return L.storage.makeRequestWithTokens(ae,On)}(L,{pageToken:oe});V.prefixes.push(...Pe.prefixes),V.items.push(...Pe.items),null!=Pe.nextPageToken&&(yield eo(L,V,Pe.nextPageToken))})).apply(this,arguments)}function es(L){L._throwIfRoot("getDownloadURL");const V=function nn(L,V,oe){const Pe=dn(V.fullServerUrl(),L.host,L._protocol),mt=L.maxOperationRetryTime,Wt=new Pt(Pe,"GET",function Kr(L,V){return function oe(ae,Pe){const Xe=G(L,Pe,V);return Qt(null!==Xe),function q(L,V,oe,ae){const Pe=ci(V);if(null===Pe||!$t(Pe.downloadTokens))return null;const Xe=Pe.downloadTokens;if(0===Xe.length)return null;const mt=encodeURIComponent;return Xe.split(",").map(fn=>{const gr=L.fullPath;return dn("/b/"+mt(L.bucket)+"/o/"+mt(gr),oe,ae)+or({alt:"media",token:fn})})[0]}(Xe,Pe,L.host,L._protocol)}}(L,oe),mt);return Wt.errorHandler=function qe(L){const V=Nr(L);return function oe(ae,Pe){let Xe=V(ae,Pe);return 404===ae.getStatus()&&(Xe=function ln(L){return new Le(Qe.OBJECT_NOT_FOUND,"Object '"+L+"' does not exist.")}(L.path)),Xe.serverResponse=Pe.serverResponse,Xe}}(V),Wt}(L.storage,L._location,fe());return L.storage.makeRequestWithTokens(V,On).then(oe=>{if(null===oe)throw function Nn(){return new Le(Qe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return oe})}function Fi(L,V){if(L instanceof di){const oe=L;if(null==oe._bucket)throw function Zt(){return new Le(Qe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ce+"' property when initializing the app?")}();const ae=new zi(oe,oe._bucket);return null!=V?Fi(ae,V):ae}return void 0!==V?function gn(L,V){const oe=function yi(L,V){const oe=V.split("/").filter(ae=>ae.length>0).join("/");return 0===L.length?oe:L+"/"+oe}(L._location.path,V),ae=new Ve(L._location.bucket,oe);return new zi(L.storage,ae)}(L,V):L}function Ro(L,V){const oe=V?.[ce];return null==oe?null:Ve.makeFromBucketSpec(oe,L)}class di{constructor(V,oe,ae,Pe,Xe){this.app=V,this._authProvider=oe,this._appCheckProvider=ae,this._url=Pe,this._firebaseVersion=Xe,this._bucket=null,this._host=ee,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Pe?Ve.makeFromBucketSpec(Pe,this._host):Ro(this._host,this.app.options)}get host(){return this._host}set host(V){this._host=V,this._bucket=null!=this._url?Ve.makeFromBucketSpec(this._url,V):Ro(V,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(V){Tn("time",0,Number.POSITIVE_INFINITY,V),this._maxUploadRetryTime=V}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(V){Tn("time",0,Number.POSITIVE_INFINITY,V),this._maxOperationRetryTime=V}_getAuthToken(){var V=this;return(0,X.Z)(function*(){if(V._overrideAuthToken)return V._overrideAuthToken;const oe=V._authProvider.getImmediate({optional:!0});if(oe){const ae=yield oe.getToken();if(null!==ae)return ae.accessToken}return null})()}_getAppCheckToken(){var V=this;return(0,X.Z)(function*(){const oe=V._appCheckProvider.getImmediate({optional:!0});return oe?(yield oe.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(V=>V.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(V){return new zi(this,V)}_makeRequest(V,oe,ae,Pe,Xe=!0){if(this._deleted)return new he(Jt());{const mt=function en(L,V,oe,ae,Pe,Xe,mt=!0){const Wt=or(L.urlParams),Vt=L.url+Wt,fn=Object.assign({},L.headers);return function Mr(L,V){V&&(L["X-Firebase-GMPID"]=V)}(fn,V),function yr(L,V){null!==V&&V.length>0&&(L.Authorization="Firebase "+V)}(fn,oe),function Ji(L,V){L["X-Firebase-Storage-Version"]="webjs/"+(V??"AppManager")}(fn,Xe),function Ur(L,V){null!==V&&(L["X-Firebase-AppCheck"]=V)}(fn,ae),new kr(Vt,L.method,fn,L.body,L.successCodes,L.additionalRetryCodes,L.handler,L.errorHandler,L.timeout,L.progressCallback,Pe,mt)}(V,this._appId,ae,Pe,oe,this._firebaseVersion,Xe);return this._requests.add(mt),mt.getPromise().then(()=>this._requests.delete(mt),()=>this._requests.delete(mt)),mt}}makeRequestWithTokens(V,oe){var ae=this;return(0,X.Z)(function*(){const[Pe,Xe]=yield Promise.all([ae._getAuthToken(),ae._getAppCheckToken()]);return ae._makeRequest(V,oe,Pe,Xe).getPromise()})()}}const Gi="@firebase/storage",Kn="storage";function Nt(L,V,oe){return function Ei(L,V,oe){L._throwIfRoot("uploadBytes");const ae=Rs(L.storage,L._location,fe(),new qn(V,!0),oe);return L.storage.makeRequestWithTokens(ae,On).then(Pe=>({metadata:Pe,ref:L}))}(L=(0,Me.m9)(L),V,oe)}function ur(L){return function bo(L){const V={prefixes:[],items:[]};return eo(L,V).then(()=>V)}(L=(0,Me.m9)(L))}function Os(L){return es(L=(0,Me.m9)(L))}function on(L,V){return function ei(L,V){if(V&&function Lr(L){return/^[A-Za-z]+:\/\//.test(L)}(V)){if(L instanceof di)return function fr(L,V){return new zi(L,V)}(L,V);throw vt("To use ref(service, url), the first argument must be a Storage instance.")}return Fi(L,V)}(L=(0,Me.m9)(L),V)}function Wi(L=(0,Ee.Mq)(),V){L=(0,Me.m9)(L);const ae=(0,Ee.qX)(L,Kn).getImmediate({identifier:V}),Pe=(0,Me.P0)("storage");return Pe&&function pr(L,V,oe,ae={}){!function Po(L,V,oe,ae={}){L.host=`${V}:${oe}`,L._protocol="http";const{mockUserToken:Pe}=ae;Pe&&(L._overrideAuthToken="string"==typeof Pe?Pe:(0,Me.Sg)(Pe,L.app.options.projectId))}(L,V,oe,ae)}(ae,...Pe),ae}function hi(L,{instanceIdentifier:V}){const oe=L.getProvider("app").getImmediate(),ae=L.getProvider("auth-internal"),Pe=L.getProvider("app-check-internal");return new di(oe,ae,Pe,V,Ee.Jn)}!function ls(){(0,Ee.Xd)(new me.wA(Kn,hi,"PUBLIC").setMultipleInstances(!0)),(0,Ee.KN)(Gi,"0.11.2",""),(0,Ee.KN)(Gi,"0.11.2","esm2017")}();class ds{constructor(V){return V}}const Eo="storage",Vi=new re.OlP("angularfire2.storage-instances");function Cn(L){return(V,oe)=>{const ae=V.runOutsideAngular(()=>L(oe));return new ds(ae)}}const $o={provide:class ks{constructor(){return(0,y.vb)(Eo)}},deps:[[new re.FiY,Vi]]},Ls={provide:ds,useFactory:function Io(L,V){const oe=(0,y.JM)(Eo,L,V);return oe&&new ds(oe)},deps:[[new re.FiY,Vi],ve.Ot]};let Ii=(()=>{class L{constructor(){(0,Z.KN)("angularfire",y.q4.full,"gcs")}static \u0275fac=function(ae){return new(ae||L)};static \u0275mod=re.oAB({type:L});static \u0275inj=re.cJS({providers:[Ls,$o]})}return L})();function fi(L,...V){return{ngModule:Ii,providers:[{provide:Vi,useFactory:Cn(L),multi:!0,deps:[re.R0b,re.zs3,y.HU,ve.z6,[new re.FiY,se.dh],[new re.FiY,y.Rf],...V]}]}}const wi=(0,y.u3)(Os,!0),hs=(0,y.u3)(Wi,!0),qs=(0,y.u3)(ur,!0),No=(0,y.u3)(on,!0),Oo=(0,y.u3)(Nt,!0)},1920:(bt,Be,U)=>{U.d(Be,{q4:()=>Ze,HU:()=>ye,Rf:()=>At,vb:()=>yt,JM:()=>Qe,u3:()=>Sr});var y=U(5879),re=U(3182),ve=U(1954),Z=U(2631);const Ee=new class X extends Z.v{}(class se extends ve.o{constructor(Jt,Rt){super(Jt,Rt),this.scheduler=Jt,this.work=Rt}schedule(Jt,Rt=0){return Rt>0?super.schedule(Jt,Rt):(this.delay=Rt,this.state=Jt,this.scheduler.flush(this),this)}execute(Jt,Rt){return Rt>0||this.closed?super.execute(Jt,Rt):this._execute(Jt,Rt)}requestAsyncId(Jt,Rt,Re=0){return null!=Re&&Re>0||null==Re&&this.delay>0?super.requestAsyncId(Jt,Rt,Re):(Jt.flush(this),0)}});var me=U(6321),ee=U(5592),ce=U(9397),De=U(5137),Ae=U(3093);const Ze=new y.GfV("ANGULARFIRE2_VERSION");function Qe(vt,Jt,Rt){if(Jt){if(1===Jt.length)return Jt[0];const Ve=Jt.filter(he=>he.app===Rt);if(1===Ve.length)return Ve[0]}return Rt.container.getProvider(vt).getImmediate({optional:!0})}const yt=(vt,Jt)=>{const Rt=Jt?[Jt]:(0,re.C6)(),Re=[];return Rt.forEach(Fe=>{Fe.container.getProvider(vt).instances.forEach(he=>{Re.includes(he)||Re.push(he)})}),Re};class At{constructor(){return yt(ln)}}const ln="app-check";function Mt(){}class le{zone;delegate;constructor(Jt,Rt=Ee){this.zone=Jt,this.delegate=Rt}now(){return this.delegate.now()}schedule(Jt,Rt,Re){const Fe=this.zone;return this.delegate.schedule(function(he){Fe.runGuarded(()=>{Jt.apply(this,[he])})},Rt,Re)}}class We{zone;task=null;constructor(Jt){this.zone=Jt}call(Jt,Rt){const Re=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mt,{},Mt,Mt)),Rt.pipe((0,ce.b)({next:Re,complete:Re,error:Re})).subscribe(Jt).add(Re)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ye=(()=>{class vt{ngZone;outsideAngular;insideAngular;constructor(Rt){this.ngZone=Rt,this.outsideAngular=Rt.runOutsideAngular(()=>new le(Zone.current)),this.insideAngular=Rt.run(()=>new le(Zone.current,me.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Re){return new(Re||vt)(y.LFG(y.R0b))};static \u0275prov=y.Yz7({token:vt,factory:vt.\u0275fac,providedIn:"root"})}return vt})();function Ye(){const vt=globalThis.\u0275AngularFireScheduler;if(!vt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return vt}function ct(vt){return Ye().ngZone.run(()=>vt())}function zn(vt){return function lt(vt){return function(Rt){return(Rt=Rt.lift(new We(vt.ngZone))).pipe((0,De.R)(vt.outsideAngular),(0,Ae.Q)(vt.insideAngular))}}(Ye())(vt)}const Nn=(vt,Jt)=>function(){const Re=arguments;return Jt&&setTimeout(()=>{"scheduled"===Jt.state&&Jt.invoke()},10),ct(()=>vt.apply(void 0,Re))},Sr=(vt,Jt)=>function(){let Rt;const Re=arguments;for(let Ve=0;Ve<arguments.length;Ve++)"function"==typeof Re[Ve]&&(Jt&&(Rt||=ct(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mt,{},Mt,Mt))),Re[Ve]=Nn(Re[Ve],Rt));const Fe=function st(vt){return Ye().ngZone.runOutsideAngular(()=>vt())}(()=>vt.apply(this,Re));if(!Jt){if(Fe instanceof ee.y){const Ve=Ye();return Fe.pipe((0,De.R)(Ve.outsideAngular),(0,Ae.Q)(Ve.insideAngular))}return ct(()=>Fe)}return Fe instanceof ee.y?Fe.pipe(zn):Fe instanceof Promise?ct(()=>new Promise((Ve,he)=>Fe.then(je=>ct(()=>Ve(je)),je=>ct(()=>he(je))))):"function"==typeof Fe&&Rt?function(){return setTimeout(()=>{Rt&&"scheduled"===Rt.state&&Rt.invoke()},10),Fe.apply(this,arguments)}:ct(()=>Fe)}},6593:(bt,Be,U)=>{U.d(Be,{Dx:()=>Ji,H7:()=>Hi,b2:()=>Un,q6:()=>jt,se:()=>ct});var y=U(5879),re=U(6814);class ve extends re.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class se extends ve{static makeCurrent(){(0,re.HT)(new se)}onAndCancel(Q,G,q){return Q.addEventListener(G,q),()=>{Q.removeEventListener(G,q)}}dispatchEvent(Q,G){Q.dispatchEvent(G)}remove(Q){Q.parentNode&&Q.parentNode.removeChild(Q)}createElement(Q,G){return(G=G||this.getDefaultDocument()).createElement(Q)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Q){return Q.nodeType===Node.ELEMENT_NODE}isShadowRoot(Q){return Q instanceof DocumentFragment}getGlobalEventTarget(Q,G){return"window"===G?window:"document"===G?Q:"body"===G?Q.body:null}getBaseHref(Q){const G=function X(){return Z=Z||document.querySelector("base"),Z?Z.getAttribute("href"):null}();return null==G?null:function Me(W){Ee=Ee||document.createElement("a"),Ee.setAttribute("href",W);const Q=Ee.pathname;return"/"===Q.charAt(0)?Q:`/${Q}`}(G)}resetBaseElement(){Z=null}getUserAgent(){return window.navigator.userAgent}getCookie(Q){return(0,re.Mx)(document.cookie,Q)}}let Ee,Z=null,ee=(()=>{class W{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(q){return new(q||W)};static#t=this.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac})}return W})();const ce=new y.OlP("EventManagerPlugins");let De=(()=>{class W{constructor(G,q){this._zone=q,this._eventNameToPlugin=new Map,G.forEach(be=>{be.manager=this}),this._plugins=G.slice().reverse()}addEventListener(G,q,be){return this._findPluginFor(q).addEventListener(G,q,be)}getZone(){return this._zone}_findPluginFor(G){let q=this._eventNameToPlugin.get(G);if(q)return q;if(q=this._plugins.find(et=>et.supports(G)),!q)throw new y.vHH(5101,!1);return this._eventNameToPlugin.set(G,q),q}static#e=this.\u0275fac=function(q){return new(q||W)(y.LFG(ce),y.LFG(y.R0b))};static#t=this.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac})}return W})();class Ae{constructor(Q){this._doc=Q}}const Ze="ng-app-id";let Le=(()=>{class W{constructor(G,q,be,et={}){this.doc=G,this.appId=q,this.nonce=be,this.platformId=et,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,re.PM)(et),this.resetHostNodes()}addStyles(G){for(const q of G)1===this.changeUsageCount(q,1)&&this.onStyleAdded(q)}removeStyles(G){for(const q of G)this.changeUsageCount(q,-1)<=0&&this.onStyleRemoved(q)}ngOnDestroy(){const G=this.styleNodesInDOM;G&&(G.forEach(q=>q.remove()),G.clear());for(const q of this.getAllStyles())this.onStyleRemoved(q);this.resetHostNodes()}addHost(G){this.hostNodes.add(G);for(const q of this.getAllStyles())this.addStyleToHost(G,q)}removeHost(G){this.hostNodes.delete(G)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(G){for(const q of this.hostNodes)this.addStyleToHost(q,G)}onStyleRemoved(G){const q=this.styleRef;q.get(G)?.elements?.forEach(be=>be.remove()),q.delete(G)}collectServerRenderedStyles(){const G=this.doc.head?.querySelectorAll(`style[${Ze}="${this.appId}"]`);if(G?.length){const q=new Map;return G.forEach(be=>{null!=be.textContent&&q.set(be.textContent,be)}),q}return null}changeUsageCount(G,q){const be=this.styleRef;if(be.has(G)){const et=be.get(G);return et.usage+=q,et.usage}return be.set(G,{usage:q,elements:[]}),q}getStyleElement(G,q){const be=this.styleNodesInDOM,et=be?.get(q);if(et?.parentNode===G)return be.delete(q),et.removeAttribute(Ze),et;{const ht=this.doc.createElement("style");return this.nonce&&ht.setAttribute("nonce",this.nonce),ht.textContent=q,this.platformIsServer&&ht.setAttribute(Ze,this.appId),ht}}addStyleToHost(G,q){const be=this.getStyleElement(G,q);G.appendChild(be);const et=this.styleRef,ht=et.get(q)?.elements;ht?ht.push(be):et.set(q,{elements:[be],usage:1})}resetHostNodes(){const G=this.hostNodes;G.clear(),G.add(this.doc.head)}static#e=this.\u0275fac=function(q){return new(q||W)(y.LFG(re.K0),y.LFG(y.AFp),y.LFG(y.Ojb,8),y.LFG(y.Lbi))};static#t=this.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac})}return W})();const Qe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yt=/%COMP%/g,We=new y.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function st(W,Q){return Q.map(G=>G.replace(yt,W))}let ct=(()=>{class W{constructor(G,q,be,et,ht,Lt,rn,Pt=null){this.eventManager=G,this.sharedStylesHost=q,this.appId=be,this.removeStylesOnCompDestroy=et,this.doc=ht,this.platformId=Lt,this.ngZone=rn,this.nonce=Pt,this.rendererByCompId=new Map,this.platformIsServer=(0,re.PM)(Lt),this.defaultRenderer=new sn(G,ht,rn,this.platformIsServer)}createRenderer(G,q){if(!G||!q)return this.defaultRenderer;this.platformIsServer&&q.encapsulation===y.ifc.ShadowDom&&(q={...q,encapsulation:y.ifc.Emulated});const be=this.getOrCreateRenderer(G,q);return be instanceof vt?be.applyToHost(G):be instanceof Sr&&be.applyStyles(),be}getOrCreateRenderer(G,q){const be=this.rendererByCompId;let et=be.get(q.id);if(!et){const ht=this.doc,Lt=this.ngZone,rn=this.eventManager,Pt=this.sharedStylesHost,Qt=this.removeStylesOnCompDestroy,Zn=this.platformIsServer;switch(q.encapsulation){case y.ifc.Emulated:et=new vt(rn,Pt,q,this.appId,Qt,ht,Lt,Zn);break;case y.ifc.ShadowDom:return new Nn(rn,Pt,G,q,ht,Lt,this.nonce,Zn);default:et=new Sr(rn,Pt,q,Qt,ht,Lt,Zn)}be.set(q.id,et)}return et}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(q){return new(q||W)(y.LFG(De),y.LFG(Le),y.LFG(y.AFp),y.LFG(We),y.LFG(re.K0),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(y.Ojb))};static#t=this.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac})}return W})();class sn{constructor(Q,G,q,be){this.eventManager=Q,this.doc=G,this.ngZone=q,this.platformIsServer=be,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Q,G){return G?this.doc.createElementNS(Qe[G]||G,Q):this.doc.createElement(Q)}createComment(Q){return this.doc.createComment(Q)}createText(Q){return this.doc.createTextNode(Q)}appendChild(Q,G){(lt(Q)?Q.content:Q).appendChild(G)}insertBefore(Q,G,q){Q&&(lt(Q)?Q.content:Q).insertBefore(G,q)}removeChild(Q,G){Q&&Q.removeChild(G)}selectRootElement(Q,G){let q="string"==typeof Q?this.doc.querySelector(Q):Q;if(!q)throw new y.vHH(-5104,!1);return G||(q.textContent=""),q}parentNode(Q){return Q.parentNode}nextSibling(Q){return Q.nextSibling}setAttribute(Q,G,q,be){if(be){G=be+":"+G;const et=Qe[be];et?Q.setAttributeNS(et,G,q):Q.setAttribute(G,q)}else Q.setAttribute(G,q)}removeAttribute(Q,G,q){if(q){const be=Qe[q];be?Q.removeAttributeNS(be,G):Q.removeAttribute(`${q}:${G}`)}else Q.removeAttribute(G)}addClass(Q,G){Q.classList.add(G)}removeClass(Q,G){Q.classList.remove(G)}setStyle(Q,G,q,be){be&(y.JOm.DashCase|y.JOm.Important)?Q.style.setProperty(G,q,be&y.JOm.Important?"important":""):Q.style[G]=q}removeStyle(Q,G,q){q&y.JOm.DashCase?Q.style.removeProperty(G):Q.style[G]=""}setProperty(Q,G,q){Q[G]=q}setValue(Q,G){Q.nodeValue=G}listen(Q,G,q){if("string"==typeof Q&&!(Q=(0,re.q)().getGlobalEventTarget(this.doc,Q)))throw new Error(`Unsupported event target ${Q} for event ${G}`);return this.eventManager.addEventListener(Q,G,this.decoratePreventDefault(q))}decoratePreventDefault(Q){return G=>{if("__ngUnwrap__"===G)return Q;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Q(G)):Q(G))&&G.preventDefault()}}}function lt(W){return"TEMPLATE"===W.tagName&&void 0!==W.content}class Nn extends sn{constructor(Q,G,q,be,et,ht,Lt,rn){super(Q,et,ht,rn),this.sharedStylesHost=G,this.hostEl=q,this.shadowRoot=q.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Pt=st(be.id,be.styles);for(const Qt of Pt){const Zn=document.createElement("style");Lt&&Zn.setAttribute("nonce",Lt),Zn.textContent=Qt,this.shadowRoot.appendChild(Zn)}}nodeOrShadowRoot(Q){return Q===this.hostEl?this.shadowRoot:Q}appendChild(Q,G){return super.appendChild(this.nodeOrShadowRoot(Q),G)}insertBefore(Q,G,q){return super.insertBefore(this.nodeOrShadowRoot(Q),G,q)}removeChild(Q,G){return super.removeChild(this.nodeOrShadowRoot(Q),G)}parentNode(Q){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Q)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Sr extends sn{constructor(Q,G,q,be,et,ht,Lt,rn){super(Q,et,ht,Lt),this.sharedStylesHost=G,this.removeStylesOnCompDestroy=be,this.styles=rn?st(rn,q.styles):q.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class vt extends Sr{constructor(Q,G,q,be,et,ht,Lt,rn){const Pt=be+"-"+q.id;super(Q,G,q,et,ht,Lt,rn,Pt),this.contentAttr=function ye(W){return"_ngcontent-%COMP%".replace(yt,W)}(Pt),this.hostAttr=function Ye(W){return"_nghost-%COMP%".replace(yt,W)}(Pt)}applyToHost(Q){this.applyStyles(),this.setAttribute(Q,this.hostAttr,"")}createElement(Q,G){const q=super.createElement(Q,G);return super.setAttribute(q,this.contentAttr,""),q}}let Jt=(()=>{class W extends Ae{constructor(G){super(G)}supports(G){return!0}addEventListener(G,q,be){return G.addEventListener(q,be,!1),()=>this.removeEventListener(G,q,be)}removeEventListener(G,q,be){return G.removeEventListener(q,be)}static#e=this.\u0275fac=function(q){return new(q||W)(y.LFG(re.K0))};static#t=this.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac})}return W})();const Rt=["alt","control","meta","shift"],Re={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fe={alt:W=>W.altKey,control:W=>W.ctrlKey,meta:W=>W.metaKey,shift:W=>W.shiftKey};let Ve=(()=>{class W extends Ae{constructor(G){super(G)}supports(G){return null!=W.parseEventName(G)}addEventListener(G,q,be){const et=W.parseEventName(q),ht=W.eventCallback(et.fullKey,be,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,re.q)().onAndCancel(G,et.domEventName,ht))}static parseEventName(G){const q=G.toLowerCase().split("."),be=q.shift();if(0===q.length||"keydown"!==be&&"keyup"!==be)return null;const et=W._normalizeKey(q.pop());let ht="",Lt=q.indexOf("code");if(Lt>-1&&(q.splice(Lt,1),ht="code."),Rt.forEach(Pt=>{const Qt=q.indexOf(Pt);Qt>-1&&(q.splice(Qt,1),ht+=Pt+".")}),ht+=et,0!=q.length||0===et.length)return null;const rn={};return rn.domEventName=be,rn.fullKey=ht,rn}static matchEventFullKeyCode(G,q){let be=Re[G.key]||G.key,et="";return q.indexOf("code.")>-1&&(be=G.code,et="code."),!(null==be||!be)&&(be=be.toLowerCase()," "===be?be="space":"."===be&&(be="dot"),Rt.forEach(ht=>{ht!==be&&(0,Fe[ht])(G)&&(et+=ht+".")}),et+=be,et===q)}static eventCallback(G,q,be){return et=>{W.matchEventFullKeyCode(et,G)&&be.runGuarded(()=>q(et))}}static _normalizeKey(G){return"esc"===G?"escape":G}static#e=this.\u0275fac=function(q){return new(q||W)(y.LFG(re.K0))};static#t=this.\u0275prov=y.Yz7({token:W,factory:W.\u0275fac})}return W})();const jt=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:re.bD},{provide:y.g9A,useValue:function Se(){se.makeCurrent()},multi:!0},{provide:re.K0,useFactory:function $t(){return(0,y.RDi)(document),document},deps:[]}]),Tn=new y.OlP(""),dn=[{provide:y.rWj,useClass:class me{addToWindow(Q){y.dqk.getAngularTestability=(q,be=!0)=>{const et=Q.findTestabilityInTree(q,be);if(null==et)throw new y.vHH(5103,!1);return et},y.dqk.getAllAngularTestabilities=()=>Q.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>Q.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(q=>{const be=y.dqk.getAllAngularTestabilities();let et=be.length,ht=!1;const Lt=function(rn){ht=ht||rn,et--,0==et&&q(ht)};be.forEach(rn=>{rn.whenStable(Lt)})})}findTestabilityInTree(Q,G,q){return null==G?null:Q.getTestability(G)??(q?(0,re.q)().isShadowRoot(G)?this.findTestabilityInTree(Q,G.host,!0):this.findTestabilityInTree(Q,G.parentElement,!0):null)}},deps:[]},{provide:y.lri,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]}],or=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function gt(){return new y.qLn},deps:[]},{provide:ce,useClass:Jt,multi:!0,deps:[re.K0,y.R0b,y.Lbi]},{provide:ce,useClass:Ve,multi:!0,deps:[re.K0]},ct,Le,De,{provide:y.FYo,useExisting:ct},{provide:re.JF,useClass:ee,deps:[]},[]];let Un=(()=>{class W{constructor(G){}static withServerTransition(G){return{ngModule:W,providers:[{provide:y.AFp,useValue:G.appId}]}}static#e=this.\u0275fac=function(q){return new(q||W)(y.LFG(Tn,12))};static#t=this.\u0275mod=y.oAB({type:W});static#n=this.\u0275inj=y.cJS({providers:[...or,...dn],imports:[re.ez,y.hGG]})}return W})(),Ji=(()=>{class W{constructor(G){this._doc=G}getTitle(){return this._doc.title}setTitle(G){this._doc.title=G||""}static#e=this.\u0275fac=function(q){return new(q||W)(y.LFG(re.K0))};static#t=this.\u0275prov=y.Yz7({token:W,factory:function(q){let be=null;return be=q?new q:function yr(){return new Ji((0,y.LFG)(re.K0))}(),be},providedIn:"root"})}return W})();typeof window<"u"&&window;let Hi=(()=>{class W{static#e=this.\u0275fac=function(q){return new(q||W)};static#t=this.\u0275prov=y.Yz7({token:W,factory:function(q){let be=null;return be=q?new(q||W):y.LFG(ci),be},providedIn:"root"})}return W})(),ci=(()=>{class W extends Hi{constructor(G){super(),this._doc=G}sanitize(G,q){if(null==q)return null;switch(G){case y.q3G.NONE:return q;case y.q3G.HTML:return(0,y.qzn)(q,"HTML")?(0,y.z3N)(q):(0,y.EiD)(this._doc,String(q)).toString();case y.q3G.STYLE:return(0,y.qzn)(q,"Style")?(0,y.z3N)(q):q;case y.q3G.SCRIPT:if((0,y.qzn)(q,"Script"))return(0,y.z3N)(q);throw new y.vHH(5200,!1);case y.q3G.URL:return(0,y.qzn)(q,"URL")?(0,y.z3N)(q):(0,y.mCW)(String(q));case y.q3G.RESOURCE_URL:if((0,y.qzn)(q,"ResourceURL"))return(0,y.z3N)(q);throw new y.vHH(5201,!1);default:throw new y.vHH(5202,!1)}}bypassSecurityTrustHtml(G){return(0,y.JVY)(G)}bypassSecurityTrustStyle(G){return(0,y.L6k)(G)}bypassSecurityTrustScript(G){return(0,y.eBb)(G)}bypassSecurityTrustUrl(G){return(0,y.LAX)(G)}bypassSecurityTrustResourceUrl(G){return(0,y.pB0)(G)}static#e=this.\u0275fac=function(q){return new(q||W)(y.LFG(re.K0))};static#t=this.\u0275prov=y.Yz7({token:W,factory:function(q){let be=null;return be=q?new q:function qn(W){return new ci(W.get(re.K0))}(y.LFG(y.zs3)),be},providedIn:"root"})}return W})()},3403:(bt,Be,U)=>{U.d(Be,{F0:()=>As,rH:()=>lc,Bz:()=>Hr,lC:()=>ti});var y=U(5879),re=U(5592),ve=U(4674),Z=U(2459),X=U(2096),Ee=U(5619),Me=U(2572);const ee=(0,U(2306).d)(E=>function(){E(this),this.name="EmptyError",this.message="no elements in sequence"});var ce=U(5211),De=U(4911),Ae=U(8407),Ze=U(8504),Le=U(6232),Qe=U(7394),yt=U(9360),At=U(8251);function ln(){return(0,yt.e)((E,S)=>{let _=null;E._refCount++;const b=(0,At.x)(S,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(_=null);const O=E._connection,K=_;_=null,O&&(!K||O===K)&&O.unsubscribe(),S.unsubscribe()});E.subscribe(b),b.closed||(_=E.connect())})}class Mt extends re.y{constructor(S,_){super(),this.source=S,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,yt.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new Qe.w0;const _=this.getSubject();S.add(this.source.subscribe((0,At.x)(_,void 0,()=>{this._teardown(),_.complete()},b=>{this._teardown(),_.error(b)},()=>this._teardown()))),S.closed&&(this._connection=null,S=Qe.w0.EMPTY)}return S}refCount(){return ln()(this)}}var le=U(8645),We=U(6814),ye=U(7398),Ye=U(4664),st=U(8180),ct=U(7921),sn=U(2181),Zt=U(1631);function zn(E){return(0,yt.e)((S,_)=>{let b=!1;S.subscribe((0,At.x)(_,O=>{b=!0,_.next(O)},()=>{b||_.next(E),_.complete()}))})}function lt(E=Nn){return(0,yt.e)((S,_)=>{let b=!1;S.subscribe((0,At.x)(_,O=>{b=!0,_.next(O)},()=>b?_.complete():_.error(E())))})}function Nn(){return new ee}var Sr=U(2737);function vt(E,S){const _=arguments.length>=2;return b=>b.pipe(E?(0,sn.h)((O,K)=>E(O,K,b)):Sr.y,(0,st.q)(1),_?zn(S):lt(()=>new ee))}var Jt=U(6328),Rt=U(9397),Re=U(6306);function he(E){return E<=0?()=>Le.E:(0,yt.e)((S,_)=>{let b=[];S.subscribe((0,At.x)(_,O=>{b.push(O),E<b.length&&b.shift()},()=>{for(const O of b)_.next(O);_.complete()},void 0,()=>{b=null}))})}var de=U(975),Ce=U(4716),Se=U(9773),gt=U(7537),$t=U(6593);const pt="primary",jt=Symbol("RouteTitle");class Tn{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const _=this.params[S];return Array.isArray(_)?_[0]:_}return null}getAll(S){if(this.has(S)){const _=this.params[S];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function dn(E){return new Tn(E)}function or(E,S,_){const b=_.path.split("/");if(b.length>E.length||"full"===_.pathMatch&&(S.hasChildren()||b.length<E.length))return null;const O={};for(let K=0;K<b.length;K++){const ue=b[K],Ue=E[K];if(ue.startsWith(":"))O[ue.substring(1)]=Ue;else if(ue!==Ue.path)return null}return{consumed:E.slice(0,b.length),posParams:O}}function mn(E,S){const _=E?Object.keys(E):void 0,b=S?Object.keys(S):void 0;if(!_||!b||_.length!=b.length)return!1;let O;for(let K=0;K<_.length;K++)if(O=_[K],!kr(E[O],S[O]))return!1;return!0}function kr(E,S){if(Array.isArray(E)&&Array.isArray(S)){if(E.length!==S.length)return!1;const _=[...E].sort(),b=[...S].sort();return _.every((O,K)=>b[K]===O)}return E===S}function Vr(E){return E.length>0?E[E.length-1]:null}function yr(E){return function se(E){return!!E&&(E instanceof re.y||(0,ve.m)(E.lift)&&(0,ve.m)(E.subscribe))}(E)?E:(0,y.QGY)(E)?(0,Z.D)(Promise.resolve(E)):(0,X.of)(E)}const Ji={exact:function yn(E,S,_){if(!Pi(E.segments,S.segments)||!ar(E.segments,S.segments,_)||E.numberOfChildren!==S.numberOfChildren)return!1;for(const b in S.children)if(!E.children[b]||!yn(E.children[b],S.children[b],_))return!1;return!0},subset:Xn},Mr={exact:function en(E,S){return mn(E,S)},subset:function hn(E,S){return Object.keys(S).length<=Object.keys(E).length&&Object.keys(S).every(_=>kr(E[_],S[_]))},ignored:()=>!0};function Ur(E,S,_){return Ji[_.paths](E.root,S.root,_.matrixParams)&&Mr[_.queryParams](E.queryParams,S.queryParams)&&!("exact"===_.fragment&&E.fragment!==S.fragment)}function Xn(E,S,_){return Ri(E,S,S.segments,_)}function Ri(E,S,_,b){if(E.segments.length>_.length){const O=E.segments.slice(0,_.length);return!(!Pi(O,_)||S.hasChildren()||!ar(O,_,b))}if(E.segments.length===_.length){if(!Pi(E.segments,_)||!ar(E.segments,_,b))return!1;for(const O in S.children)if(!E.children[O]||!Xn(E.children[O],S.children[O],b))return!1;return!0}{const O=_.slice(0,E.segments.length),K=_.slice(E.segments.length);return!!(Pi(E.segments,O)&&ar(E.segments,O,b)&&E.children[pt])&&Ri(E.children[pt],S,K,b)}}function ar(E,S,_){return S.every((b,O)=>Mr[_](E[O].parameters,b.parameters))}class wn{constructor(S=new tn([],{}),_={},b=null){this.root=S,this.queryParams=_,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dn(this.queryParams)),this._queryParamMap}toString(){return Hi.serialize(this)}}class tn{constructor(S,_){this.segments=S,this.children=_,this.parent=null,Object.values(_).forEach(b=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qn(this)}}class ki{constructor(S,_){this.path=S,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=dn(this.parameters)),this._parameterMap}toString(){return Li(this)}}function Pi(E,S){return E.length===S.length&&E.every((_,b)=>_.path===S[b].path)}let _i=(()=>{class E{static#e=this.\u0275fac=function(b){return new(b||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:function(){return new Wr},providedIn:"root"})}return E})();class Wr{parse(S){const _=new Pt(S);return new wn(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(S){const _=`/${ci(S.root,!0)}`,b=function W(E){const S=Object.keys(E).map(_=>{const b=E[_];return Array.isArray(b)?b.map(O=>`${yi(_)}=${yi(O)}`).join("&"):`${yi(_)}=${yi(b)}`}).filter(_=>!!_);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${_}${b}${"string"==typeof S.fragment?`#${function Xr(E){return encodeURI(E)}(S.fragment)}`:""}`}}const Hi=new Wr;function qn(E){return E.segments.map(S=>Li(S)).join("/")}function ci(E,S){if(!E.hasChildren())return qn(E);if(S){const _=E.children[pt]?ci(E.children[pt],!1):"",b=[];return Object.entries(E.children).forEach(([O,K])=>{O!==pt&&b.push(`${O}:${ci(K,!1)}`)}),b.length>0?`${_}(${b.join("//")})`:_}{const _=function pn(E,S){let _=[];return Object.entries(E.children).forEach(([b,O])=>{b===pt&&(_=_.concat(S(O,b)))}),Object.entries(E.children).forEach(([b,O])=>{b!==pt&&(_=_.concat(S(O,b)))}),_}(E,(b,O)=>O===pt?[ci(E.children[pt],!1)]:[`${O}:${ci(b,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[pt]?`${qn(E)}/${_[0]}`:`${qn(E)}/(${_.join("//")})`}}function Jr(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yi(E){return Jr(E).replace(/%3B/gi,";")}function nr(E){return Jr(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function un(E){return decodeURIComponent(E)}function li(E){return un(E.replace(/\+/g,"%20"))}function Li(E){return`${nr(E.path)}${function fe(E){return Object.keys(E).map(S=>`;${nr(S)}=${nr(E[S])}`).join("")}(E.parameters)}`}const Q=/^[^\/()?;#]+/;function G(E){const S=E.match(Q);return S?S[0]:""}const q=/^[^\/()?;=#]+/,et=/^[^=?&#]+/,Lt=/^[^&#]+/;class Pt{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(S.length>0||Object.keys(_).length>0)&&(b[pt]=new tn(S,_)),b}parseSegment(){const S=G(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new y.vHH(4009,!1);return this.capture(S),new ki(un(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const _=function be(E){const S=E.match(q);return S?S[0]:""}(this.remaining);if(!_)return;this.capture(_);let b="";if(this.consumeOptional("=")){const O=G(this.remaining);O&&(b=O,this.capture(b))}S[un(_)]=un(b)}parseQueryParam(S){const _=function ht(E){const S=E.match(et);return S?S[0]:""}(this.remaining);if(!_)return;this.capture(_);let b="";if(this.consumeOptional("=")){const ue=function rn(E){const S=E.match(Lt);return S?S[0]:""}(this.remaining);ue&&(b=ue,this.capture(b))}const O=li(_),K=li(b);if(S.hasOwnProperty(O)){let ue=S[O];Array.isArray(ue)||(ue=[ue],S[O]=ue),ue.push(K)}else S[O]=K}parseParens(S){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=G(this.remaining),O=this.remaining[b.length];if("/"!==O&&")"!==O&&";"!==O)throw new y.vHH(4010,!1);let K;b.indexOf(":")>-1?(K=b.slice(0,b.indexOf(":")),this.capture(K),this.capture(":")):S&&(K=pt);const ue=this.parseChildren();_[K]=1===Object.keys(ue).length?ue[pt]:new tn([],ue),this.consumeOptional("//")}return _}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new y.vHH(4011,!1)}}function Qt(E){return E.segments.length>0?new tn([],{[pt]:E}):E}function Zn(E){const S={};for(const b of Object.keys(E.children)){const K=Zn(E.children[b]);if(b===pt&&0===K.segments.length&&K.hasChildren())for(const[ue,Ue]of Object.entries(K.children))S[ue]=Ue;else(K.segments.length>0||K.hasChildren())&&(S[b]=K)}return function qr(E){if(1===E.numberOfChildren&&E.children[pt]){const S=E.children[pt];return new tn(E.segments.concat(S.segments),S.children)}return E}(new tn(E.segments,S))}function Kr(E){return E instanceof wn}function qe(E){let S;const O=Qt(function _(K){const ue={};for(const $e of K.children){const wt=_($e);ue[$e.outlet]=wt}const Ue=new tn(K.url,ue);return K===E&&(S=Ue),Ue}(E.root));return S??O}function Ne(E,S,_,b){let O=E;for(;O.parent;)O=O.parent;if(0===S.length)return nn(O,O,O,_,b);const K=function hr(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new Pn(!0,0,E);let S=0,_=!1;const b=E.reduce((O,K,ue)=>{if("object"==typeof K&&null!=K){if(K.outlets){const Ue={};return Object.entries(K.outlets).forEach(([$e,wt])=>{Ue[$e]="string"==typeof wt?wt.split("/"):wt}),[...O,{outlets:Ue}]}if(K.segmentPath)return[...O,K.segmentPath]}return"string"!=typeof K?[...O,K]:0===ue?(K.split("/").forEach((Ue,$e)=>{0==$e&&"."===Ue||(0==$e&&""===Ue?_=!0:".."===Ue?S++:""!=Ue&&O.push(Ue))}),O):[...O,K]},[]);return new Pn(_,S,b)}(S);if(K.toRoot())return nn(O,O,new tn([],{}),_,b);const ue=function Rs(E,S,_){if(E.isAbsolute)return new Jn(S,!0,0);if(!_)return new Jn(S,!1,NaN);if(null===_.parent)return new Jn(_,!0,0);const b=it(E.commands[0])?0:1;return function vi(E,S,_){let b=E,O=S,K=_;for(;K>O;){if(K-=O,b=b.parent,!b)throw new y.vHH(4005,!1);O=b.segments.length}return new Jn(b,!1,O-K)}(_,_.segments.length-1+b,E.numberOfDoubleDots)}(K,O,E),Ue=ue.processChildren?Xi(ue.segmentGroup,ue.index,K.commands):Bs(ue.segmentGroup,ue.index,K.commands);return nn(O,ue.segmentGroup,Ue,_,b)}function it(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function Ft(E){return"object"==typeof E&&null!=E&&E.outlets}function nn(E,S,_,b,O){let ue,K={};b&&Object.entries(b).forEach(([$e,wt])=>{K[$e]=Array.isArray(wt)?wt.map(Rn=>`${Rn}`):`${wt}`}),ue=E===S?_:Tt(E,S,_);const Ue=Qt(Zn(ue));return new wn(Ue,K,O)}function Tt(E,S,_){const b={};return Object.entries(E.children).forEach(([O,K])=>{b[O]=K===S?_:Tt(K,S,_)}),new tn(E.segments,b)}class Pn{constructor(S,_,b){if(this.isAbsolute=S,this.numberOfDoubleDots=_,this.commands=b,S&&b.length>0&&it(b[0]))throw new y.vHH(4003,!1);const O=b.find(Ft);if(O&&O!==Vr(b))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jn{constructor(S,_,b){this.segmentGroup=S,this.processChildren=_,this.index=b}}function Bs(E,S,_){if(E||(E=new tn([],{})),0===E.segments.length&&E.hasChildren())return Xi(E,S,_);const b=function lo(E,S,_){let b=0,O=S;const K={match:!1,pathIndex:0,commandIndex:0};for(;O<E.segments.length;){if(b>=_.length)return K;const ue=E.segments[O],Ue=_[b];if(Ft(Ue))break;const $e=`${Ue}`,wt=b<_.length-1?_[b+1]:null;if(O>0&&void 0===$e)break;if($e&&wt&&"object"==typeof wt&&void 0===wt.outlets){if(!Js($e,wt,ue))return K;b+=2}else{if(!Js($e,{},ue))return K;b++}O++}return{match:!0,pathIndex:O,commandIndex:b}}(E,S,_),O=_.slice(b.commandIndex);if(b.match&&b.pathIndex<E.segments.length){const K=new tn(E.segments.slice(0,b.pathIndex),{});return K.children[pt]=new tn(E.segments.slice(b.pathIndex),E.children),Xi(K,0,O)}return b.match&&0===O.length?new tn(E.segments,{}):b.match&&!E.hasChildren()?Ps(E,S,_):b.match?Xi(E,0,O):Ps(E,S,_)}function Xi(E,S,_){if(0===_.length)return new tn(E.segments,{});{const b=function Qr(E){return Ft(E[0])?E[0].outlets:{[pt]:E}}(_),O={};if(Object.keys(b).some(K=>K!==pt)&&E.children[pt]&&1===E.numberOfChildren&&0===E.children[pt].segments.length){const K=Xi(E.children[pt],S,_);return new tn(E.segments,K.children)}return Object.entries(b).forEach(([K,ue])=>{"string"==typeof ue&&(ue=[ue]),null!==ue&&(O[K]=Bs(E.children[K],S,ue))}),Object.entries(E.children).forEach(([K,ue])=>{void 0===b[K]&&(O[K]=ue)}),new tn(E.segments,O)}}function Ps(E,S,_){const b=E.segments.slice(0,S);let O=0;for(;O<_.length;){const K=_[O];if(Ft(K)){const $e=ho(K.outlets);return new tn(b,$e)}if(0===O&&it(_[0])){b.push(new ki(E.segments[S].path,Bn(_[0]))),O++;continue}const ue=Ft(K)?K.outlets[pt]:`${K}`,Ue=O<_.length-1?_[O+1]:null;ue&&Ue&&it(Ue)?(b.push(new ki(ue,Bn(Ue))),O+=2):(b.push(new ki(ue,{})),O++)}return new tn(b,{})}function ho(E){const S={};return Object.entries(E).forEach(([_,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(S[_]=Ps(new tn([],{}),0,b))}),S}function Bn(E){const S={};return Object.entries(E).forEach(([_,b])=>S[_]=`${b}`),S}function Js(E,S,_){return E==_.path&&mn(S,_.parameters)}const Ms="imperative";class bn{constructor(S,_){this.id=S,this.url=_}}class $s extends bn{constructor(S,_,b="imperative",O=null){super(S,_),this.type=0,this.navigationTrigger=b,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class as extends bn{constructor(S,_,b){super(S,_),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ts extends bn{constructor(S,_,b,O){super(S,_),this.reason=b,this.code=O,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class On extends bn{constructor(S,_,b,O){super(S,_),this.reason=b,this.code=O,this.type=16}}class us extends bn{constructor(S,_,b,O){super(S,_),this.error=b,this.target=O,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class js extends bn{constructor(S,_,b,O){super(S,_),this.urlAfterRedirects=b,this.state=O,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mo extends bn{constructor(S,_,b,O){super(S,_),this.urlAfterRedirects=b,this.state=O,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _o extends bn{constructor(S,_,b,O,K){super(S,_),this.urlAfterRedirects=b,this.state=O,this.shouldActivate=K,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yo extends bn{constructor(S,_,b,O){super(S,_),this.urlAfterRedirects=b,this.state=O,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zi extends bn{constructor(S,_,b,O){super(S,_),this.urlAfterRedirects=b,this.state=O,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hs{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class na{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ei{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fo{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xs{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bo{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eo{constructor(S,_,b){this.routerEvent=S,this.position=_,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zs{}class to{constructor(S){this.url=S}}class ra{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new es,this.attachRef=null}}let es=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(_,b){const O=this.getOrCreateContext(_);O.outlet=b,this.contexts.set(_,O)}onChildOutletDestroyed(_){const b=this.getContext(_);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let b=this.getContext(_);return b||(b=new ra,this.contexts.set(_,b)),b}getContext(_){return this.contexts.get(_)||null}static#e=this.\u0275fac=function(b){return new(b||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();class no{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const _=this.pathFromRoot(S);return _.length>1?_[_.length-2]:null}children(S){const _=gn(S,this._root);return _?_.children.map(b=>b.value):[]}firstChild(S){const _=gn(S,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(S){const _=Lr(S,this._root);return _.length<2?[]:_[_.length-2].children.map(O=>O.value).filter(O=>O!==S)}pathFromRoot(S){return Lr(S,this._root).map(_=>_.value)}}function gn(E,S){if(E===S.value)return S;for(const _ of S.children){const b=gn(E,_);if(b)return b}return null}function Lr(E,S){if(E===S.value)return[S];for(const _ of S.children){const b=Lr(E,_);if(b.length)return b.unshift(S),b}return[]}class fr{constructor(S,_){this.value=S,this.children=_}toString(){return`TreeNode(${this.value})`}}function Fi(E){const S={};return E&&E.children.forEach(_=>S[_.value.outlet]=_),S}class ei extends no{constructor(S,_){super(S),this.snapshot=_,Nt(this,S)}toString(){return this.snapshot.toString()}}function Ro(E,S){const _=function Po(E,S){const ue=new Kn([],{},{},"",{},pt,S,null,{});return new Ct("",new fr(ue,[]))}(0,S),b=new Ee.X([new ki("",{})]),O=new Ee.X({}),K=new Ee.X({}),ue=new Ee.X({}),Ue=new Ee.X(""),$e=new di(b,O,ue,Ue,K,pt,S,_.root);return $e.snapshot=_.root,new ei(new fr($e,[]),_)}class di{constructor(S,_,b,O,K,ue,Ue,$e){this.urlSubject=S,this.paramsSubject=_,this.queryParamsSubject=b,this.fragmentSubject=O,this.dataSubject=K,this.outlet=ue,this.component=Ue,this._futureSnapshot=$e,this.title=this.dataSubject?.pipe((0,ye.U)(wt=>wt[jt]))??(0,X.of)(void 0),this.url=S,this.params=_,this.queryParams=b,this.fragment=O,this.data=K}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ye.U)(S=>dn(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ye.U)(S=>dn(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gi(E,S="emptyOnly"){const _=E.pathFromRoot;let b=0;if("always"!==S)for(b=_.length-1;b>=1;){const O=_[b],K=_[b-1];if(O.routeConfig&&""===O.routeConfig.path)b--;else{if(K.component)break;b--}}return function Ns(E){return E.reduce((S,_)=>({params:{...S.params,..._.params},data:{...S.data,..._.data},resolve:{..._.data,...S.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(b))}class Kn{get title(){return this.data?.[jt]}constructor(S,_,b,O,K,ue,Ue,$e,wt){this.url=S,this.params=_,this.queryParams=b,this.fragment=O,this.data=K,this.outlet=ue,this.component=Ue,this.routeConfig=$e,this._resolve=wt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=dn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ct extends no{constructor(S,_){super(_),this.url=S,Nt(this,_)}toString(){return er(this._root)}}function Nt(E,S){S.value._routerState=E,S.children.forEach(_=>Nt(E,_))}function er(E){const S=E.children.length>0?` { ${E.children.map(er).join(", ")} } `:"";return`${E.value}${S}`}function Br(E){if(E.snapshot){const S=E.snapshot,_=E._futureSnapshot;E.snapshot=_,mn(S.queryParams,_.queryParams)||E.queryParamsSubject.next(_.queryParams),S.fragment!==_.fragment&&E.fragmentSubject.next(_.fragment),mn(S.params,_.params)||E.paramsSubject.next(_.params),function Un(E,S){if(E.length!==S.length)return!1;for(let _=0;_<E.length;++_)if(!mn(E[_],S[_]))return!1;return!0}(S.url,_.url)||E.urlSubject.next(_.url),mn(S.data,_.data)||E.dataSubject.next(_.data)}else E.snapshot=E._futureSnapshot,E.dataSubject.next(E._futureSnapshot.data)}function ws(E,S){const _=mn(E.params,S.params)&&function qt(E,S){return Pi(E,S)&&E.every((_,b)=>mn(_.parameters,S[b].parameters))}(E.url,S.url);return _&&!(!E.parent!=!S.parent)&&(!E.parent||ws(E.parent,S.parent))}let ti=(()=>{class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=pt,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(es),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb),this.inputBinder=(0,y.f3M)(ur,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_){if(_.name){const{firstChange:b,previousValue:O}=_.name;if(b)return;this.isTrackedInParentContexts(O)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(O)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,b){this.activated=_,this._activatedRoute=b,this.location.insert(_.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,b){if(this.isActivated)throw new y.vHH(4013,!1);this._activatedRoute=_;const O=this.location,ue=_.snapshot.component,Ue=this.parentContexts.getOrCreateContext(this.name).children,$e=new Gs(_,Ue,O.injector);this.activated=O.createComponent(ue,{index:O.length,injector:$e,environmentInjector:b??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(b){return new(b||E)};static#t=this.\u0275dir=y.lG2({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]})}return E})();class Gs{constructor(S,_,b){this.route=S,this.childContexts=_,this.parent=b}get(S,_){return S===di?this.route:S===es?this.childContexts:this.parent.get(S,_)}}const ur=new y.OlP("");let Os=(()=>{class E{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){this.outletDataSubscriptions.get(_)?.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:b}=_,O=(0,Me.a)([b.queryParams,b.params,b.data]).pipe((0,Ye.w)(([K,ue,Ue],$e)=>(Ue={...K,...ue,...Ue},0===$e?(0,X.of)(Ue):Promise.resolve(Ue)))).subscribe(K=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==b||null===b.component)return void this.unsubscribeFromRouteData(_);const ue=(0,y.qFp)(b.component);if(ue)for(const{templateName:Ue}of ue.inputs)_.activatedComponentRef.setInput(Ue,K[Ue]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,O)}static#e=this.\u0275fac=function(b){return new(b||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac})}return E})();function on(E,S,_){if(_&&E.shouldReuseRoute(S.value,_.value.snapshot)){const b=_.value;b._futureSnapshot=S.value;const O=function cs(E,S,_){return S.children.map(b=>{for(const O of _.children)if(E.shouldReuseRoute(b.value,O.value.snapshot))return on(E,b,O);return on(E,b)})}(E,S,_);return new fr(b,O)}{if(E.shouldAttach(S.value)){const K=E.retrieve(S.value);if(null!==K){const ue=K.route;return ue.value._futureSnapshot=S.value,ue.children=S.children.map(Ue=>on(E,Ue)),ue}}const b=function Wi(E){return new di(new Ee.X(E.url),new Ee.X(E.params),new Ee.X(E.queryParams),new Ee.X(E.fragment),new Ee.X(E.data),E.outlet,E.component,E)}(S.value),O=S.children.map(K=>on(E,K));return new fr(b,O)}}const pr="ngNavigationCancelingError";function vr(E,S){const{redirectTo:_,navigationBehaviorOptions:b}=Kr(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,O=xs(!1,0,S);return O.url=_,O.navigationBehaviorOptions=b,O}function xs(E,S,_){const b=new Error("NavigationCancelingError: "+(E||""));return b[pr]=!0,b.cancellationCode=S,_&&(b.url=_),b}function ls(E){return E&&E[pr]}let ds=(()=>{class E{static#e=this.\u0275fac=function(b){return new(b||E)};static#t=this.\u0275cmp=y.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(b,O){1&b&&y._UZ(0,"router-outlet")},dependencies:[ti],encapsulation:2})}return E})();function fi(E){const S=E.children&&E.children.map(fi),_=S?{...E,children:S}:{...E};return!_.component&&!_.loadComponent&&(S||_.loadChildren)&&_.outlet&&_.outlet!==pt&&(_.component=ds),_}function Ti(E){return E.outlet||pt}function qi(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let S=E.parent;S;S=S.parent){const _=S.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class Fr{constructor(S,_,b,O,K){this.routeReuseStrategy=S,this.futureState=_,this.currState=b,this.forwardEvent=O,this.inputBindingEnabled=K}activate(S){const _=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,b,S),Br(this.futureState.root),this.activateChildRoutes(_,b,S)}deactivateChildRoutes(S,_,b){const O=Fi(_);S.children.forEach(K=>{const ue=K.value.outlet;this.deactivateRoutes(K,O[ue],b),delete O[ue]}),Object.values(O).forEach(K=>{this.deactivateRouteAndItsChildren(K,b)})}deactivateRoutes(S,_,b){const O=S.value,K=_?_.value:null;if(O===K)if(O.component){const ue=b.getContext(O.outlet);ue&&this.deactivateChildRoutes(S,_,ue.children)}else this.deactivateChildRoutes(S,_,b);else K&&this.deactivateRouteAndItsChildren(_,b)}deactivateRouteAndItsChildren(S,_){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,_):this.deactivateRouteAndOutlet(S,_)}detachAndStoreRouteSubtree(S,_){const b=_.getContext(S.value.outlet),O=b&&S.value.component?b.children:_,K=Fi(S);for(const ue of Object.keys(K))this.deactivateRouteAndItsChildren(K[ue],O);if(b&&b.outlet){const ue=b.outlet.detach(),Ue=b.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:ue,route:S,contexts:Ue})}}deactivateRouteAndOutlet(S,_){const b=_.getContext(S.value.outlet),O=b&&S.value.component?b.children:_,K=Fi(S);for(const ue of Object.keys(K))this.deactivateRouteAndItsChildren(K[ue],O);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.route=null)}activateChildRoutes(S,_,b){const O=Fi(_);S.children.forEach(K=>{this.activateRoutes(K,O[K.value.outlet],b),this.forwardEvent(new bo(K.value.snapshot))}),S.children.length&&this.forwardEvent(new fo(S.value.snapshot))}activateRoutes(S,_,b){const O=S.value,K=_?_.value:null;if(Br(O),O===K)if(O.component){const ue=b.getOrCreateContext(O.outlet);this.activateChildRoutes(S,_,ue.children)}else this.activateChildRoutes(S,_,b);else if(O.component){const ue=b.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const Ue=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),ue.children.onOutletReAttached(Ue.contexts),ue.attachRef=Ue.componentRef,ue.route=Ue.route.value,ue.outlet&&ue.outlet.attach(Ue.componentRef,Ue.route.value),Br(Ue.route.value),this.activateChildRoutes(S,null,ue.children)}else{const Ue=qi(O.snapshot);ue.attachRef=null,ue.route=O,ue.injector=Ue,ue.outlet&&ue.outlet.activateWith(O,ue.injector),this.activateChildRoutes(S,null,ue.children)}}else this.activateChildRoutes(S,null,b)}}class wi{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Ws{constructor(S,_){this.component=S,this.route=_}}function hs(E,S,_){const b=E._root;return qs(b,S?S._root:null,_,[b.value])}function Dn(E,S){const _=Symbol(),b=S.get(E,_);return b===_?"function"!=typeof E||(0,y.Z0I)(E)?S.get(E):E:b}function qs(E,S,_,b,O={canDeactivateChecks:[],canActivateChecks:[]}){const K=Fi(S);return E.children.forEach(ue=>{(function No(E,S,_,b,O={canDeactivateChecks:[],canActivateChecks:[]}){const K=E.value,ue=S?S.value:null,Ue=_?_.getContext(E.value.outlet):null;if(ue&&K.routeConfig===ue.routeConfig){const $e=function wu(E,S,_){if("function"==typeof _)return _(E,S);switch(_){case"pathParamsChange":return!Pi(E.url,S.url);case"pathParamsOrQueryParamsChange":return!Pi(E.url,S.url)||!mn(E.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ws(E,S)||!mn(E.queryParams,S.queryParams);default:return!ws(E,S)}}(ue,K,K.routeConfig.runGuardsAndResolvers);$e?O.canActivateChecks.push(new wi(b)):(K.data=ue.data,K._resolvedData=ue._resolvedData),qs(E,S,K.component?Ue?Ue.children:null:_,b,O),$e&&Ue&&Ue.outlet&&Ue.outlet.isActivated&&O.canDeactivateChecks.push(new Ws(Ue.outlet.component,ue))}else ue&&Oo(S,Ue,O),O.canActivateChecks.push(new wi(b)),qs(E,null,K.component?Ue?Ue.children:null:_,b,O)})(ue,K[ue.value.outlet],_,b.concat([ue.value]),O),delete K[ue.value.outlet]}),Object.entries(K).forEach(([ue,Ue])=>Oo(Ue,_.getContext(ue),O)),O}function Oo(E,S,_){const b=Fi(E),O=E.value;Object.entries(b).forEach(([K,ue])=>{Oo(ue,O.component?S?S.children.getContext(K):null:S,_)}),_.canDeactivateChecks.push(new Ws(O.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,O))}function so(E){return"function"==typeof E}function Wt(E){return E instanceof ee||"EmptyError"===E?.name}const Vt=Symbol("INITIAL_VALUE");function fn(){return(0,Ye.w)(E=>(0,Me.a)(E.map(S=>S.pipe((0,st.q)(1),(0,ct.O)(Vt)))).pipe((0,ye.U)(S=>{for(const _ of S)if(!0!==_){if(_===Vt)return Vt;if(!1===_||_ instanceof wn)return _}return!0}),(0,sn.h)(S=>S!==Vt),(0,st.q)(1)))}function Ir(E){return(0,Ae.z)((0,Rt.b)(S=>{if(Kr(S))throw vr(0,S)}),(0,ye.U)(S=>!0===S))}class rr{constructor(S){this.segmentGroup=S||null}}class Bi{constructor(S){this.urlTree=S}}function B(E){return(0,Ze._)(new rr(E))}function m(E){return(0,Ze._)(new Bi(E))}class j{constructor(S,_){this.urlSerializer=S,this.urlTree=_}noMatchError(S){return new y.vHH(4002,!1)}lineralizeSegments(S,_){let b=[],O=_.root;for(;;){if(b=b.concat(O.segments),0===O.numberOfChildren)return(0,X.of)(b);if(O.numberOfChildren>1||!O.children[pt])return(0,Ze._)(new y.vHH(4e3,!1));O=O.children[pt]}}applyRedirectCommands(S,_,b){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),S,b)}applyRedirectCreateUrlTree(S,_,b,O){const K=this.createSegmentGroup(S,_.root,b,O);return new wn(K,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(S,_){const b={};return Object.entries(S).forEach(([O,K])=>{if("string"==typeof K&&K.startsWith(":")){const Ue=K.substring(1);b[O]=_[Ue]}else b[O]=K}),b}createSegmentGroup(S,_,b,O){const K=this.createSegments(S,_.segments,b,O);let ue={};return Object.entries(_.children).forEach(([Ue,$e])=>{ue[Ue]=this.createSegmentGroup(S,$e,b,O)}),new tn(K,ue)}createSegments(S,_,b,O){return _.map(K=>K.path.startsWith(":")?this.findPosParam(S,K,O):this.findOrReturn(K,b))}findPosParam(S,_,b){const O=b[_.path.substring(1)];if(!O)throw new y.vHH(4001,!1);return O}findOrReturn(S,_){let b=0;for(const O of _){if(O.path===S.path)return _.splice(b),O;b++}return S}}const J={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pe(E,S,_,b,O){const K=ge(E,S,_);return K.matched?(b=function Eo(E,S){return E.providers&&!E._injector&&(E._injector=(0,y.MMx)(E.providers,S,`Route: ${E.path}`)),E._injector??S}(S,b),function ri(E,S,_,b){const O=S.canMatch;if(!O||0===O.length)return(0,X.of)(!0);const K=O.map(ue=>{const Ue=Dn(ue,E);return yr(function Pe(E){return E&&so(E.canMatch)}(Ue)?Ue.canMatch(S,_):E.runInContext(()=>Ue(S,_)))});return(0,X.of)(K).pipe(fn(),Ir())}(b,S,_).pipe((0,ye.U)(ue=>!0===ue?K:{...J}))):(0,X.of)(K)}function ge(E,S,_){if(""===S.path)return"full"===S.pathMatch&&(E.hasChildren()||_.length>0)?{...J}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const O=(S.matcher||or)(_,E,S);if(!O)return{...J};const K={};Object.entries(O.posParams??{}).forEach(([Ue,$e])=>{K[Ue]=$e.path});const ue=O.consumed.length>0?{...K,...O.consumed[O.consumed.length-1].parameters}:K;return{matched:!0,consumedSegments:O.consumed,remainingSegments:_.slice(O.consumed.length),parameters:ue,positionalParamSegments:O.posParams??{}}}function xe(E,S,_,b){return _.length>0&&function xt(E,S,_){return _.some(b=>Yt(E,S,b)&&Ti(b)!==pt)}(E,_,b)?{segmentGroup:new tn(S,Et(b,new tn(_,E.children))),slicedSegments:[]}:0===_.length&&function Mn(E,S,_){return _.some(b=>Yt(E,S,b))}(E,_,b)?{segmentGroup:new tn(E.segments,Je(E,0,_,b,E.children)),slicedSegments:_}:{segmentGroup:new tn(E.segments,E.children),slicedSegments:_}}function Je(E,S,_,b,O){const K={};for(const ue of b)if(Yt(E,_,ue)&&!O[Ti(ue)]){const Ue=new tn([],{});K[Ti(ue)]=Ue}return{...O,...K}}function Et(E,S){const _={};_[pt]=S;for(const b of E)if(""===b.path&&Ti(b)!==pt){const O=new tn([],{});_[Ti(b)]=O}return _}function Yt(E,S,_){return(!(E.hasChildren()||S.length>0)||"full"!==_.pathMatch)&&""===_.path}class Ai{constructor(S,_,b,O,K,ue,Ue){this.injector=S,this.configLoader=_,this.rootComponentType=b,this.config=O,this.urlTree=K,this.paramsInheritanceStrategy=ue,this.urlSerializer=Ue,this.allowRedirects=!0,this.applyRedirects=new j(this.urlSerializer,this.urlTree)}noMatchError(S){return new y.vHH(4002,!1)}recognize(){const S=xe(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,pt).pipe((0,Re.K)(_=>{if(_ instanceof Bi)return this.allowRedirects=!1,this.urlTree=_.urlTree,this.match(_.urlTree);throw _ instanceof rr?this.noMatchError(_):_}),(0,ye.U)(_=>{const b=new Kn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pt,this.rootComponentType,null,{}),O=new fr(b,_),K=new Ct("",O),ue=function Nr(E,S,_=null,b=null){return Ne(qe(E),S,_,b)}(b,[],this.urlTree.queryParams,this.urlTree.fragment);return ue.queryParams=this.urlTree.queryParams,K.url=this.urlSerializer.serialize(ue),this.inheritParamsAndData(K._root),{state:K,tree:ue}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S.root,pt).pipe((0,Re.K)(b=>{throw b instanceof rr?this.noMatchError(b):b}))}inheritParamsAndData(S){const _=S.value,b=Gi(_,this.paramsInheritanceStrategy);_.params=Object.freeze(b.params),_.data=Object.freeze(b.data),S.children.forEach(O=>this.inheritParamsAndData(O))}processSegmentGroup(S,_,b,O){return 0===b.segments.length&&b.hasChildren()?this.processChildren(S,_,b):this.processSegment(S,_,b,b.segments,O,!0)}processChildren(S,_,b){const O=[];for(const K of Object.keys(b.children))"primary"===K?O.unshift(K):O.push(K);return(0,Z.D)(O).pipe((0,Jt.b)(K=>{const ue=b.children[K],Ue=function Mo(E,S){const _=E.filter(b=>Ti(b)===S);return _.push(...E.filter(b=>Ti(b)!==S)),_}(_,K);return this.processSegmentGroup(S,Ue,ue,K)}),function Ve(E,S){return(0,yt.e)(function Fe(E,S,_,b,O){return(K,ue)=>{let Ue=_,$e=S,wt=0;K.subscribe((0,At.x)(ue,Rn=>{const Vn=wt++;$e=Ue?E($e,Rn,Vn):(Ue=!0,Rn),b&&ue.next($e)},O&&(()=>{Ue&&ue.next($e),ue.complete()})))}}(E,S,arguments.length>=2,!0))}((K,ue)=>(K.push(...ue),K)),zn(null),function je(E,S){const _=arguments.length>=2;return b=>b.pipe(E?(0,sn.h)((O,K)=>E(O,K,b)):Sr.y,he(1),_?zn(S):lt(()=>new ee))}(),(0,Zt.z)(K=>{if(null===K)return B(b);const ue=Yr(K);return function Tr(E){E.sort((S,_)=>S.value.outlet===pt?-1:_.value.outlet===pt?1:S.value.outlet.localeCompare(_.value.outlet))}(ue),(0,X.of)(ue)}))}processSegment(S,_,b,O,K,ue){return(0,Z.D)(_).pipe((0,Jt.b)(Ue=>this.processSegmentAgainstRoute(Ue._injector??S,_,Ue,b,O,K,ue).pipe((0,Re.K)($e=>{if($e instanceof rr)return(0,X.of)(null);throw $e}))),vt(Ue=>!!Ue),(0,Re.K)(Ue=>{if(Wt(Ue))return function Ot(E,S,_){return 0===S.length&&!E.children[_]}(b,O,K)?(0,X.of)([]):B(b);throw Ue}))}processSegmentAgainstRoute(S,_,b,O,K,ue,Ue){return function Kt(E,S,_,b){return!!(Ti(E)===b||b!==pt&&Yt(S,_,E))&&("**"===E.path||ge(S,E,_).matched)}(b,O,K,ue)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(S,O,b,K,ue,Ue):Ue&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,O,_,b,K,ue):B(O):B(O)}expandSegmentAgainstRouteUsingRedirect(S,_,b,O,K,ue){return"**"===O.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,b,O,ue):this.expandRegularSegmentAgainstRouteUsingRedirect(S,_,b,O,K,ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,_,b,O){const K=this.applyRedirects.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?m(K):this.applyRedirects.lineralizeSegments(b,K).pipe((0,Zt.z)(ue=>{const Ue=new tn(ue,{});return this.processSegment(S,_,Ue,ue,O,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,_,b,O,K,ue){const{matched:Ue,consumedSegments:$e,remainingSegments:wt,positionalParamSegments:Rn}=ge(_,O,K);if(!Ue)return B(_);const Vn=this.applyRedirects.applyRedirectCommands($e,O.redirectTo,Rn);return O.redirectTo.startsWith("/")?m(Vn):this.applyRedirects.lineralizeSegments(O,Vn).pipe((0,Zt.z)(ir=>this.processSegment(S,b,_,ir.concat(wt),ue,!1)))}matchSegmentAgainstRoute(S,_,b,O,K,ue){let Ue;if("**"===b.path){const $e=O.length>0?Vr(O).parameters:{},wt=new Kn(O,$e,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ds(b),Ti(b),b.component??b._loadedComponent??null,b,ii(b));Ue=(0,X.of)({snapshot:wt,consumedSegments:[],remainingSegments:[]}),_.children={}}else Ue=pe(_,b,O,S).pipe((0,ye.U)(({matched:$e,consumedSegments:wt,remainingSegments:Rn,parameters:Vn})=>$e?{snapshot:new Kn(wt,Vn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ds(b),Ti(b),b.component??b._loadedComponent??null,b,ii(b)),consumedSegments:wt,remainingSegments:Rn}:null));return Ue.pipe((0,Ye.w)($e=>null===$e?B(_):this.getChildConfig(S=b._injector??S,b,O).pipe((0,Ye.w)(({routes:wt})=>{const Rn=b._loadedInjector??S,{snapshot:Vn,consumedSegments:ir,remainingSegments:Ao}=$e,{segmentGroup:Ss,slicedSegments:Go}=xe(_,ir,Ao,wt);if(0===Go.length&&Ss.hasChildren())return this.processChildren(Rn,wt,Ss).pipe((0,ye.U)(Ni=>null===Ni?null:[new fr(Vn,Ni)]));if(0===wt.length&&0===Go.length)return(0,X.of)([new fr(Vn,[])]);const Ca=Ti(b)===K;return this.processSegment(Rn,wt,Ss,Go,Ca?pt:K,!0).pipe((0,ye.U)(Ni=>[new fr(Vn,Ni)]))}))))}getChildConfig(S,_,b){return _.children?(0,X.of)({routes:_.children,injector:S}):_.loadChildren?void 0!==_._loadedRoutes?(0,X.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function $r(E,S,_,b){const O=S.canLoad;if(void 0===O||0===O.length)return(0,X.of)(!0);const K=O.map(ue=>{const Ue=Dn(ue,E);return yr(function L(E){return E&&so(E.canLoad)}(Ue)?Ue.canLoad(S,_):E.runInContext(()=>Ue(S,_)))});return(0,X.of)(K).pipe(fn(),Ir())}(S,_,b).pipe((0,Zt.z)(O=>O?this.configLoader.loadChildren(S,_).pipe((0,Rt.b)(K=>{_._loadedRoutes=K.routes,_._loadedInjector=K.injector})):function P(E){return(0,Ze._)(xs(!1,3))}())):(0,X.of)({routes:[],injector:S})}}function Qi(E){const S=E.value.routeConfig;return S&&""===S.path}function Yr(E){const S=[],_=new Set;for(const b of E){if(!Qi(b)){S.push(b);continue}const O=S.find(K=>b.value.routeConfig===K.value.routeConfig);void 0!==O?(O.children.push(...b.children),_.add(O)):S.push(b)}for(const b of _){const O=Yr(b.children);S.push(new fr(b.value,O))}return S.filter(b=>!_.has(b))}function Ds(E){return E.data||{}}function ii(E){return E.resolve||{}}function $(E){return"string"==typeof E.title||null===E.title}function M(E){return(0,Ye.w)(S=>{const _=E(S);return _?(0,Z.D)(_).pipe((0,ye.U)(()=>S)):(0,X.of)(S)})}const N=new y.OlP("ROUTES");let te=(()=>{class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,X.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const b=yr(_.loadComponent()).pipe((0,ye.U)(_t),(0,Rt.b)(K=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=K}),(0,Ce.x)(()=>{this.componentLoaders.delete(_)})),O=new Mt(b,()=>new le.x).pipe(ln());return this.componentLoaders.set(_,O),O}loadChildren(_,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return(0,X.of)({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const K=function Te(E,S,_,b){return yr(E.loadChildren()).pipe((0,ye.U)(_t),(0,Zt.z)(O=>O instanceof y.YKP||Array.isArray(O)?(0,X.of)(O):(0,Z.D)(S.compileModuleAsync(O))),(0,ye.U)(O=>{b&&b(E);let K,ue,Ue=!1;return Array.isArray(O)?(ue=O,!0):(K=O.create(_).injector,ue=K.get(N,[],{optional:!0,self:!0}).flat()),{routes:ue.map(fi),injector:K}}))}(b,this.compiler,_,this.onLoadEndListener).pipe((0,Ce.x)(()=>{this.childrenLoaders.delete(b)})),ue=new Mt(K,()=>new le.x).pipe(ln());return this.childrenLoaders.set(b,ue),ue}static#e=this.\u0275fac=function(b){return new(b||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function _t(E){return function He(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let Ln=(()=>{class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new le.x,this.transitionAbortSubject=new le.x,this.configLoader=(0,y.f3M)(te),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(_i),this.rootContexts=(0,y.f3M)(es),this.inputBindingEnabled=null!==(0,y.f3M)(ur,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,X.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=O=>this.events.next(new na(O)),this.configLoader.onLoadStartListener=O=>this.events.next(new Hs(O))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const b=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:b})}setupNavigations(_,b,O){return this.transitions=new Ee.X({id:0,currentUrlTree:b,currentRawUrl:b,currentBrowserUrl:b,extractedUrl:_.urlHandlingStrategy.extract(b),urlAfterRedirects:_.urlHandlingStrategy.extract(b),rawUrl:b,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ms,restoredState:null,currentSnapshot:O.snapshot,targetSnapshot:null,currentRouterState:O,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,sn.h)(K=>0!==K.id),(0,ye.U)(K=>({...K,extractedUrl:_.urlHandlingStrategy.extract(K.rawUrl)})),(0,Ye.w)(K=>{this.currentTransition=K;let ue=!1,Ue=!1;return(0,X.of)(K).pipe((0,Rt.b)($e=>{this.currentNavigation={id:$e.id,initialUrl:$e.rawUrl,extractedUrl:$e.extractedUrl,trigger:$e.source,extras:$e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ye.w)($e=>{const wt=$e.currentBrowserUrl.toString(),Rn=!_.navigated||$e.extractedUrl.toString()!==wt||wt!==$e.currentUrlTree.toString();if(!Rn&&"reload"!==($e.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const ir="";return this.events.next(new On($e.id,this.urlSerializer.serialize($e.rawUrl),ir,0)),$e.resolve(null),Le.E}if(_.urlHandlingStrategy.shouldProcessUrl($e.rawUrl))return(0,X.of)($e).pipe((0,Ye.w)(ir=>{const Ao=this.transitions?.getValue();return this.events.next(new $s(ir.id,this.urlSerializer.serialize(ir.extractedUrl),ir.source,ir.restoredState)),Ao!==this.transitions?.getValue()?Le.E:Promise.resolve(ir)}),function Yi(E,S,_,b,O,K){return(0,Zt.z)(ue=>function Rr(E,S,_,b,O,K,ue="emptyOnly"){return new Ai(E,S,_,b,O,ue,K).recognize()}(E,S,_,b,ue.extractedUrl,O,K).pipe((0,ye.U)(({state:Ue,tree:$e})=>({...ue,targetSnapshot:Ue,urlAfterRedirects:$e}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,_.paramsInheritanceStrategy),(0,Rt.b)(ir=>{K.targetSnapshot=ir.targetSnapshot,K.urlAfterRedirects=ir.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ir.urlAfterRedirects};const Ao=new js(ir.id,this.urlSerializer.serialize(ir.extractedUrl),this.urlSerializer.serialize(ir.urlAfterRedirects),ir.targetSnapshot);this.events.next(Ao)}));if(Rn&&_.urlHandlingStrategy.shouldProcessUrl($e.currentRawUrl)){const{id:ir,extractedUrl:Ao,source:Ss,restoredState:Go,extras:Ca}=$e,Ni=new $s(ir,this.urlSerializer.serialize(Ao),Ss,Go);this.events.next(Ni);const fa=Ro(0,this.rootComponentType).snapshot;return this.currentTransition=K={...$e,targetSnapshot:fa,urlAfterRedirects:Ao,extras:{...Ca,skipLocationChange:!1,replaceUrl:!1}},(0,X.of)(K)}{const ir="";return this.events.next(new On($e.id,this.urlSerializer.serialize($e.extractedUrl),ir,1)),$e.resolve(null),Le.E}}),(0,Rt.b)($e=>{const wt=new mo($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot);this.events.next(wt)}),(0,ye.U)($e=>(this.currentTransition=K={...$e,guards:hs($e.targetSnapshot,$e.currentSnapshot,this.rootContexts)},K)),function kn(E,S){return(0,Zt.z)(_=>{const{targetSnapshot:b,currentSnapshot:O,guards:{canActivateChecks:K,canDeactivateChecks:ue}}=_;return 0===ue.length&&0===K.length?(0,X.of)({..._,guardsResult:!0}):function gr(E,S,_,b){return(0,Z.D)(E).pipe((0,Zt.z)(O=>function ni(E,S,_,b,O){const K=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!K||0===K.length)return(0,X.of)(!0);const ue=K.map(Ue=>{const $e=qi(S)??O,wt=Dn(Ue,$e);return yr(function ae(E){return E&&so(E.canDeactivate)}(wt)?wt.canDeactivate(E,S,_,b):$e.runInContext(()=>wt(E,S,_,b))).pipe(vt())});return(0,X.of)(ue).pipe(fn())}(O.component,O.route,_,S,b)),vt(O=>!0!==O,!0))}(ue,b,O,E).pipe((0,Zt.z)(Ue=>Ue&&function Ki(E){return"boolean"==typeof E}(Ue)?function Or(E,S,_,b){return(0,Z.D)(S).pipe((0,Jt.b)(O=>(0,ce.z)(function Di(E,S){return null!==E&&S&&S(new Ei(E)),(0,X.of)(!0)}(O.route.parent,b),function br(E,S){return null!==E&&S&&S(new Xs(E)),(0,X.of)(!0)}(O.route,b),function wr(E,S,_){const b=S[S.length-1],K=S.slice(0,S.length-1).reverse().map(ue=>function sa(E){const S=E.routeConfig?E.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:E,guards:S}:null}(ue)).filter(ue=>null!==ue).map(ue=>(0,De.P)(()=>{const Ue=ue.guards.map($e=>{const wt=qi(ue.node)??_,Rn=Dn($e,wt);return yr(function oe(E){return E&&so(E.canActivateChild)}(Rn)?Rn.canActivateChild(b,E):wt.runInContext(()=>Rn(b,E))).pipe(vt())});return(0,X.of)(Ue).pipe(fn())}));return(0,X.of)(K).pipe(fn())}(E,O.path,_),function Ui(E,S,_){const b=S.routeConfig?S.routeConfig.canActivate:null;if(!b||0===b.length)return(0,X.of)(!0);const O=b.map(K=>(0,De.P)(()=>{const ue=qi(S)??_,Ue=Dn(K,ue);return yr(function V(E){return E&&so(E.canActivate)}(Ue)?Ue.canActivate(S,E):ue.runInContext(()=>Ue(S,E))).pipe(vt())}));return(0,X.of)(O).pipe(fn())}(E,O.route,_))),vt(O=>!0!==O,!0))}(b,K,E,S):(0,X.of)(Ue)),(0,ye.U)(Ue=>({..._,guardsResult:Ue})))})}(this.environmentInjector,$e=>this.events.next($e)),(0,Rt.b)($e=>{if(K.guardsResult=$e.guardsResult,Kr($e.guardsResult))throw vr(0,$e.guardsResult);const wt=new _o($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot,!!$e.guardsResult);this.events.next(wt)}),(0,sn.h)($e=>!!$e.guardsResult||(this.cancelNavigationTransition($e,"",3),!1)),M($e=>{if($e.guards.canActivateChecks.length)return(0,X.of)($e).pipe((0,Rt.b)(wt=>{const Rn=new yo(wt.id,this.urlSerializer.serialize(wt.extractedUrl),this.urlSerializer.serialize(wt.urlAfterRedirects),wt.targetSnapshot);this.events.next(Rn)}),(0,Ye.w)(wt=>{let Rn=!1;return(0,X.of)(wt).pipe(function si(E,S){return(0,Zt.z)(_=>{const{targetSnapshot:b,guards:{canActivateChecks:O}}=_;if(!O.length)return(0,X.of)(_);let K=0;return(0,Z.D)(O).pipe((0,Jt.b)(ue=>function Pr(E,S,_,b){const O=E.routeConfig,K=E._resolve;return void 0!==O?.title&&!$(O)&&(K[jt]=O.title),function To(E,S,_,b){const O=function oo(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===O.length)return(0,X.of)({});const K={};return(0,Z.D)(O).pipe((0,Zt.z)(ue=>function D(E,S,_,b){const O=qi(S)??b,K=Dn(E,O);return yr(K.resolve?K.resolve(S,_):O.runInContext(()=>K(S,_)))}(E[ue],S,_,b).pipe(vt(),(0,Rt.b)(Ue=>{K[ue]=Ue}))),he(1),(0,de.h)(K),(0,Re.K)(ue=>Wt(ue)?Le.E:(0,Ze._)(ue)))}(K,E,S,b).pipe((0,ye.U)(ue=>(E._resolvedData=ue,E.data=Gi(E,_).resolve,O&&$(O)&&(E.data[jt]=O.title),null)))}(ue.route,b,E,S)),(0,Rt.b)(()=>K++),he(1),(0,Zt.z)(ue=>K===O.length?(0,X.of)(_):Le.E))})}(_.paramsInheritanceStrategy,this.environmentInjector),(0,Rt.b)({next:()=>Rn=!0,complete:()=>{Rn||this.cancelNavigationTransition(wt,"",2)}}))}),(0,Rt.b)(wt=>{const Rn=new zi(wt.id,this.urlSerializer.serialize(wt.extractedUrl),this.urlSerializer.serialize(wt.urlAfterRedirects),wt.targetSnapshot);this.events.next(Rn)}))}),M($e=>{const wt=Rn=>{const Vn=[];Rn.routeConfig?.loadComponent&&!Rn.routeConfig._loadedComponent&&Vn.push(this.configLoader.loadComponent(Rn.routeConfig).pipe((0,Rt.b)(ir=>{Rn.component=ir}),(0,ye.U)(()=>{})));for(const ir of Rn.children)Vn.push(...wt(ir));return Vn};return(0,Me.a)(wt($e.targetSnapshot.root)).pipe(zn(),(0,st.q)(1))}),M(()=>this.afterPreactivation()),(0,ye.U)($e=>{const wt=function ro(E,S,_){const b=on(E,S._root,_?_._root:void 0);return new ei(b,S)}(_.routeReuseStrategy,$e.targetSnapshot,$e.currentRouterState);return this.currentTransition=K={...$e,targetRouterState:wt},K}),(0,Rt.b)(()=>{this.events.next(new zs)}),((E,S,_,b)=>(0,ye.U)(O=>(new Fr(S,O.targetRouterState,O.currentRouterState,_,b).activate(E),O)))(this.rootContexts,_.routeReuseStrategy,$e=>this.events.next($e),this.inputBindingEnabled),(0,st.q)(1),(0,Rt.b)({next:$e=>{ue=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new as($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects))),_.titleStrategy?.updateTitle($e.targetRouterState.snapshot),$e.resolve(!0)},complete:()=>{ue=!0}}),(0,Se.R)(this.transitionAbortSubject.pipe((0,Rt.b)($e=>{throw $e}))),(0,Ce.x)(()=>{ue||Ue||this.cancelNavigationTransition(K,"",1),this.currentNavigation?.id===K.id&&(this.currentNavigation=null)}),(0,Re.K)($e=>{if(Ue=!0,ls($e))this.events.next(new Ts(K.id,this.urlSerializer.serialize(K.extractedUrl),$e.message,$e.cancellationCode)),function hi(E){return ls(E)&&Kr(E.url)}($e)?this.events.next(new to($e.url)):K.resolve(!1);else{this.events.next(new us(K.id,this.urlSerializer.serialize(K.extractedUrl),$e,K.targetSnapshot??void 0));try{K.resolve(_.errorHandler($e))}catch(wt){K.reject(wt)}}return Le.E}))}))}cancelNavigationTransition(_,b,O){const K=new Ts(_.id,this.urlSerializer.serialize(_.extractedUrl),b,O);this.events.next(K),_.resolve(!1)}static#e=this.\u0275fac=function(b){return new(b||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function Sn(E){return E!==Ms}let $n=(()=>{class E{buildTitle(_){let b,O=_.root;for(;void 0!==O;)b=this.getResolvedTitleForRoute(O)??b,O=O.children.find(K=>K.outlet===pt);return b}getResolvedTitleForRoute(_){return _.data[jt]}static#e=this.\u0275fac=function(b){return new(b||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:function(){return(0,y.f3M)(Gt)},providedIn:"root"})}return E})(),Gt=(()=>{class E extends $n{constructor(_){super(),this.title=_}updateTitle(_){const b=this.buildTitle(_);void 0!==b&&this.title.setTitle(b)}static#e=this.\u0275fac=function(b){return new(b||E)(y.LFG($t.Dx))};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})(),xr=(()=>{class E{static#e=this.\u0275fac=function(b){return new(b||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:function(){return(0,y.f3M)(Fn)},providedIn:"root"})}return E})();class mr{shouldDetach(S){return!1}store(S,_){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,_){return S.routeConfig===_.routeConfig}}let Fn=(()=>{class E extends mr{static#e=this.\u0275fac=function(){let _;return function(O){return(_||(_=y.n5z(E)))(O||E)}}();static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();const Zr=new y.OlP("",{providedIn:"root",factory:()=>({})});let jn=(()=>{class E{static#e=this.\u0275fac=function(b){return new(b||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:function(){return(0,y.f3M)(ts)},providedIn:"root"})}return E})(),ts=(()=>{class E{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,b){return _}static#e=this.\u0275fac=function(b){return new(b||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();var Dr=function(E){return E[E.COMPLETE=0]="COMPLETE",E[E.FAILED=1]="FAILED",E[E.REDIRECTING=2]="REDIRECTING",E}(Dr||{});function Fs(E,S){E.events.pipe((0,sn.h)(_=>_ instanceof as||_ instanceof Ts||_ instanceof us||_ instanceof On),(0,ye.U)(_=>_ instanceof as||_ instanceof On?Dr.COMPLETE:_ instanceof Ts&&(0===_.code||1===_.code)?Dr.REDIRECTING:Dr.FAILED),(0,sn.h)(_=>_!==Dr.REDIRECTING),(0,st.q)(1)).subscribe(()=>{S()})}function fs(E){throw E}function ot(E,S,_){return S.parse("/")}const Mi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let As=(()=>{class E{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this._events=new le.x,this.options=(0,y.f3M)(Zr,{optional:!0})||{},this.pendingTasks=(0,y.f3M)(y.HDt),this.errorHandler=this.options.errorHandler||fs,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ot,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(jn),this.routeReuseStrategy=(0,y.f3M)(xr),this.titleStrategy=(0,y.f3M)($n),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,y.f3M)(N,{optional:!0})?.flat()??[],this.navigationTransitions=(0,y.f3M)(Ln),this.urlSerializer=(0,y.f3M)(_i),this.location=(0,y.f3M)(We.Ye),this.componentInputBindingEnabled=!!(0,y.f3M)(ur,{optional:!0}),this.eventsSubscription=new Qe.w0,this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new wn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ro(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const _=this.navigationTransitions.events.subscribe(b=>{try{const{currentTransition:O}=this.navigationTransitions;if(null===O)return void(Ut(b)&&this._events.next(b));if(b instanceof $s)Sn(O.source)&&(this.browserUrlTree=O.extractedUrl);else if(b instanceof On)this.rawUrlTree=O.rawUrl;else if(b instanceof js){if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const K=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(K,O)}this.browserUrlTree=O.urlAfterRedirects}}else if(b instanceof zs)this.currentUrlTree=O.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl),this.routerState=O.targetRouterState,"deferred"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,O),this.browserUrlTree=O.urlAfterRedirects);else if(b instanceof Ts)0!==b.code&&1!==b.code&&(this.navigated=!0),(3===b.code||2===b.code)&&this.restoreHistory(O);else if(b instanceof to){const K=this.urlHandlingStrategy.merge(b.url,O.currentRawUrl),ue={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Sn(O.source)};this.scheduleNavigation(K,Ms,null,ue,{resolve:O.resolve,reject:O.reject,promise:O.promise})}b instanceof us&&this.restoreHistory(O,!0),b instanceof as&&(this.navigated=!0),Ut(b)&&this._events.next(b)}catch(O){this.navigationTransitions.transitionAbortSubject.next(O)}});this.eventsSubscription.add(_)}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ms,_)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const b="popstate"===_.type?"popstate":"hashchange";"popstate"===b&&setTimeout(()=>{this.navigateToSyncWithBrowser(_.url,b,_.state)},0)}))}navigateToSyncWithBrowser(_,b,O){const K={replaceUrl:!0},ue=O?.navigationId?O:null;if(O){const $e={...O};delete $e.navigationId,delete $e.\u0275routerPageId,0!==Object.keys($e).length&&(K.state=$e)}const Ue=this.parseUrl(_);this.scheduleNavigation(Ue,b,ue,K)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(fi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(_,b={}){const{relativeTo:O,queryParams:K,fragment:ue,queryParamsHandling:Ue,preserveFragment:$e}=b,wt=$e?this.currentUrlTree.fragment:ue;let Vn,Rn=null;switch(Ue){case"merge":Rn={...this.currentUrlTree.queryParams,...K};break;case"preserve":Rn=this.currentUrlTree.queryParams;break;default:Rn=K||null}null!==Rn&&(Rn=this.removeEmptyProps(Rn));try{Vn=qe(O?O.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||!_[0].startsWith("/"))&&(_=[]),Vn=this.currentUrlTree.root}return Ne(Vn,_,Rn,wt??null)}navigateByUrl(_,b={skipLocationChange:!1}){const O=Kr(_)?_:this.parseUrl(_),K=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation(K,Ms,null,b)}navigate(_,b={skipLocationChange:!1}){return function Bt(E){for(let S=0;S<E.length;S++)if(null==E[S])throw new y.vHH(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,b),b)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let b;try{b=this.urlSerializer.parse(_)}catch(O){b=this.malformedUriErrorHandler(O,this.urlSerializer,_)}return b}isActive(_,b){let O;if(O=!0===b?{...Mi}:!1===b?{...Qn}:b,Kr(_))return Ur(this.currentUrlTree,_,O);const K=this.parseUrl(_);return Ur(this.currentUrlTree,K,O)}removeEmptyProps(_){return Object.keys(_).reduce((b,O)=>{const K=_[O];return null!=K&&(b[O]=K),b},{})}scheduleNavigation(_,b,O,K,ue){if(this.disposed)return Promise.resolve(!1);let Ue,$e,wt;ue?(Ue=ue.resolve,$e=ue.reject,wt=ue.promise):wt=new Promise((Vn,ir)=>{Ue=Vn,$e=ir});const Rn=this.pendingTasks.add();return Fs(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Rn))}),this.navigationTransitions.handleNavigationRequest({source:b,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:_,extras:K,resolve:Ue,reject:$e,promise:wt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),wt.catch(Vn=>Promise.reject(Vn))}setBrowserUrl(_,b){const O=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(O)||b.extras.replaceUrl){const ue={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId)};this.location.replaceState(O,"",ue)}else{const K={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId+1)};this.location.go(O,"",K)}}restoreHistory(_,b=!1){if("computed"===this.canceledNavigationResolution){const K=this.currentPageId-this.browserPageId;0!==K?this.location.historyGo(K):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===K&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,b){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:b}:{navigationId:_}}static#e=this.\u0275fac=function(b){return new(b||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();function Ut(E){return!(E instanceof zs||E instanceof to)}let lc=(()=>{class E{constructor(_,b,O,K,ue,Ue){this.router=_,this.route=b,this.tabIndexAttribute=O,this.renderer=K,this.el=ue,this.locationStrategy=Ue,this.href=null,this.commands=null,this.onChanges=new le.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const $e=ue.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===$e||"area"===$e,this.isAnchorElement?this.subscription=_.events.subscribe(wt=>{wt instanceof as&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,b,O,K,ue){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||b||O||K||ue||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _=null===this.href?null:(0,y.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_)}applyAttributeValue(_,b){const O=this.renderer,K=this.el.nativeElement;null!==b?O.setAttribute(K,_,b):O.removeAttribute(K,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(b){return new(b||E)(y.Y36(As),y.Y36(di),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(We.S$))};static#t=this.\u0275dir=y.lG2({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,O){1&b&&y.NdJ("click",function(ue){return O.onClick(ue.button,ue.ctrlKey,ue.shiftKey,ue.altKey,ue.metaKey)}),2&b&&y.uIk("target",O.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",y.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",y.VuI],replaceUrl:["replaceUrl","replaceUrl",y.VuI],routerLink:"routerLink"},standalone:!0,features:[y.Xq5,y.TTD]})}return E})();class rt{}let Dh=(()=>{class E{constructor(_,b,O,K,ue){this.router=_,this.injector=O,this.preloadingStrategy=K,this.loader=ue}setUpPreloading(){this.subscription=this.router.events.pipe((0,sn.h)(_=>_ instanceof as),(0,Jt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,b){const O=[];for(const K of b){K.providers&&!K._injector&&(K._injector=(0,y.MMx)(K.providers,_,`Route: ${K.path}`));const ue=K._injector??_,Ue=K._loadedInjector??ue;(K.loadChildren&&!K._loadedRoutes&&void 0===K.canLoad||K.loadComponent&&!K._loadedComponent)&&O.push(this.preloadConfig(ue,K)),(K.children||K._loadedRoutes)&&O.push(this.processRoutes(Ue,K.children??K._loadedRoutes))}return(0,Z.D)(O).pipe((0,gt.J)())}preloadConfig(_,b){return this.preloadingStrategy.preload(b,()=>{let O;O=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(_,b):(0,X.of)(null);const K=O.pipe((0,Zt.z)(ue=>null===ue?(0,X.of)(void 0):(b._loadedRoutes=ue.routes,b._loadedInjector=ue.injector,this.processRoutes(ue.injector??_,ue.routes))));if(b.loadComponent&&!b._loadedComponent){const ue=this.loader.loadComponent(b);return(0,Z.D)([K,ue]).pipe((0,gt.J)())}return K})}static#e=this.\u0275fac=function(b){return new(b||E)(y.LFG(As),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(rt),y.LFG(te))};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})();const go=new y.OlP("");let jo=(()=>{class E{constructor(_,b,O,K,ue={}){this.urlSerializer=_,this.transitions=b,this.viewportScroller=O,this.zone=K,this.options=ue,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ue.scrollPositionRestoration=ue.scrollPositionRestoration||"disabled",ue.anchorScrolling=ue.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof $s?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof as?(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment)):_ instanceof On&&0===_.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof eo&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,b){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new eo(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(b){y.$Z()};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac})}return E})();function wo(E,S){return{\u0275kind:E,\u0275providers:S}}function vn(){const E=(0,y.f3M)(y.zs3);return S=>{const _=E.get(y.z2F);if(S!==_.components[0])return;const b=E.get(As),O=E.get(Ho);1===E.get(dc)&&b.initialNavigation(),E.get(tr,null,y.XFs.Optional)?.setUpPreloading(),E.get(go,null,y.XFs.Optional)?.init(),b.resetRootComponentType(_.componentTypes[0]),O.closed||(O.next(),O.complete(),O.unsubscribe())}}const Ho=new y.OlP("",{factory:()=>new le.x}),dc=new y.OlP("",{providedIn:"root",factory:()=>1}),tr=new y.OlP("");function nd(E){return wo(0,[{provide:tr,useExisting:Dh},{provide:rt,useExisting:E}])}const hc=new y.OlP("ROUTER_FORROOT_GUARD"),xo=[We.Ye,{provide:_i,useClass:Wr},As,es,{provide:di,useFactory:function tl(E){return E.routerState.root},deps:[As]},te,[]];function ps(){return new y.PXZ("Router",As)}let Hr=(()=>{class E{constructor(_){}static forRoot(_,b){return{ngModule:E,providers:[xo,[],{provide:N,multi:!0,useValue:_},{provide:hc,useFactory:ha,deps:[[As,new y.FiY,new y.tp0]]},{provide:Zr,useValue:b||{}},b?.useHash?{provide:We.S$,useClass:We.Do}:{provide:We.S$,useClass:We.b0},{provide:go,useFactory:()=>{const E=(0,y.f3M)(We.EM),S=(0,y.f3M)(y.R0b),_=(0,y.f3M)(Zr),b=(0,y.f3M)(Ln),O=(0,y.f3M)(_i);return _.scrollOffset&&E.setOffset(_.scrollOffset),new jo(O,b,E,S,_)}},b?.preloadingStrategy?nd(b.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:ps},b?.initialNavigation?il(b):[],b?.bindToComponentInputs?wo(8,[Os,{provide:ur,useExisting:Os}]).\u0275providers:[],[{provide:rd,useFactory:vn},{provide:y.tb,multi:!0,useExisting:rd}]]}}static forChild(_){return{ngModule:E,providers:[{provide:N,multi:!0,useValue:_}]}}static#e=this.\u0275fac=function(b){return new(b||E)(y.LFG(hc,8))};static#t=this.\u0275mod=y.oAB({type:E});static#n=this.\u0275inj=y.cJS({})}return E})();function ha(E){return"guarded"}function il(E){return["disabled"===E.initialNavigation?wo(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const S=(0,y.f3M)(As);return()=>{S.setUpLocationChangeListener()}}},{provide:dc,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?wo(2,[{provide:dc,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:S=>{const _=S.get(We.V_,Promise.resolve());return()=>_.then(()=>new Promise(b=>{const O=S.get(As),K=S.get(Ho);Fs(O,()=>{b(!0)}),S.get(Ln).afterPreactivation=()=>(b(!0),K.closed?(0,X.of)(void 0):K),O.initialNavigation()}))}}]).\u0275providers:[]]}const rd=new y.OlP("")},534:(bt,Be,U)=>{U.d(Be,{Jn:()=>Wr,qX:()=>tn,Xd:()=>wn,Mq:()=>qn,C6:()=>ci,ZF:()=>Hi,KN:()=>Xr});var y=U(5861),re=U(4537),ve=U(7879),se=U(9058);const Z=(qe,Ne)=>Ne.some(it=>qe instanceof it);let X,Ee;const ee=new WeakMap,ce=new WeakMap,De=new WeakMap,Ae=new WeakMap,Ze=new WeakMap;let yt={get(qe,Ne,it){if(qe instanceof IDBTransaction){if("done"===Ne)return ce.get(qe);if("objectStoreNames"===Ne)return qe.objectStoreNames||De.get(qe);if("store"===Ne)return it.objectStoreNames[1]?void 0:it.objectStore(it.objectStoreNames[0])}return le(qe[Ne])},set:(qe,Ne,it)=>(qe[Ne]=it,!0),has:(qe,Ne)=>qe instanceof IDBTransaction&&("done"===Ne||"store"===Ne)||Ne in qe};function Mt(qe){return"function"==typeof qe?function ln(qe){return qe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(qe)?function(...Ne){return qe.apply(We(this),Ne),le(ee.get(this))}:function(...Ne){return le(qe.apply(We(this),Ne))}:function(Ne,...it){const Ft=qe.call(We(this),Ne,...it);return De.set(Ft,Ne.sort?Ne.sort():[Ne]),le(Ft)}}(qe):(qe instanceof IDBTransaction&&function Qe(qe){if(ce.has(qe))return;const Ne=new Promise((it,Ft)=>{const nn=()=>{qe.removeEventListener("complete",Tt),qe.removeEventListener("error",Pn),qe.removeEventListener("abort",Pn)},Tt=()=>{it(),nn()},Pn=()=>{Ft(qe.error||new DOMException("AbortError","AbortError")),nn()};qe.addEventListener("complete",Tt),qe.addEventListener("error",Pn),qe.addEventListener("abort",Pn)});ce.set(qe,Ne)}(qe),Z(qe,function Me(){return X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(qe,yt):qe)}function le(qe){if(qe instanceof IDBRequest)return function Le(qe){const Ne=new Promise((it,Ft)=>{const nn=()=>{qe.removeEventListener("success",Tt),qe.removeEventListener("error",Pn)},Tt=()=>{it(le(qe.result)),nn()},Pn=()=>{Ft(qe.error),nn()};qe.addEventListener("success",Tt),qe.addEventListener("error",Pn)});return Ne.then(it=>{it instanceof IDBCursor&&ee.set(it,qe)}).catch(()=>{}),Ze.set(Ne,qe),Ne}(qe);if(Ae.has(qe))return Ae.get(qe);const Ne=Mt(qe);return Ne!==qe&&(Ae.set(qe,Ne),Ze.set(Ne,qe)),Ne}const We=qe=>Ze.get(qe),st=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],sn=new Map;function Zt(qe,Ne){if(!(qe instanceof IDBDatabase)||Ne in qe||"string"!=typeof Ne)return;if(sn.get(Ne))return sn.get(Ne);const it=Ne.replace(/FromIndex$/,""),Ft=Ne!==it,nn=ct.includes(it);if(!(it in(Ft?IDBIndex:IDBObjectStore).prototype)||!nn&&!st.includes(it))return;const Tt=function(){var Pn=(0,y.Z)(function*(hr,...Jn){const Rs=this.transaction(hr,nn?"readwrite":"readonly");let vi=Rs.store;return Ft&&(vi=vi.index(Jn.shift())),(yield Promise.all([vi[it](...Jn),nn&&Rs.done]))[0]});return function(Jn){return Pn.apply(this,arguments)}}();return sn.set(Ne,Tt),Tt}!function At(qe){yt=qe(yt)}(qe=>({...qe,get:(Ne,it,Ft)=>Zt(Ne,it)||qe.get(Ne,it,Ft),has:(Ne,it)=>!!Zt(Ne,it)||qe.has(Ne,it)}));class zn{constructor(Ne){this.container=Ne}getPlatformInfoString(){return this.container.getProviders().map(it=>{if(function lt(qe){const Ne=qe.getComponent();return"VERSION"===Ne?.type}(it)){const Ft=it.getImmediate();return`${Ft.library}/${Ft.version}`}return null}).filter(it=>it).join(" ")}}const Nn="@firebase/app",vt=new ve.Yd("@firebase/app"),en="[DEFAULT]",yn={[Nn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hn=new Map,Xn=new Map;function Ri(qe,Ne){try{qe.container.addComponent(Ne)}catch(it){vt.debug(`Component ${Ne.name} failed to register with FirebaseApp ${qe.name}`,it)}}function wn(qe){const Ne=qe.name;if(Xn.has(Ne))return vt.debug(`There were multiple attempts to register component ${Ne}.`),!1;Xn.set(Ne,qe);for(const it of hn.values())Ri(it,qe);return!0}function tn(qe,Ne){const it=qe.container.getProvider("heartbeat").getImmediate({optional:!0});return it&&it.triggerHeartbeat(),qe.container.getProvider(Ne)}const pn=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class _i{constructor(Ne,it,Ft){this._isDeleted=!1,this._options=Object.assign({},Ne),this._config=Object.assign({},it),this._name=it.name,this._automaticDataCollectionEnabled=it.automaticDataCollectionEnabled,this._container=Ft,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ne){this._isDeleted=Ne}checkDestroyed(){if(this.isDeleted)throw pn.create("app-deleted",{appName:this._name})}}const Wr="10.6.0";function Hi(qe,Ne={}){let it=qe;"object"!=typeof Ne&&(Ne={name:Ne});const Ft=Object.assign({name:en,automaticDataCollectionEnabled:!1},Ne),nn=Ft.name;if("string"!=typeof nn||!nn)throw pn.create("bad-app-name",{appName:String(nn)});if(it||(it=(0,se.aH)()),!it)throw pn.create("no-options");const Tt=hn.get(nn);if(Tt){if((0,se.vZ)(it,Tt.options)&&(0,se.vZ)(Ft,Tt.config))return Tt;throw pn.create("duplicate-app",{appName:nn})}const Pn=new re.H0(nn);for(const Jn of Xn.values())Pn.addComponent(Jn);const hr=new _i(it,Ft,Pn);return hn.set(nn,hr),hr}function qn(qe=en){const Ne=hn.get(qe);if(!Ne&&qe===en&&(0,se.aH)())return Hi();if(!Ne)throw pn.create("no-app",{appName:qe});return Ne}function ci(){return Array.from(hn.values())}function Xr(qe,Ne,it){var Ft;let nn=null!==(Ft=yn[qe])&&void 0!==Ft?Ft:qe;it&&(nn+=`-${it}`);const Tt=nn.match(/\s|\//),Pn=Ne.match(/\s|\//);if(Tt||Pn){const hr=[`Unable to register library "${nn}" with version "${Ne}":`];return Tt&&hr.push(`library name "${nn}" contains illegal characters (whitespace or "/")`),Tt&&Pn&&hr.push("and"),Pn&&hr.push(`version name "${Ne}" contains illegal characters (whitespace or "/")`),void vt.warn(hr.join(" "))}wn(new re.wA(`${nn}-version`,()=>({library:nn,version:Ne}),"VERSION"))}const li="firebase-heartbeat-database",Li=1,fe="firebase-heartbeat-store";let W=null;function Q(){return W||(W=function ye(qe,Ne,{blocked:it,upgrade:Ft,blocking:nn,terminated:Tt}={}){const Pn=indexedDB.open(qe,Ne),hr=le(Pn);return Ft&&Pn.addEventListener("upgradeneeded",Jn=>{Ft(le(Pn.result),Jn.oldVersion,Jn.newVersion,le(Pn.transaction),Jn)}),it&&Pn.addEventListener("blocked",Jn=>it(Jn.oldVersion,Jn.newVersion,Jn)),hr.then(Jn=>{Tt&&Jn.addEventListener("close",()=>Tt()),nn&&Jn.addEventListener("versionchange",Rs=>nn(Rs.oldVersion,Rs.newVersion,Rs))}).catch(()=>{}),hr}(li,Li,{upgrade:(qe,Ne)=>{0===Ne&&qe.createObjectStore(fe)}}).catch(qe=>{throw pn.create("idb-open",{originalErrorMessage:qe.message})})),W}function q(){return(q=(0,y.Z)(function*(qe){try{return yield(yield Q()).transaction(fe).objectStore(fe).get(ht(qe))}catch(Ne){if(Ne instanceof se.ZR)vt.warn(Ne.message);else{const it=pn.create("idb-get",{originalErrorMessage:Ne?.message});vt.warn(it.message)}}})).apply(this,arguments)}function be(qe,Ne){return et.apply(this,arguments)}function et(){return(et=(0,y.Z)(function*(qe,Ne){try{const Ft=(yield Q()).transaction(fe,"readwrite");yield Ft.objectStore(fe).put(Ne,ht(qe)),yield Ft.done}catch(it){if(it instanceof se.ZR)vt.warn(it.message);else{const Ft=pn.create("idb-set",{originalErrorMessage:it?.message});vt.warn(Ft.message)}}})).apply(this,arguments)}function ht(qe){return`${qe.name}!${qe.options.appId}`}class Pt{constructor(Ne){this.container=Ne,this._heartbeatsCache=null;const it=this.container.getProvider("app").getImmediate();this._storage=new qr(it),this._heartbeatsCachePromise=this._storage.read().then(Ft=>(this._heartbeatsCache=Ft,Ft))}triggerHeartbeat(){var Ne=this;return(0,y.Z)(function*(){var it;const nn=Ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Tt=Qt();if(null==(null===(it=Ne._heartbeatsCache)||void 0===it?void 0:it.heartbeats)&&(Ne._heartbeatsCache=yield Ne._heartbeatsCachePromise),Ne._heartbeatsCache.lastSentHeartbeatDate!==Tt&&!Ne._heartbeatsCache.heartbeats.some(Pn=>Pn.date===Tt))return Ne._heartbeatsCache.heartbeats.push({date:Tt,agent:nn}),Ne._heartbeatsCache.heartbeats=Ne._heartbeatsCache.heartbeats.filter(Pn=>{const hr=new Date(Pn.date).valueOf();return Date.now()-hr<=2592e6}),Ne._storage.overwrite(Ne._heartbeatsCache)})()}getHeartbeatsHeader(){var Ne=this;return(0,y.Z)(function*(){var it;if(null===Ne._heartbeatsCache&&(yield Ne._heartbeatsCachePromise),null==(null===(it=Ne._heartbeatsCache)||void 0===it?void 0:it.heartbeats)||0===Ne._heartbeatsCache.heartbeats.length)return"";const Ft=Qt(),{heartbeatsToSend:nn,unsentEntries:Tt}=function Zn(qe,Ne=1024){const it=[];let Ft=qe.slice();for(const nn of qe){const Tt=it.find(Pn=>Pn.agent===nn.agent);if(Tt){if(Tt.dates.push(nn.date),Kr(it)>Ne){Tt.dates.pop();break}}else if(it.push({agent:nn.agent,dates:[nn.date]}),Kr(it)>Ne){it.pop();break}Ft=Ft.slice(1)}return{heartbeatsToSend:it,unsentEntries:Ft}}(Ne._heartbeatsCache.heartbeats),Pn=(0,se.L)(JSON.stringify({version:2,heartbeats:nn}));return Ne._heartbeatsCache.lastSentHeartbeatDate=Ft,Tt.length>0?(Ne._heartbeatsCache.heartbeats=Tt,yield Ne._storage.overwrite(Ne._heartbeatsCache)):(Ne._heartbeatsCache.heartbeats=[],Ne._storage.overwrite(Ne._heartbeatsCache)),Pn})()}}function Qt(){return(new Date).toISOString().substring(0,10)}class qr{constructor(Ne){this.app=Ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ne=this;return(0,y.Z)(function*(){return(yield Ne._canUseIndexedDBPromise)&&(yield function G(qe){return q.apply(this,arguments)}(Ne.app))||{heartbeats:[]}})()}overwrite(Ne){var it=this;return(0,y.Z)(function*(){var Ft;if(yield it._canUseIndexedDBPromise){const Tt=yield it.read();return be(it.app,{lastSentHeartbeatDate:null!==(Ft=Ne.lastSentHeartbeatDate)&&void 0!==Ft?Ft:Tt.lastSentHeartbeatDate,heartbeats:Ne.heartbeats})}})()}add(Ne){var it=this;return(0,y.Z)(function*(){var Ft;if(yield it._canUseIndexedDBPromise){const Tt=yield it.read();return be(it.app,{lastSentHeartbeatDate:null!==(Ft=Ne.lastSentHeartbeatDate)&&void 0!==Ft?Ft:Tt.lastSentHeartbeatDate,heartbeats:[...Tt.heartbeats,...Ne.heartbeats]})}})()}}function Kr(qe){return(0,se.L)(JSON.stringify({version:2,heartbeats:qe})).length}!function Nr(qe){wn(new re.wA("platform-logger",Ne=>new zn(Ne),"PRIVATE")),wn(new re.wA("heartbeat",Ne=>new Pt(Ne),"PRIVATE")),Xr(Nn,"0.9.23",qe),Xr(Nn,"0.9.23","esm2017"),Xr("fire-js","")}("")},4537:(bt,Be,U)=>{U.d(Be,{H0:()=>Me,wA:()=>ve});var y=U(5861),re=U(9058);class ve{constructor(ee,ce,De){this.name=ee,this.instanceFactory=ce,this.type=De,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const se="[DEFAULT]";class Z{constructor(ee,ce){this.name=ee,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ce=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ce)){const De=new re.BH;if(this.instancesDeferred.set(ce,De),this.isInitialized(ce)||this.shouldAutoInitialize())try{const Ae=this.getOrInitializeService({instanceIdentifier:ce});Ae&&De.resolve(Ae)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(ee){var ce;const De=this.normalizeInstanceIdentifier(ee?.identifier),Ae=null!==(ce=ee?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(De)&&!this.shouldAutoInitialize()){if(Ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:De})}catch(Ze){if(Ae)return null;throw Ze}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Ee(me){return"EAGER"===me.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[ce,De]of this.instancesDeferred.entries()){const Ae=this.normalizeInstanceIdentifier(ce);try{const Ze=this.getOrInitializeService({instanceIdentifier:Ae});De.resolve(Ze)}catch{}}}}clearInstance(ee=se){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,y.Z)(function*(){const ce=Array.from(ee.instances.values());yield Promise.all([...ce.filter(De=>"INTERNAL"in De).map(De=>De.INTERNAL.delete()),...ce.filter(De=>"_delete"in De).map(De=>De._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=se){return this.instances.has(ee)}getOptions(ee=se){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ce={}}=ee,De=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(De))throw Error(`${this.name}(${De}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ae=this.getOrInitializeService({instanceIdentifier:De,options:ce});for(const[Ze,Le]of this.instancesDeferred.entries())De===this.normalizeInstanceIdentifier(Ze)&&Le.resolve(Ae);return Ae}onInit(ee,ce){var De;const Ae=this.normalizeInstanceIdentifier(ce),Ze=null!==(De=this.onInitCallbacks.get(Ae))&&void 0!==De?De:new Set;Ze.add(ee),this.onInitCallbacks.set(Ae,Ze);const Le=this.instances.get(Ae);return Le&&ee(Le,Ae),()=>{Ze.delete(ee)}}invokeOnInitCallbacks(ee,ce){const De=this.onInitCallbacks.get(ce);if(De)for(const Ae of De)try{Ae(ee,ce)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ce={}}){let De=this.instances.get(ee);if(!De&&this.component&&(De=this.component.instanceFactory(this.container,{instanceIdentifier:(me=ee,me===se?void 0:me),options:ce}),this.instances.set(ee,De),this.instancesOptions.set(ee,ce),this.invokeOnInitCallbacks(De,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,De)}catch{}var me;return De||null}normalizeInstanceIdentifier(ee=se){return this.component?this.component.multipleInstances?ee:se:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ce=this.getProvider(ee.name);if(ce.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ce.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ce=new Z(ee,this);return this.providers.set(ee,ce),ce}getProviders(){return Array.from(this.providers.values())}}},7879:(bt,Be,U)=>{U.d(Be,{Yd:()=>Ee,in:()=>re});const y=[];var re=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(re||{});const ve={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},se=re.INFO,Z={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},X=(ee,ce,...De)=>{if(ce<ee.logLevel)return;const Ae=(new Date).toISOString(),Ze=Z[ce];if(!Ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[Ze](`[${Ae}]  ${ee.name}:`,...De)};class Ee{constructor(ce){this.name=ce,this._logLevel=se,this._logHandler=X,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in re))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?ve[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...ce),this._logHandler(this,re.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...ce),this._logHandler(this,re.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,re.INFO,...ce),this._logHandler(this,re.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,re.WARN,...ce),this._logHandler(this,re.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...ce),this._logHandler(this,re.ERROR,...ce)}}},3182:(bt,Be,U)=>{U.d(Be,{C6:()=>y.C6,KN:()=>y.KN,Mq:()=>y.Mq,ZF:()=>y.ZF});var y=U(534);(0,y.KN)("firebase","10.6.0","app")},2425:(bt,Be,U)=>{U.d(Be,{FM:()=>ln,Rh:()=>Jt,_W:()=>lt});var y=U(5879),re=U(6825),ve=U(6814),se=U(8645),Z=U(6593);const X=["toast-component",""];function Ee(he,je){if(1&he){const de=y.EpF();y.TgZ(0,"button",5),y.NdJ("click",function(){y.CHM(de);const Se=y.oxw();return y.KtG(Se.remove())}),y.TgZ(1,"span",6),y._uU(2,"\xd7"),y.qZA()()}}function Me(he,je){if(1&he&&(y.ynx(0),y._uU(1),y.BQk()),2&he){const de=y.oxw(2);y.xp6(1),y.hij("[",de.duplicatesCount+1,"]")}}function me(he,je){if(1&he&&(y.TgZ(0,"div"),y._uU(1),y.YNc(2,Me,2,1,"ng-container",4),y.qZA()),2&he){const de=y.oxw();y.Tol(de.options.titleClass),y.uIk("aria-label",de.title),y.xp6(1),y.hij(" ",de.title," "),y.xp6(1),y.Q6J("ngIf",de.duplicatesCount)}}function ee(he,je){if(1&he&&y._UZ(0,"div",7),2&he){const de=y.oxw();y.Tol(de.options.messageClass),y.Q6J("innerHTML",de.message,y.oJD)}}function ce(he,je){if(1&he&&(y.TgZ(0,"div",8),y._uU(1),y.qZA()),2&he){const de=y.oxw();y.Tol(de.options.messageClass),y.uIk("aria-label",de.message),y.xp6(1),y.hij(" ",de.message," ")}}function De(he,je){if(1&he&&(y.TgZ(0,"div"),y._UZ(1,"div",9),y.qZA()),2&he){const de=y.oxw();y.xp6(1),y.Udp("width",de.width+"%")}}let ln=(()=>{class he{el;constructor(de){this.el=de}getContainerElement(){return this.el.nativeElement}static \u0275fac=function(Ce){return new(Ce||he)(y.Y36(y.SBq))};static \u0275dir=y.lG2({type:he,selectors:[["","toastContainer",""]],exportAs:["toastContainer"],standalone:!0})}return he})();class Mt{_attachedHost;component;viewContainerRef;injector;constructor(je,de){this.component=je,this.injector=de}attach(je,de){return this._attachedHost=je,je.attach(this,de)}detach(){const je=this._attachedHost;if(je)return this._attachedHost=void 0,je.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(je){this._attachedHost=je}}class le{_attachedPortal;_disposeFn;attach(je,de){return this._attachedPortal=je,this.attachComponentPortal(je,de)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(je){this._disposeFn=je}}class We{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new se.x;_activate=new se.x;_manualClose=new se.x;_resetTimeout=new se.x;_countDuplicate=new se.x;constructor(je){this._overlayRef=je}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(je,de){je&&this._resetTimeout.next(),de&&this._countDuplicate.next(++this.duplicatesCount)}}class ye{toastId;config;message;title;toastType;toastRef;_onTap=new se.x;_onAction=new se.x;constructor(je,de,Ce,Se,gt,$t){this.toastId=je,this.config=de,this.message=Ce,this.title=Se,this.toastType=gt,this.toastRef=$t,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(je){this._onAction.next(je)}onAction(){return this._onAction.asObservable()}}const st=new y.OlP("ToastConfig");class ct extends le{_hostDomElement;_componentFactoryResolver;_appRef;constructor(je,de,Ce){super(),this._hostDomElement=je,this._componentFactoryResolver=de,this._appRef=Ce}attachComponentPortal(je,de){const Ce=this._componentFactoryResolver.resolveComponentFactory(je.component);let Se;return Se=Ce.create(je.injector),this._appRef.attachView(Se.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Se.hostView),Se.destroy()}),de?this._hostDomElement.insertBefore(this._getComponentRootNode(Se),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Se)),Se}_getComponentRootNode(je){return je.hostView.rootNodes[0]}}let sn=(()=>{class he{_document=(0,y.f3M)(ve.K0);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const de=this._document.createElement("div");de.classList.add("overlay-container"),de.setAttribute("aria-live","polite"),this._document.body.appendChild(de),this._containerElement=de}static \u0275fac=function(Ce){return new(Ce||he)};static \u0275prov=y.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})();class Zt{_portalHost;constructor(je){this._portalHost=je}attach(je,de=!0){return this._portalHost.attach(je,de)}detach(){return this._portalHost.detach()}}let zn=(()=>{class he{_overlayContainer=(0,y.f3M)(sn);_componentFactoryResolver=(0,y.f3M)(y._Vd);_appRef=(0,y.f3M)(y.z2F);_document=(0,y.f3M)(ve.K0);_paneElements=new Map;create(de,Ce){return this._createOverlayRef(this.getPaneElement(de,Ce))}getPaneElement(de="",Ce){return this._paneElements.get(Ce)||this._paneElements.set(Ce,{}),this._paneElements.get(Ce)[de]||(this._paneElements.get(Ce)[de]=this._createPaneElement(de,Ce)),this._paneElements.get(Ce)[de]}_createPaneElement(de,Ce){const Se=this._document.createElement("div");return Se.id="toast-container",Se.classList.add(de),Se.classList.add("toast-container"),Ce?Ce.getContainerElement().appendChild(Se):this._overlayContainer.getContainerElement().appendChild(Se),Se}_createPortalHost(de){return new ct(de,this._componentFactoryResolver,this._appRef)}_createOverlayRef(de){return new Zt(this._createPortalHost(de))}static \u0275fac=function(Ce){return new(Ce||he)};static \u0275prov=y.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})(),lt=(()=>{class he{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(de,Ce,Se,gt,$t){this.overlay=Ce,this._injector=Se,this.sanitizer=gt,this.ngZone=$t,this.toastrConfig={...de.default,...de.config},de.config.iconClasses&&(this.toastrConfig.iconClasses={...de.default.iconClasses,...de.config.iconClasses})}show(de,Ce,Se={},gt=""){return this._preBuildNotification(gt,de,Ce,this.applyConfig(Se))}success(de,Ce,Se={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",de,Ce,this.applyConfig(Se))}error(de,Ce,Se={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",de,Ce,this.applyConfig(Se))}info(de,Ce,Se={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",de,Ce,this.applyConfig(Se))}warning(de,Ce,Se={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",de,Ce,this.applyConfig(Se))}clear(de){for(const Ce of this.toasts)if(void 0!==de){if(Ce.toastId===de)return void Ce.toastRef.manualClose()}else Ce.toastRef.manualClose()}remove(de){const Ce=this._findToast(de);if(!Ce||(Ce.activeToast.toastRef.close(),this.toasts.splice(Ce.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Se=this.toasts[this.currentlyActive].toastRef;Se.isInactive()||(this.currentlyActive=this.currentlyActive+1,Se.activate())}return!0}findDuplicate(de="",Ce="",Se,gt){const{includeTitleDuplicates:$t}=this.toastrConfig;for(const pt of this.toasts)if((!$t||$t&&pt.title===de)&&pt.message===Ce)return pt.toastRef.onDuplicate(Se,gt),pt;return null}applyConfig(de={}){return{...this.toastrConfig,...de}}_findToast(de){for(let Ce=0;Ce<this.toasts.length;Ce++)if(this.toasts[Ce].toastId===de)return{index:Ce,activeToast:this.toasts[Ce]};return null}_preBuildNotification(de,Ce,Se,gt){return gt.onActivateTick?this.ngZone.run(()=>this._buildNotification(de,Ce,Se,gt)):this._buildNotification(de,Ce,Se,gt)}_buildNotification(de,Ce,Se,gt){if(!gt.toastComponent)throw new Error("toastComponent required");const $t=this.findDuplicate(Se,Ce,this.toastrConfig.resetTimeoutOnDuplicate&&gt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Se||Ce)&&this.toastrConfig.preventDuplicates&&null!==$t)return $t;this.previousToastMessage=Ce;let pt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(pt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const jt=this.overlay.create(gt.positionClass,this.overlayContainer);this.index=this.index+1;let Tn=Ce;Ce&&gt.enableHtml&&(Tn=this.sanitizer.sanitize(y.q3G.HTML,Ce));const dn=new We(jt),or=new ye(this.index,gt,Tn,Se,de,dn),mn=y.zs3.create({providers:[{provide:ye,useValue:or}],parent:this._injector}),kr=new Mt(gt.toastComponent,mn),Vr=jt.attach(kr,gt.newestOnTop);dn.componentInstance=Vr.instance;const yr={toastId:this.index,title:Se||"",message:Ce||"",toastRef:dn,onShown:dn.afterActivate(),onHidden:dn.afterClosed(),onTap:or.onTap(),onAction:or.onAction(),portal:Vr};return pt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{yr.toastRef.activate()})),this.toasts.push(yr),yr}static \u0275fac=function(Ce){return new(Ce||he)(y.LFG(st),y.LFG(zn),y.LFG(y.zs3),y.LFG(Z.H7),y.LFG(y.R0b))};static \u0275prov=y.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})();const Sr={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class he{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(de,Ce,Se){this.toastrService=de,this.toastPackage=Ce,this.ngZone=Se,this.message=Ce.message,this.title=Ce.title,this.options=Ce.config,this.originalTimeout=Ce.config.timeOut,this.toastClasses=`${Ce.toastType} ${Ce.config.toastClass}`,this.sub=Ce.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ce.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ce.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ce.toastRef.countDuplicate().subscribe(gt=>{this.duplicatesCount=gt}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const de=(new Date).getTime();this.width=(this.hideTime-de)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(de,Ce){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(de),Ce)):this.timeout=setTimeout(()=>de(),Ce)}outsideInterval(de,Ce){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(de),Ce)):this.intervalId=setInterval(()=>de(),Ce)}runInsideAngular(de){this.ngZone?this.ngZone.run(()=>de()):de()}static \u0275fac=function(Ce){return new(Ce||he)(y.Y36(lt),y.Y36(ye),y.Y36(y.R0b))};static \u0275cmp=y.Xpm({type:he,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ce,Se){1&Ce&&y.NdJ("click",function(){return Se.tapToast()})("mouseenter",function(){return Se.stickAround()})("mouseleave",function(){return Se.delayedHideToast()}),2&Ce&&(y.d8E("@flyInOut",Se.state),y.Tol(Se.toastClasses),y.Udp("display",Se.displayStyle))},standalone:!0,features:[y.jDz],attrs:X,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ce,Se){1&Ce&&(y.YNc(0,Ee,3,0,"button",0),y.YNc(1,me,3,5,"div",1),y.YNc(2,ee,1,3,"div",2),y.YNc(3,ce,2,4,"div",3),y.YNc(4,De,2,2,"div",4)),2&Ce&&(y.Q6J("ngIf",Se.options.closeButton),y.xp6(1),y.Q6J("ngIf",Se.title),y.xp6(1),y.Q6J("ngIf",Se.message&&Se.options.enableHtml),y.xp6(1),y.Q6J("ngIf",Se.message&&!Se.options.enableHtml),y.xp6(1),y.Q6J("ngIf",Se.options.progressBar))},dependencies:[ve.O5],encapsulation:2,data:{animation:[(0,re.X$)("flyInOut",[(0,re.SB)("inactive",(0,re.oB)({opacity:0})),(0,re.SB)("active",(0,re.oB)({opacity:1})),(0,re.SB)("removed",(0,re.oB)({opacity:0})),(0,re.eR)("inactive => active",(0,re.jt)("{{ easeTime }}ms {{ easing }}")),(0,re.eR)("active => removed",(0,re.jt)("{{ easeTime }}ms {{ easing }}"))])]}})}return he})()},vt=(he={})=>(0,y.MR2)([{provide:st,useValue:{default:Sr,config:he}}]);let Jt=(()=>{class he{static forRoot(de={}){return{ngModule:he,providers:[vt(de)]}}static \u0275fac=function(Ce){return new(Ce||he)};static \u0275mod=y.oAB({type:he});static \u0275inj=y.cJS({})}return he})()},5861:(bt,Be,U)=>{function y(ve,se,Z,X,Ee,Me,me){try{var ee=ve[Me](me),ce=ee.value}catch(De){return void Z(De)}ee.done?se(ce):Promise.resolve(ce).then(X,Ee)}function re(ve){return function(){var se=this,Z=arguments;return new Promise(function(X,Ee){var Me=ve.apply(se,Z);function me(ce){y(Me,X,Ee,me,ee,"next",ce)}function ee(ce){y(Me,X,Ee,me,ee,"throw",ce)}me(void 0)})}}U.d(Be,{Z:()=>re})},7582:(bt,Be,U)=>{function se(Re,Fe){var Ve={};for(var he in Re)Object.prototype.hasOwnProperty.call(Re,he)&&Fe.indexOf(he)<0&&(Ve[he]=Re[he]);if(null!=Re&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(he=Object.getOwnPropertySymbols(Re);je<he.length;je++)Fe.indexOf(he[je])<0&&Object.prototype.propertyIsEnumerable.call(Re,he[je])&&(Ve[he[je]]=Re[he[je]])}return Ve}function De(Re,Fe,Ve,he){return new(Ve||(Ve=Promise))(function(de,Ce){function Se(pt){try{$t(he.next(pt))}catch(jt){Ce(jt)}}function gt(pt){try{$t(he.throw(pt))}catch(jt){Ce(jt)}}function $t(pt){pt.done?de(pt.value):function je(de){return de instanceof Ve?de:new Ve(function(Ce){Ce(de)})}(pt.value).then(Se,gt)}$t((he=he.apply(Re,Fe||[])).next())})}function le(Re){return this instanceof le?(this.v=Re,this):new le(Re)}function We(Re,Fe,Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,he=Ve.apply(Re,Fe||[]),de=[];return je={},Ce("next"),Ce("throw"),Ce("return"),je[Symbol.asyncIterator]=function(){return this},je;function Ce(Tn){he[Tn]&&(je[Tn]=function(dn){return new Promise(function(or,Un){de.push([Tn,dn,or,Un])>1||Se(Tn,dn)})})}function Se(Tn,dn){try{!function gt(Tn){Tn.value instanceof le?Promise.resolve(Tn.value.v).then($t,pt):jt(de[0][2],Tn)}(he[Tn](dn))}catch(or){jt(de[0][3],or)}}function $t(Tn){Se("next",Tn)}function pt(Tn){Se("throw",Tn)}function jt(Tn,dn){Tn(dn),de.shift(),de.length&&Se(de[0][0],de[0][1])}}function Ye(Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Fe=Re[Symbol.asyncIterator];return Fe?Fe.call(Re):(Re=function Qe(Re){var Fe="function"==typeof Symbol&&Symbol.iterator,Ve=Fe&&Re[Fe],he=0;if(Ve)return Ve.call(Re);if(Re&&"number"==typeof Re.length)return{next:function(){return Re&&he>=Re.length&&(Re=void 0),{value:Re&&Re[he++],done:!Re}}};throw new TypeError(Fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Re),Ve={},he("next"),he("throw"),he("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve);function he(de){Ve[de]=Re[de]&&function(Ce){return new Promise(function(Se,gt){!function je(de,Ce,Se,gt){Promise.resolve(gt).then(function($t){de({value:$t,done:Se})},Ce)}(Se,gt,(Ce=Re[de](Ce)).done,Ce.value)})}}}U.d(Be,{FC:()=>We,KL:()=>Ye,_T:()=>se,mG:()=>De,qq:()=>le}),"function"==typeof SuppressedError&&SuppressedError}},bt=>{bt(bt.s=6842)}]);