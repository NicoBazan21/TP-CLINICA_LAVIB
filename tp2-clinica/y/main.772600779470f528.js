"use strict";(self.webpackChunktp2_clinica=self.webpackChunktp2_clinica||[]).push([[179],{9058:(It,Fe,L)=>{L.d(Fe,{BH:()=>Ce,L:()=>ge,LL:()=>de,P0:()=>Tt,Pz:()=>qe,Sg:()=>Ye,UG:()=>hn,ZR:()=>Be,aH:()=>le,b$:()=>ct,eu:()=>Ve,hl:()=>Pe,m9:()=>zi,ne:()=>Qn,pd:()=>_n,q4:()=>Jt,ru:()=>Kn,tV:()=>ee,uI:()=>lt,vZ:()=>Kr,w1:()=>Nn,xO:()=>Ur,xb:()=>sr,z$:()=>ut,zd:()=>Zt});const J=function(pe){const G=[];let Q=0;for(let W=0;W<pe.length;W++){let q=pe.charCodeAt(W);q<128?G[Q++]=q:q<2048?(G[Q++]=q>>6|192,G[Q++]=63&q|128):55296==(64512&q)&&W+1<pe.length&&56320==(64512&pe.charCodeAt(W+1))?(q=65536+((1023&q)<<10)+(1023&pe.charCodeAt(++W)),G[Q++]=q>>18|240,G[Q++]=q>>12&63|128,G[Q++]=q>>6&63|128,G[Q++]=63&q|128):(G[Q++]=q>>12|224,G[Q++]=q>>6&63|128,G[Q++]=63&q|128)}return G},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(pe,G){if(!Array.isArray(pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let q=0;q<pe.length;q+=3){const Re=pe[q],tt=q+1<pe.length,pt=tt?pe[q+1]:0,xt=q+2<pe.length,en=xt?pe[q+2]:0;let $n=(15&pt)<<2|en>>6,Zr=63&en;xt||(Zr=64,tt||($n=64)),W.push(Q[Re>>2],Q[(3&Re)<<4|pt>>4],Q[$n],Q[Zr])}return W.join("")},encodeString(pe,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(pe):this.encodeByteArray(J(pe),G)},decodeString(pe,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(pe):function(pe){const G=[];let Q=0,W=0;for(;Q<pe.length;){const q=pe[Q++];if(q<128)G[W++]=String.fromCharCode(q);else if(q>191&&q<224){const Re=pe[Q++];G[W++]=String.fromCharCode((31&q)<<6|63&Re)}else if(q>239&&q<365){const xt=((7&q)<<18|(63&pe[Q++])<<12|(63&pe[Q++])<<6|63&pe[Q++])-65536;G[W++]=String.fromCharCode(55296+(xt>>10)),G[W++]=String.fromCharCode(56320+(1023&xt))}else{const Re=pe[Q++],tt=pe[Q++];G[W++]=String.fromCharCode((15&q)<<12|(63&Re)<<6|63&tt)}}return G.join("")}(this.decodeStringToByteArray(pe,G))},decodeStringToByteArray(pe,G){this.init_();const Q=G?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let q=0;q<pe.length;){const Re=Q[pe.charAt(q++)],pt=q<pe.length?Q[pe.charAt(q)]:0;++q;const en=q<pe.length?Q[pe.charAt(q)]:64;++q;const Qt=q<pe.length?Q[pe.charAt(q)]:64;if(++q,null==Re||null==pt||null==en||null==Qt)throw new Ae;W.push(Re<<2|pt>>4),64!==en&&(W.push(pt<<4&240|en>>2),64!==Qt&&W.push(en<<6&192|Qt))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let pe=0;pe<this.ENCODED_VALS.length;pe++)this.byteToCharMap_[pe]=this.ENCODED_VALS.charAt(pe),this.charToByteMap_[this.byteToCharMap_[pe]]=pe,this.byteToCharMapWebSafe_[pe]=this.ENCODED_VALS_WEBSAFE.charAt(pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[pe]]=pe,pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(pe)]=pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(pe)]=pe)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ge=function(pe){return function(pe){const G=J(pe);return ie.encodeByteArray(G,!0)}(pe).replace(/\./g,"")},ee=function(pe){try{return ie.decodeString(pe,!0)}catch(G){console.error("base64Decode failed: ",G)}return null},ht=()=>{try{return function Qe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const pe=process.env.__FIREBASE_DEFAULTS__;return pe?JSON.parse(pe):void 0})()||(()=>{if(typeof document>"u")return;let pe;try{pe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=pe&&ee(pe[1]);return G&&JSON.parse(G)})()}catch(pe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${pe}`)}},Jt=pe=>{var G,Q;return null===(Q=null===(G=ht())||void 0===G?void 0:G.emulatorHosts)||void 0===Q?void 0:Q[pe]},Tt=pe=>{const G=Jt(pe);if(!G)return;const Q=G.lastIndexOf(":");if(Q<=0||Q+1===G.length)throw new Error(`Invalid host ${G} with no separate hostname and port!`);const W=parseInt(G.substring(Q+1),10);return"["===G[0]?[G.substring(1,Q-1),W]:[G.substring(0,Q),W]},le=()=>{var pe;return null===(pe=ht())||void 0===pe?void 0:pe.config},qe=pe=>{var G;return null===(G=ht())||void 0===G?void 0:G[`_${pe}`]};class Ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,Q)=>{this.resolve=G,this.reject=Q})}wrapCallback(G){return(Q,W)=>{Q?this.reject(Q):this.resolve(W),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(Q):G(Q,W))}}}function Ye(pe,G){if(pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=G||"demo-project",q=pe.iat||0,Re=pe.sub||pe.user_id;if(!Re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tt=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:q,exp:q+3600,auth_time:q,sub:Re,user_id:Re,firebase:{sign_in_provider:"custom",identities:{}}},pe);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(tt)),""].join(".")}function ut(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function hn(){var pe;const G=null===(pe=ht())||void 0===pe?void 0:pe.forceEnvironment;if("node"===G)return!0;if("browser"===G)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Kn(){const pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof pe&&void 0!==pe.id}function ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Nn(){const pe=ut();return pe.indexOf("MSIE ")>=0||pe.indexOf("Trident/")>=0}function Pe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ve(){return new Promise((pe,G)=>{try{let Q=!0;const W="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(W);q.onsuccess=()=>{q.result.close(),Q||self.indexedDB.deleteDatabase(W),pe(!0)},q.onupgradeneeded=()=>{Q=!1},q.onerror=()=>{var Re;G((null===(Re=q.error)||void 0===Re?void 0:Re.message)||"")}}catch(Q){G(Q)}})}class Be extends Error{constructor(G,Q,W){super(Q),this.code=G,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,Be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,de.prototype.create)}}class de{constructor(G,Q,W){this.service=G,this.serviceName=Q,this.errors=W}create(G,...Q){const W=Q[0]||{},q=`${this.service}/${G}`,Re=this.errors[G],tt=Re?function Se(pe,G){return pe.replace(be,(Q,W)=>{const q=G[W];return null!=q?String(q):`<${W}?>`})}(Re,W):"Error";return new Be(q,`${this.serviceName}: ${tt} (${q}).`,W)}}const be=/\{\$([^}]+)}/g;function sr(pe){for(const G in pe)if(Object.prototype.hasOwnProperty.call(pe,G))return!1;return!0}function Kr(pe,G){if(pe===G)return!0;const Q=Object.keys(pe),W=Object.keys(G);for(const q of Q){if(!W.includes(q))return!1;const Re=pe[q],tt=G[q];if(ji(Re)&&ji(tt)){if(!Kr(Re,tt))return!1}else if(Re!==tt)return!1}for(const q of W)if(!Q.includes(q))return!1;return!0}function ji(pe){return null!==pe&&"object"==typeof pe}function Ur(pe){const G=[];for(const[Q,W]of Object.entries(pe))Array.isArray(W)?W.forEach(q=>{G.push(encodeURIComponent(Q)+"="+encodeURIComponent(q))}):G.push(encodeURIComponent(Q)+"="+encodeURIComponent(W));return G.length?"&"+G.join("&"):""}function Zt(pe){const G={};return pe.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[q,Re]=W.split("=");G[decodeURIComponent(q)]=decodeURIComponent(Re)}}),G}function _n(pe){const G=pe.indexOf("?");if(!G)return"";const Q=pe.indexOf("#",G);return pe.substring(G,Q>0?Q:void 0)}function Qn(pe,G){const Q=new Qr(pe,G);return Q.subscribe.bind(Q)}class Qr{constructor(G,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{G(this)}).catch(W=>{this.error(W)})}next(G){this.forEachObserver(Q=>{Q.next(G)})}error(G){this.forEachObserver(Q=>{Q.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,Q,W){let q;if(void 0===G&&void 0===Q&&void 0===W)throw new Error("Missing Observer.");q=function An(pe,G){if("object"!=typeof pe||null===pe)return!1;for(const Q of G)if(Q in pe&&"function"==typeof pe[Q])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:Q,complete:W},void 0===q.next&&(q.next=pr),void 0===q.error&&(q.error=pr),void 0===q.complete&&(q.complete=pr);const Re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),Re}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,G)}sendOne(G,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{Q(this.observers[G])}catch(W){typeof console<"u"&&console.error&&console.error(W)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pr(){}function zi(pe){return pe&&pe._delegate?pe._delegate:pe}},1486:(It,Fe,L)=>{L.d(Fe,{V:()=>J});var _=L(1896),re=L(3076),he=L(5879);const J=(Y,ie)=>{const Ae=(0,he.f3M)(re.K),ye=(0,he.f3M)(_.F0);return!!Ae.obtenerSesion()||(ye.navigateByUrl("login"),!1)}},3076:(It,Fe,L)=>{L.d(Fe,{K:()=>ie});var _=L(5861),re=L(3435),he=L(5349),J=L(5017),Y=L(5879);let ie=(()=>{class Ae{constructor(ge,ee,ce){this.auth=ge,this.firestore=ee,this.storage=ce,this.coleccionUsuarios=(0,he.hJ)(this.firestore,"usuarios"),this.coleccionEspecialidades=(0,he.hJ)(this.firestore,"especialidades")}guardarPaciente(ge){const ee=(0,he.JU)(this.coleccionUsuarios);return(0,he.pl)(ee,{id:ee.id,nombre:ge.nombre,apellido:ge.apellido,edad:ge.edad,dni:ge.dni,obraSocial:ge.obraSocial,mail:ge.mail,clave:ge.clave,rol:ge.rol})}guardarEspecialista(ge){const ee=(0,he.JU)(this.coleccionUsuarios);return(0,he.pl)(ee,{id:ee.id,nombre:ge.nombre,apellido:ge.apellido,edad:ge.edad,dni:ge.dni,habilitado:ge.habilitado,mail:ge.mail,clave:ge.clave,especialidades:ge.especialidades,diasLaborables:ge.diasLaborables,rol:ge.rol,inicio:ge.inicio,fin:ge.fin})}guardarAdmin(ge){const ee=(0,he.JU)(this.coleccionUsuarios);return(0,he.pl)(ee,{id:ee.id,nombre:ge.nombre,apellido:ge.apellido,edad:ge.edad,dni:ge.dni,mail:ge.mail,clave:ge.clave,rol:ge.rol})}guardarEspecialidad(ge){const ee=(0,he.JU)(this.coleccionEspecialidades);return(0,he.pl)(ee,{id:ee.id,especialidad:ge})}traerEspecialidades(){return(0,he.BS)(this.coleccionEspecialidades)}traerEspecialistasPorEspecialidad(ge){var ee=this;return(0,_.Z)(function*(){const ce=(0,he.IO)(ee.coleccionUsuarios,(0,he.ar)("rol","==","Especialista"),(0,he.ar)("especialidades","array-contains",ge));return(yield(0,he.PL)(ce)).docs.map(we=>we.data())})()}traerEspecialistaPorNombreEspecialidad(ge,ee){var ce=this;return(0,_.Z)(function*(){const Ee=(0,he.IO)(ce.coleccionUsuarios,(0,he.ar)("nombre","==",ge),(0,he.ar)("especialidades","array-contains",ee));return(yield(0,he.PL)(Ee)).docs.map(Qe=>Qe.data())})()}traerEspecialistaPorTurnos(ge){var ee=this;return(0,_.Z)(function*(){const ce=ge.map(Qe=>Qe.idEspecialista),Ee=(0,he.IO)(ee.coleccionUsuarios,(0,he.ar)("idEspecialista","in",ce));return(yield(0,he.PL)(Ee)).docs.map(Qe=>Qe.data())})()}traerEspecialistas(){const ge=(0,he.IO)(this.coleccionUsuarios,(0,he.ar)("rol","==","Especialista"));return(0,he.BS)(ge)}modificar(ge){const ee=(0,he.JU)(this.coleccionUsuarios,ge.id);return new Promise(ce=>{(0,he.r7)(ee,{...ge}).then(ce)})}traerUsuarios(){return(0,he.BS)(this.coleccionUsuarios)}buscarUsuario(ge){const ee=(0,he.IO)(this.coleccionUsuarios,(0,he.ar)("mail","==",ge));return new Promise(ce=>{(0,he.BS)(ee).subscribe(Ee=>{ce(Ee[0])})})}subirImagen(ge,ee,ce){const Ee=(0,J.iH)(this.storage,`${ce}/${ee}`);(0,J.KV)(Ee,ge)}traerImagenes(ge){const ee=(0,J.iH)(this.storage,ge);let ce=[];return new Promise(Ee=>{(0,J.aF)(ee).then(function(){var we=(0,_.Z)(function*(Qe){for(let Le of Qe.items){const Ze=yield(0,J.Jt)(Le);ce.push(Ze)}Ee(ce)});return function(Qe){return we.apply(this,arguments)}}())})}register(ge,ee){return(0,re.Xb)(this.auth,ge,ee)}login(ge,ee){return(0,re.e5)(this.auth,ge,ee)}logout(){return(0,re.w7)(this.auth)}obtenerSesion(){return this.auth.currentUser}enviarEmailVerificacion(){const ge=(0,re.v0)();return(0,re.w$)(ge.currentUser)}static#e=this.\u0275fac=function(ee){return new(ee||Ae)(Y.LFG(re.gx),Y.LFG(he.gg),Y.LFG(J.Ke))};static#t=this.\u0275prov=Y.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}return Ae})()},6842:(It,Fe,L)=>{var _=L(6593),re=L(1896),he=L(1486),J=L(5879);const Y=[{path:"",loadChildren:()=>Promise.all([L.e(223),L.e(530),L.e(492)]).then(L.bind(L,4492)).then(B=>B.InicioModule)},{path:"clinica",canActivate:[he.V],loadChildren:()=>Promise.all([L.e(223),L.e(592),L.e(799)]).then(L.bind(L,3799)).then(B=>B.ClinicaModule)}];let ie=(()=>{class B{static#e=this.\u0275fac=function(P){return new(P||B)};static#t=this.\u0275mod=J.oAB({type:B});static#n=this.\u0275inj=J.cJS({imports:[re.Bz.forRoot(Y),re.Bz]})}return B})(),Ae=(()=>{class B{constructor(){this.title="TP2 CLINICA"}static#e=this.\u0275fac=function(P){return new(P||B)};static#t=this.\u0275cmp=J.Xpm({type:B,selectors:[["app-root"]],decls:1,vars:0,template:function(P,j){1&P&&J._UZ(0,"router-outlet")},dependencies:[re.lC]})}return B})();var ye=L(6825);function ee(B){return new J.vHH(3e3,!1)}function Vt(B){switch(B.length){case 0:return new ye.ZN;case 1:return B[0];default:return new ye.ZE(B)}}function In(B,m,T=new Map,P=new Map){const j=[],X=[];let me=-1,_e=null;if(m.forEach(xe=>{const Xe=xe.get("offset"),wt=Xe==me,Pt=wt&&_e||new Map;xe.forEach((Mn,Yt)=>{let Wt=Yt,Nt=Mn;if("offset"!==Yt)switch(Wt=B.normalizePropertyName(Wt,j),Nt){case ye.k1:Nt=T.get(Yt);break;case ye.l3:Nt=P.get(Yt);break;default:Nt=B.normalizeStyleValue(Yt,Wt,Nt,j)}Pt.set(Wt,Nt)}),wt||X.push(Pt),_e=Pt,me=Xe}),j.length)throw function nn(B){return new J.vHH(3502,!1)}();return X}function Tn(B,m,T,P){switch(m){case"start":B.onStart(()=>P(T&&kn(T,"start",B)));break;case"done":B.onDone(()=>P(T&&kn(T,"done",B)));break;case"destroy":B.onDestroy(()=>P(T&&kn(T,"destroy",B)))}}function kn(B,m,T){const X=Ln(B.element,B.triggerName,B.fromState,B.toState,m||B.phaseName,T.totalTime??B.totalTime,!!T.disabled),me=B._data;return null!=me&&(X._data=me),X}function Ln(B,m,T,P,j="",X=0,me){return{element:B,triggerName:m,fromState:T,toState:P,phaseName:j,totalTime:X,disabled:!!me}}function Fn(B,m,T){let P=B.get(m);return P||B.set(m,P=T),P}function sr(B){const m=B.indexOf(":");return[B.substring(1,m),B.slice(m+1)]}const qr=(()=>typeof document>"u"?null:document.documentElement)();function Kr(B){const m=B.parentNode||B.host||null;return m===qr?null:m}let Fr=null,Ur=!1;function Qn(B,m){for(;m;){if(m===B)return!0;m=Kr(m)}return!1}function Qr(B,m,T){if(T)return Array.from(B.querySelectorAll(m));const P=B.querySelector(m);return P?[P]:[]}let An=(()=>{class B{validateStyleProperty(T){return function Zt(B){Fr||(Fr=function on(){return typeof document<"u"?document.body:null}()||{},Ur=!!Fr.style&&"WebkitAppearance"in Fr.style);let m=!0;return Fr.style&&!function ji(B){return"ebkit"==B.substring(1,6)}(B)&&(m=B in Fr.style,!m&&Ur&&(m="Webkit"+B.charAt(0).toUpperCase()+B.slice(1)in Fr.style)),m}(T)}matchesElement(T,P){return!1}containsElement(T,P){return Qn(T,P)}getParentElement(T){return Kr(T)}query(T,P,j){return Qr(T,P,j)}computeStyle(T,P,j){return j||""}animate(T,P,j,X,me,_e=[],xe){return new ye.ZN(j,X)}static#e=this.\u0275fac=function(P){return new(P||B)};static#t=this.\u0275prov=J.Yz7({token:B,factory:B.\u0275fac})}return B})(),pr=(()=>{class B{static#e=this.NOOP=new An}return B})();const _i=1e3,an="ng-enter",Ji="ng-leave",Br="ng-trigger",ci=".ng-trigger",Jn="ng-animating",yi=".ng-animating";function li(B){if("number"==typeof B)return B;const m=B.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:bi(parseFloat(m[1]),m[2])}function bi(B,m){return"s"===m?B*_i:B}function Vr(B,m,T){return B.hasOwnProperty("duration")?B:function or(B,m,T){let j,X=0,me="";if("string"==typeof B){const _e=B.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_e)return m.push(ee()),{duration:0,delay:0,easing:""};j=bi(parseFloat(_e[1]),_e[2]);const xe=_e[3];null!=xe&&(X=bi(parseFloat(xe),_e[4]));const Xe=_e[5];Xe&&(me=Xe)}else j=B;if(!T){let _e=!1,xe=m.length;j<0&&(m.push(function ce(){return new J.vHH(3100,!1)}()),_e=!0),X<0&&(m.push(function Ee(){return new J.vHH(3101,!1)}()),_e=!0),_e&&m.splice(xe,0,ee())}return{duration:j,delay:X,easing:me}}(B,m,T)}function cn(B,m={}){return Object.keys(B).forEach(T=>{m[T]=B[T]}),m}function vi(B){const m=new Map;return Object.keys(B).forEach(T=>{m.set(T,B[T])}),m}function G(B,m=new Map,T){if(T)for(let[P,j]of T)m.set(P,j);for(let[P,j]of B)m.set(P,j);return m}function Q(B,m,T){m.forEach((P,j)=>{const X=Qt(j);T&&!T.has(j)&&T.set(j,B.style[X]),B.style[X]=P})}function W(B,m){m.forEach((T,P)=>{const j=Qt(P);B.style[j]=""})}function q(B){return Array.isArray(B)?1==B.length?B[0]:(0,ye.vP)(B):B}const tt=new RegExp("{{\\s*(.+?)\\s*}}","g");function pt(B){let m=[];if("string"==typeof B){let T;for(;T=tt.exec(B);)m.push(T[1]);tt.lastIndex=0}return m}function xt(B,m,T){const P=B.toString(),j=P.replace(tt,(X,me)=>{let _e=m[me];return null==_e&&(T.push(function Qe(B){return new J.vHH(3003,!1)}()),_e=""),_e.toString()});return j==P?B:j}function en(B){const m=[];let T=B.next();for(;!T.done;)m.push(T.value),T=B.next();return m}const St=/-+([a-z0-9])/g;function Qt(B){return B.replace(St,(...m)=>m[1].toUpperCase())}function Pr(B,m,T){switch(m.type){case 7:return B.visitTrigger(m,T);case 0:return B.visitState(m,T);case 1:return B.visitTransition(m,T);case 2:return B.visitSequence(m,T);case 3:return B.visitGroup(m,T);case 4:return B.visitAnimate(m,T);case 5:return B.visitKeyframes(m,T);case 6:return B.visitStyle(m,T);case 8:return B.visitReference(m,T);case 9:return B.visitAnimateChild(m,T);case 10:return B.visitAnimateRef(m,T);case 11:return B.visitQuery(m,T);case 12:return B.visitStagger(m,T);default:throw function Le(B){return new J.vHH(3004,!1)}()}}function We(B,m){return window.getComputedStyle(B)[m]}const gr="*";function ar(B,m){const T=[];return"string"==typeof B?B.split(/\s*,\s*/).forEach(P=>function As(B,m,T){if(":"==B[0]){const xe=function di(B,m){switch(B){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(T,P)=>parseFloat(P)>parseFloat(T);case":decrement":return(T,P)=>parseFloat(P)<parseFloat(T);default:return m.push(function ct(B){return new J.vHH(3016,!1)}()),"* => *"}}(B,T);if("function"==typeof xe)return void m.push(xe);B=xe}const P=B.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==P||P.length<4)return T.push(function Kn(B){return new J.vHH(3015,!1)}()),m;const j=P[1],X=P[2],me=P[3];m.push(ms(j,me));"<"==X[0]&&!(j==gr&&me==gr)&&m.push(ms(me,j))}(P,T,m)):T.push(B),T}const Mr=new Set(["true","1"]),no=new Set(["false","0"]);function ms(B,m){const T=Mr.has(B)||no.has(B),P=Mr.has(m)||no.has(m);return(j,X)=>{let me=B==gr||B==j,_e=m==gr||m==X;return!me&&T&&"boolean"==typeof j&&(me=j?Mr.has(B):no.has(B)),!_e&&P&&"boolean"==typeof X&&(_e=X?Mr.has(m):no.has(m)),me&&_e}}const Fs=new RegExp("s*:selfs*,?","g");function ro(B,m,T,P){return new Ri(B).build(m,T,P)}class Ri{constructor(m){this._driver=m}build(m,T,P){const j=new Cs(T);return this._resetContextStyleTimingState(j),Pr(this,q(m),j)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles=new Map,m.collectedStyles.set("",new Map),m.currentTime=0}visitTrigger(m,T){let P=T.queryCount=0,j=T.depCount=0;const X=[],me=[];return"@"==m.name.charAt(0)&&T.errors.push(function _t(){return new J.vHH(3006,!1)}()),m.definitions.forEach(_e=>{if(this._resetContextStyleTimingState(T),0==_e.type){const xe=_e,Xe=xe.name;Xe.toString().split(/\s*,\s*/).forEach(wt=>{xe.name=wt,X.push(this.visitState(xe,T))}),xe.name=Xe}else if(1==_e.type){const xe=this.visitTransition(_e,T);P+=xe.queryCount,j+=xe.depCount,me.push(xe)}else T.errors.push(function ht(){return new J.vHH(3007,!1)}())}),{type:7,name:m.name,states:X,transitions:me,queryCount:P,depCount:j,options:null}}visitState(m,T){const P=this.visitStyle(m.styles,T),j=m.options&&m.options.params||null;if(P.containsDynamicStyles){const X=new Set,me=j||{};P.styles.forEach(_e=>{_e instanceof Map&&_e.forEach(xe=>{pt(xe).forEach(Xe=>{me.hasOwnProperty(Xe)||X.add(Xe)})})}),X.size&&(en(X.values()),T.errors.push(function Jt(B,m){return new J.vHH(3008,!1)}()))}return{type:0,name:m.name,style:P,options:j?{params:j}:null}}visitTransition(m,T){T.queryCount=0,T.depCount=0;const P=Pr(this,q(m.animation),T);return{type:1,matchers:ar(m.expr,T.errors),animation:P,queryCount:T.queryCount,depCount:T.depCount,options:qn(m.options)}}visitSequence(m,T){return{type:2,steps:m.steps.map(P=>Pr(this,P,T)),options:qn(m.options)}}visitGroup(m,T){const P=T.currentTime;let j=0;const X=m.steps.map(me=>{T.currentTime=P;const _e=Pr(this,me,T);return j=Math.max(j,T.currentTime),_e});return T.currentTime=j,{type:3,steps:X,options:qn(m.options)}}visitAnimate(m,T){const P=function bs(B,m){if(B.hasOwnProperty("duration"))return B;if("number"==typeof B)return Us(Vr(B,m).duration,0,"");const T=B;if(T.split(/\s+/).some(X=>"{"==X.charAt(0)&&"{"==X.charAt(1))){const X=Us(0,0,"");return X.dynamic=!0,X.strValue=T,X}const j=Vr(T,m);return Us(j.duration,j.delay,j.easing)}(m.timings,T.errors);T.currentAnimateTimings=P;let j,X=m.styles?m.styles:(0,ye.oB)({});if(5==X.type)j=this.visitKeyframes(X,T);else{let me=m.styles,_e=!1;if(!me){_e=!0;const Xe={};P.easing&&(Xe.easing=P.easing),me=(0,ye.oB)(Xe)}T.currentTime+=P.duration+P.delay;const xe=this.visitStyle(me,T);xe.isEmptyStep=_e,j=xe}return T.currentAnimateTimings=null,{type:4,timings:P,style:j,options:null}}visitStyle(m,T){const P=this._makeStyleAst(m,T);return this._validateStyleAst(P,T),P}_makeStyleAst(m,T){const P=[],j=Array.isArray(m.styles)?m.styles:[m.styles];for(let _e of j)"string"==typeof _e?_e===ye.l3?P.push(_e):T.errors.push(new J.vHH(3002,!1)):P.push(vi(_e));let X=!1,me=null;return P.forEach(_e=>{if(_e instanceof Map&&(_e.has("easing")&&(me=_e.get("easing"),_e.delete("easing")),!X))for(let xe of _e.values())if(xe.toString().indexOf("{{")>=0){X=!0;break}}),{type:6,styles:P,easing:me,offset:m.offset,containsDynamicStyles:X,options:null}}_validateStyleAst(m,T){const P=T.currentAnimateTimings;let j=T.currentTime,X=T.currentTime;P&&X>0&&(X-=P.duration+P.delay),m.styles.forEach(me=>{"string"!=typeof me&&me.forEach((_e,xe)=>{const Xe=T.collectedStyles.get(T.currentQuerySelector),wt=Xe.get(xe);let Pt=!0;wt&&(X!=j&&X>=wt.startTime&&j<=wt.endTime&&(T.errors.push(function qe(B,m,T,P,j){return new J.vHH(3010,!1)}()),Pt=!1),X=wt.startTime),Pt&&Xe.set(xe,{startTime:X,endTime:j}),T.options&&function Re(B,m,T){const P=m.params||{},j=pt(B);j.length&&j.forEach(X=>{P.hasOwnProperty(X)||T.push(function we(B){return new J.vHH(3001,!1)}())})}(_e,T.options,T.errors)})})}visitKeyframes(m,T){const P={type:5,styles:[],options:null};if(!T.currentAnimateTimings)return T.errors.push(function Ce(){return new J.vHH(3011,!1)}()),P;let X=0;const me=[];let _e=!1,xe=!1,Xe=0;const wt=m.steps.map(wi=>{const vr=this._makeStyleAst(wi,T);let ts=null!=vr.offset?vr.offset:function Ss(B){if("string"==typeof B)return null;let m=null;if(Array.isArray(B))B.forEach(T=>{if(T instanceof Map&&T.has("offset")){const P=T;m=parseFloat(P.get("offset")),P.delete("offset")}});else if(B instanceof Map&&B.has("offset")){const T=B;m=parseFloat(T.get("offset")),T.delete("offset")}return m}(vr.styles),ti=0;return null!=ts&&(X++,ti=vr.offset=ts),xe=xe||ti<0||ti>1,_e=_e||ti<Xe,Xe=ti,me.push(ti),vr});xe&&T.errors.push(function Ye(){return new J.vHH(3012,!1)}()),_e&&T.errors.push(function ut(){return new J.vHH(3200,!1)}());const Pt=m.steps.length;let Mn=0;X>0&&X<Pt?T.errors.push(function lt(){return new J.vHH(3202,!1)}()):0==X&&(Mn=1/(Pt-1));const Yt=Pt-1,Wt=T.currentTime,Nt=T.currentAnimateTimings,Or=Nt.duration;return wt.forEach((wi,vr)=>{const ts=Mn>0?vr==Yt?1:Mn*vr:me[vr],ti=ts*Or;T.currentTime=Wt+Nt.delay+ti,Nt.duration=ti,this._validateStyleAst(wi,T),wi.offset=ts,P.styles.push(wi)}),P}visitReference(m,T){return{type:8,animation:Pr(this,q(m.animation),T),options:qn(m.options)}}visitAnimateChild(m,T){return T.depCount++,{type:9,options:qn(m.options)}}visitAnimateRef(m,T){return{type:10,animation:this.visitReference(m.animation,T),options:qn(m.options)}}visitQuery(m,T){const P=T.currentQuerySelector,j=m.options||{};T.queryCount++,T.currentQuery=m;const[X,me]=function Vs(B){const m=!!B.split(/\s*,\s*/).find(T=>":self"==T);return m&&(B=B.replace(Fs,"")),B=B.replace(/@\*/g,ci).replace(/@\w+/g,T=>ci+"-"+T.slice(1)).replace(/:animating/g,yi),[B,m]}(m.selector);T.currentQuerySelector=P.length?P+" "+X:X,Fn(T.collectedStyles,T.currentQuerySelector,new Map);const _e=Pr(this,q(m.animation),T);return T.currentQuery=null,T.currentQuerySelector=P,{type:11,selector:X,limit:j.limit||0,optional:!!j.optional,includeSelf:me,animation:_e,originalSelector:m.selector,options:qn(m.options)}}visitStagger(m,T){T.currentQuery||T.errors.push(function hn(){return new J.vHH(3013,!1)}());const P="full"===m.timings?{duration:0,delay:0,easing:"full"}:Vr(m.timings,T.errors,!0);return{type:12,animation:Pr(this,q(m.animation),T),timings:P,options:null}}}class Cs{constructor(m){this.errors=m,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function qn(B){return B?(B=cn(B)).params&&(B.params=function On(B){return B?cn(B):null}(B.params)):B={},B}function Us(B,m,T){return{duration:B,delay:m,easing:T}}function io(B,m,T,P,j,X,me=null,_e=!1){return{type:1,element:B,keyframes:m,preStyleProps:T,postStyleProps:P,duration:j,delay:X,totalTime:j+X,easing:me,subTimeline:_e}}class go{constructor(){this._map=new Map}get(m){return this._map.get(m)||[]}append(m,T){let P=this._map.get(m);P||this._map.set(m,P=[]),P.push(...T)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const Gi=new RegExp(":enter","g"),ta=new RegExp(":leave","g");function Ei(B,m,T,P,j,X=new Map,me=new Map,_e,xe,Xe=[]){return(new ho).buildKeyframes(B,m,T,P,j,X,me,_e,xe,Xe)}class ho{buildKeyframes(m,T,P,j,X,me,_e,xe,Xe,wt=[]){Xe=Xe||new go;const Pt=new fo(m,T,Xe,j,X,wt,[]);Pt.options=xe;const Mn=xe.delay?li(xe.delay):0;Pt.currentTimeline.delayNextStep(Mn),Pt.currentTimeline.setStyles([me],null,Pt.errors,xe),Pr(this,P,Pt);const Yt=Pt.timelines.filter(Wt=>Wt.containsAnimation());if(Yt.length&&_e.size){let Wt;for(let Nt=Yt.length-1;Nt>=0;Nt--){const Or=Yt[Nt];if(Or.element===T){Wt=Or;break}}Wt&&!Wt.allowOnlyTimelineStyles()&&Wt.setStyles([_e],null,Pt.errors,xe)}return Yt.length?Yt.map(Wt=>Wt.buildKeyframes()):[io(T,[],[],[],0,Mn,"",!1)]}visitTrigger(m,T){}visitState(m,T){}visitTransition(m,T){}visitAnimateChild(m,T){const P=T.subInstructions.get(T.element);if(P){const j=T.createSubContext(m.options),X=T.currentTimeline.currentTime,me=this._visitSubInstructions(P,j,j.options);X!=me&&T.transformIntoNewTimeline(me)}T.previousNode=m}visitAnimateRef(m,T){const P=T.createSubContext(m.options);P.transformIntoNewTimeline(),this._applyAnimationRefDelays([m.options,m.animation.options],T,P),this.visitReference(m.animation,P),T.transformIntoNewTimeline(P.currentTimeline.currentTime),T.previousNode=m}_applyAnimationRefDelays(m,T,P){for(const j of m){const X=j?.delay;if(X){const me="number"==typeof X?X:li(xt(X,j?.params??{},T.errors));P.delayNextStep(me)}}}_visitSubInstructions(m,T,P){let X=T.currentTimeline.currentTime;const me=null!=P.duration?li(P.duration):null,_e=null!=P.delay?li(P.delay):null;return 0!==me&&m.forEach(xe=>{const Xe=T.appendInstructionToTimeline(xe,me,_e);X=Math.max(X,Xe.duration+Xe.delay)}),X}visitReference(m,T){T.updateOptions(m.options,!0),Pr(this,m.animation,T),T.previousNode=m}visitSequence(m,T){const P=T.subContextCount;let j=T;const X=m.options;if(X&&(X.params||X.delay)&&(j=T.createSubContext(X),j.transformIntoNewTimeline(),null!=X.delay)){6==j.previousNode.type&&(j.currentTimeline.snapshotCurrentStyles(),j.previousNode=$s);const me=li(X.delay);j.delayNextStep(me)}m.steps.length&&(m.steps.forEach(me=>Pr(this,me,j)),j.currentTimeline.applyStylesToKeyframe(),j.subContextCount>P&&j.transformIntoNewTimeline()),T.previousNode=m}visitGroup(m,T){const P=[];let j=T.currentTimeline.currentTime;const X=m.options&&m.options.delay?li(m.options.delay):0;m.steps.forEach(me=>{const _e=T.createSubContext(m.options);X&&_e.delayNextStep(X),Pr(this,me,_e),j=Math.max(j,_e.currentTimeline.currentTime),P.push(_e.currentTimeline)}),P.forEach(me=>T.currentTimeline.mergeTimelineCollectedStyles(me)),T.transformIntoNewTimeline(j),T.previousNode=m}_visitTiming(m,T){if(m.dynamic){const P=m.strValue;return Vr(T.params?xt(P,T.params,T.errors):P,T.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,T){const P=T.currentAnimateTimings=this._visitTiming(m.timings,T),j=T.currentTimeline;P.delay&&(T.incrementTime(P.delay),j.snapshotCurrentStyles());const X=m.style;5==X.type?this.visitKeyframes(X,T):(T.incrementTime(P.duration),this.visitStyle(X,T),j.applyStylesToKeyframe()),T.currentAnimateTimings=null,T.previousNode=m}visitStyle(m,T){const P=T.currentTimeline,j=T.currentAnimateTimings;!j&&P.hasCurrentStyleProperties()&&P.forwardFrame();const X=j&&j.easing||m.easing;m.isEmptyStep?P.applyEmptyStep(X):P.setStyles(m.styles,X,T.errors,T.options),T.previousNode=m}visitKeyframes(m,T){const P=T.currentAnimateTimings,j=T.currentTimeline.duration,X=P.duration,_e=T.createSubContext().currentTimeline;_e.easing=P.easing,m.styles.forEach(xe=>{_e.forwardTime((xe.offset||0)*X),_e.setStyles(xe.styles,xe.easing,T.errors,T.options),_e.applyStylesToKeyframe()}),T.currentTimeline.mergeTimelineCollectedStyles(_e),T.transformIntoNewTimeline(j+X),T.previousNode=m}visitQuery(m,T){const P=T.currentTimeline.currentTime,j=m.options||{},X=j.delay?li(j.delay):0;X&&(6===T.previousNode.type||0==P&&T.currentTimeline.hasCurrentStyleProperties())&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=$s);let me=P;const _e=T.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!j.optional,T.errors);T.currentQueryTotal=_e.length;let xe=null;_e.forEach((Xe,wt)=>{T.currentQueryIndex=wt;const Pt=T.createSubContext(m.options,Xe);X&&Pt.delayNextStep(X),Xe===T.element&&(xe=Pt.currentTimeline),Pr(this,m.animation,Pt),Pt.currentTimeline.applyStylesToKeyframe(),me=Math.max(me,Pt.currentTimeline.currentTime)}),T.currentQueryIndex=0,T.currentQueryTotal=0,T.transformIntoNewTimeline(me),xe&&(T.currentTimeline.mergeTimelineCollectedStyles(xe),T.currentTimeline.snapshotCurrentStyles()),T.previousNode=m}visitStagger(m,T){const P=T.parentContext,j=T.currentTimeline,X=m.timings,me=Math.abs(X.duration),_e=me*(T.currentQueryTotal-1);let xe=me*T.currentQueryIndex;switch(X.duration<0?"reverse":X.easing){case"reverse":xe=_e-xe;break;case"full":xe=P.currentStaggerTime}const wt=T.currentTimeline;xe&&wt.delayNextStep(xe);const Pt=wt.currentTime;Pr(this,m.animation,T),T.previousNode=m,P.currentStaggerTime=j.currentTime-Pt+(j.startTime-P.currentTimeline.startTime)}}const $s={};class fo{constructor(m,T,P,j,X,me,_e,xe){this._driver=m,this.element=T,this.subInstructions=P,this._enterClassName=j,this._leaveClassName=X,this.errors=me,this.timelines=_e,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$s,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=xe||new js(this._driver,T,0),_e.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,T){if(!m)return;const P=m;let j=this.options;null!=P.duration&&(j.duration=li(P.duration)),null!=P.delay&&(j.delay=li(P.delay));const X=P.params;if(X){let me=j.params;me||(me=this.options.params={}),Object.keys(X).forEach(_e=>{(!T||!me.hasOwnProperty(_e))&&(me[_e]=xt(X[_e],me,this.errors))})}}_copyOptions(){const m={};if(this.options){const T=this.options.params;if(T){const P=m.params={};Object.keys(T).forEach(j=>{P[j]=T[j]})}}return m}createSubContext(m=null,T,P){const j=T||this.element,X=new fo(this._driver,j,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(j,P||0));return X.previousNode=this.previousNode,X.currentAnimateTimings=this.currentAnimateTimings,X.options=this._copyOptions(),X.updateOptions(m),X.currentQueryIndex=this.currentQueryIndex,X.currentQueryTotal=this.currentQueryTotal,X.parentContext=this,this.subContextCount++,X}transformIntoNewTimeline(m){return this.previousNode=$s,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,T,P){const j={duration:T??m.duration,delay:this.currentTimeline.currentTime+(P??0)+m.delay,easing:""},X=new yo(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,j,m.stretchStartingKeyframe);return this.timelines.push(X),j}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,T,P,j,X,me){let _e=[];if(j&&_e.push(this.element),m.length>0){m=(m=m.replace(Gi,"."+this._enterClassName)).replace(ta,"."+this._leaveClassName);let Xe=this._driver.query(this.element,m,1!=P);0!==P&&(Xe=P<0?Xe.slice(Xe.length+P,Xe.length):Xe.slice(0,P)),_e.push(...Xe)}return!X&&0==_e.length&&me.push(function fn(B){return new J.vHH(3014,!1)}()),_e}}class js{constructor(m,T,P,j){this._driver=m,this.element=T,this.startTime=P,this._elementTimelineStylesLookup=j,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(T),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(T,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const T=1===this._keyframes.size&&this._pendingStyles.size;this.duration||T?(this.forwardTime(this.currentTime+m),T&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,T){return this.applyStylesToKeyframe(),new js(this._driver,m,T||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,T){this._localTimelineStyles.set(m,T),this._globalTimelineStyles.set(m,T),this._styleSummary.set(m,{time:this.currentTime,value:T})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&this._previousKeyframe.set("easing",m);for(let[T,P]of this._globalTimelineStyles)this._backFill.set(T,P||ye.l3),this._currentKeyframe.set(T,ye.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,T,P,j){T&&this._previousKeyframe.set("easing",T);const X=j&&j.params||{},me=function _s(B,m){const T=new Map;let P;return B.forEach(j=>{if("*"===j){P=P||m.keys();for(let X of P)T.set(X,ye.l3)}else G(j,T)}),T}(m,this._globalTimelineStyles);for(let[_e,xe]of me){const Xe=xt(xe,X,P);this._pendingStyles.set(_e,Xe),this._localTimelineStyles.has(_e)||this._backFill.set(_e,this._globalTimelineStyles.get(_e)??ye.l3),this._updateStyle(_e,Xe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((m,T)=>{this._currentKeyframe.set(T,m)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((m,T)=>{this._currentKeyframe.has(T)||this._currentKeyframe.set(T,m)}))}snapshotCurrentStyles(){for(let[m,T]of this._localTimelineStyles)this._pendingStyles.set(m,T),this._updateStyle(m,T)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let T in this._currentKeyframe)m.push(T);return m}mergeTimelineCollectedStyles(m){m._styleSummary.forEach((T,P)=>{const j=this._styleSummary.get(P);(!j||T.time>j.time)&&this._updateStyle(P,T.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,T=new Set,P=1===this._keyframes.size&&0===this.duration;let j=[];this._keyframes.forEach((_e,xe)=>{const Xe=G(_e,new Map,this._backFill);Xe.forEach((wt,Pt)=>{wt===ye.k1?m.add(Pt):wt===ye.l3&&T.add(Pt)}),P||Xe.set("offset",xe/this.duration),j.push(Xe)});const X=m.size?en(m.values()):[],me=T.size?en(T.values()):[];if(P){const _e=j[0],xe=new Map(_e);_e.set("offset",0),xe.set("offset",1),j=[_e,xe]}return io(this.element,j,X,me,this.duration,this.startTime,this.easing,!1)}}class yo extends js{constructor(m,T,P,j,X,me,_e=!1){super(m,T,me.delay),this.keyframes=P,this.preStyleProps=j,this.postStyleProps=X,this._stretchStartingKeyframe=_e,this.timings={duration:me.duration,delay:me.delay,easing:me.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:T,duration:P,easing:j}=this.timings;if(this._stretchStartingKeyframe&&T){const X=[],me=P+T,_e=T/me,xe=G(m[0]);xe.set("offset",0),X.push(xe);const Xe=G(m[0]);Xe.set("offset",vo(_e)),X.push(Xe);const wt=m.length-1;for(let Pt=1;Pt<=wt;Pt++){let Mn=G(m[Pt]);const Yt=Mn.get("offset");Mn.set("offset",vo((T+Yt*P)/me)),X.push(Mn)}P=me,T=0,j="",m=X}return io(this.element,m,this.preStyleProps,this.postStyleProps,P,T,j,!0)}}function vo(B,m=3){const T=Math.pow(10,m-1);return Math.round(B*T)/T}class ys{}const rn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class wr extends ys{normalizePropertyName(m,T){return Qt(m)}normalizeStyleValue(m,T,P,j){let X="";const me=P.toString().trim();if(rn.has(T)&&0!==P&&"0"!==P)if("number"==typeof P)X="px";else{const _e=P.match(/^[+-]?[\d\.]+([a-z]*)$/);_e&&0==_e[1].length&&j.push(function Ze(B,m){return new J.vHH(3005,!1)}())}return me+X}}function Yr(B,m,T,P,j,X,me,_e,xe,Xe,wt,Pt,Mn){return{type:0,element:B,triggerName:m,isRemovalTransition:j,fromState:T,fromStyles:X,toState:P,toStyles:me,timelines:_e,queriedElements:xe,preStyleProps:Xe,postStyleProps:wt,totalTime:Pt,errors:Mn}}const vs={};class hi{constructor(m,T,P){this._triggerName=m,this.ast=T,this._stateStyles=P}match(m,T,P,j){return function Eo(B,m,T,P,j){return B.some(X=>X(m,T,P,j))}(this.ast.matchers,m,T,P,j)}buildStyles(m,T,P){let j=this._stateStyles.get("*");return void 0!==m&&(j=this._stateStyles.get(m?.toString())||j),j?j.buildStyles(T,P):new Map}build(m,T,P,j,X,me,_e,xe,Xe,wt){const Pt=[],Mn=this.ast.options&&this.ast.options.params||vs,Wt=this.buildStyles(P,_e&&_e.params||vs,Pt),Nt=xe&&xe.params||vs,Or=this.buildStyles(j,Nt,Pt),wi=new Set,vr=new Map,ts=new Map,ti="void"===j,qs={params:Xi(Nt,Mn),delay:this.ast.options?.delay},xs=wt?[]:Ei(m,T,this.ast.animation,X,me,Wt,Or,qs,Xe,Pt);let fi=0;if(xs.forEach(si=>{fi=Math.max(si.duration+si.delay,fi)}),Pt.length)return Yr(T,this._triggerName,P,j,ti,Wt,Or,[],[],vr,ts,fi,Pt);xs.forEach(si=>{const xr=si.element,wo=Fn(vr,xr,new Set);si.preStyleProps.forEach(w=>wo.add(w));const Ks=Fn(ts,xr,new Set);si.postStyleProps.forEach(w=>Ks.add(w)),xr!==T&&wi.add(xr)});const Ki=en(wi.values());return Yr(T,this._triggerName,P,j,ti,Wt,Or,xs,Ki,vr,ts,fi)}}function Xi(B,m){const T=cn(m);for(const P in B)B.hasOwnProperty(P)&&null!=B[P]&&(T[P]=B[P]);return T}class Pi{constructor(m,T,P){this.styles=m,this.defaultParams=T,this.normalizer=P}buildStyles(m,T){const P=new Map,j=cn(this.defaultParams);return Object.keys(m).forEach(X=>{const me=m[X];null!==me&&(j[X]=me)}),this.styles.styles.forEach(X=>{"string"!=typeof X&&X.forEach((me,_e)=>{me&&(me=xt(me,j,T));const xe=this.normalizer.normalizePropertyName(_e,T);me=this.normalizer.normalizeStyleValue(_e,xe,me,T),P.set(_e,me)})}),P}}class Xn{constructor(m,T,P){this.name=m,this.ast=T,this._normalizer=P,this.transitionFactories=[],this.states=new Map,T.states.forEach(j=>{this.states.set(j.name,new Pi(j.style,j.options&&j.options.params||{},P))}),Mt(this.states,"true","1"),Mt(this.states,"false","0"),T.transitions.forEach(j=>{this.transitionFactories.push(new hi(m,j,this.states))}),this.fallbackTransition=function Rt(B,m,T){return new hi(B,{type:1,animation:{type:2,steps:[],options:null},matchers:[(me,_e)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,T,P,j){return this.transitionFactories.find(me=>me.match(m,T,P,j))||null}matchStyles(m,T,P){return this.fallbackTransition.buildStyles(m,T,P)}}function Mt(B,m,T){B.has(m)?B.has(T)||B.set(T,B.get(m)):B.has(T)&&B.set(m,B.get(T))}const er=new go;class $r{constructor(m,T,P){this.bodyNode=m,this._driver=T,this._normalizer=P,this._animations=new Map,this._playersById=new Map,this.players=[]}register(m,T){const P=[],X=ro(this._driver,T,P,[]);if(P.length)throw function qt(B){return new J.vHH(3503,!1)}();this._animations.set(m,X)}_buildPlayer(m,T,P){const j=m.element,X=In(this._normalizer,m.keyframes,T,P);return this._driver.animate(j,X,m.duration,m.delay,m.easing,[],!0)}create(m,T,P={}){const j=[],X=this._animations.get(m);let me;const _e=new Map;if(X?(me=Ei(this._driver,T,X,an,Ji,new Map,new Map,P,er,j),me.forEach(wt=>{const Pt=Fn(_e,wt.element,new Map);wt.postStyleProps.forEach(Mn=>Pt.set(Mn,null))})):(j.push(function Pe(){return new J.vHH(3300,!1)}()),me=[]),j.length)throw function Ve(B){return new J.vHH(3504,!1)}();_e.forEach((wt,Pt)=>{wt.forEach((Mn,Yt)=>{wt.set(Yt,this._driver.computeStyle(Pt,Yt,ye.l3))})});const Xe=Vt(me.map(wt=>{const Pt=_e.get(wt.element);return this._buildPlayer(wt,new Map,Pt)}));return this._playersById.set(m,Xe),Xe.onDestroy(()=>this.destroy(m)),this.players.push(Xe),Xe}destroy(m){const T=this._getPlayer(m);T.destroy(),this._playersById.delete(m);const P=this.players.indexOf(T);P>=0&&this.players.splice(P,1)}_getPlayer(m){const T=this._playersById.get(m);if(!T)throw function Ue(B){return new J.vHH(3301,!1)}();return T}listen(m,T,P,j){const X=Ln(T,"","","");return Tn(this._getPlayer(m),P,X,j),()=>{}}command(m,T,P,j){if("register"==P)return void this.register(m,j[0]);if("create"==P)return void this.create(m,T,j[0]||{});const X=this._getPlayer(m);switch(P){case"play":X.play();break;case"pause":X.pause();break;case"reset":X.reset();break;case"restart":X.restart();break;case"finish":X.finish();break;case"init":X.init();break;case"setPosition":X.setPosition(parseFloat(j[0]));break;case"destroy":this.destroy(m)}}}const Gs="ng-animate-queued",Rs="ng-animate-disabled",ln=[],Wi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Tr="__ng_removed";class Ar{get params(){return this.options.params}constructor(m,T=""){this.namespaceId=T;const P=m&&m.hasOwnProperty("value");if(this.value=function oo(B){return B??null}(P?m.value:m),P){const X=cn(m);delete X.value,this.options=X}else this.options={};this.options.params||(this.options.params={})}absorbOptions(m){const T=m.params;if(T){const P=this.options.params;Object.keys(T).forEach(j=>{null==P[j]&&(P[j]=T[j])})}}}const Ps="void",ii=new Ar(Ps);class Is{constructor(m,T,P){this.id=m,this.hostElement=T,this._engine=P,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+m,mr(T,this._hostClassName)}listen(m,T,P,j){if(!this._triggers.has(T))throw function fe(B,m){return new J.vHH(3302,!1)}();if(null==P||0==P.length)throw function Be(B){return new J.vHH(3303,!1)}();if(!function Io(B){return"start"==B||"done"==B}(P))throw function de(B,m){return new J.vHH(3400,!1)}();const X=Fn(this._elementListeners,m,[]),me={name:T,phase:P,callback:j};X.push(me);const _e=Fn(this._engine.statesByElement,m,new Map);return _e.has(T)||(mr(m,Br),mr(m,Br+"-"+T),_e.set(T,ii)),()=>{this._engine.afterFlush(()=>{const xe=X.indexOf(me);xe>=0&&X.splice(xe,1),this._triggers.has(T)||_e.delete(T)})}}register(m,T){return!this._triggers.has(m)&&(this._triggers.set(m,T),!0)}_getTrigger(m){const T=this._triggers.get(m);if(!T)throw function Se(B){return new J.vHH(3401,!1)}();return T}trigger(m,T,P,j=!0){const X=this._getTrigger(T),me=new So(this.id,T,m);let _e=this._engine.statesByElement.get(m);_e||(mr(m,Br),mr(m,Br+"-"+T),this._engine.statesByElement.set(m,_e=new Map));let xe=_e.get(T);const Xe=new Ar(P,this.id);if(!(P&&P.hasOwnProperty("value"))&&xe&&Xe.absorbOptions(xe.options),_e.set(T,Xe),xe||(xe=ii),Xe.value!==Ps&&xe.value===Xe.value){if(!function _r(B,m){const T=Object.keys(B),P=Object.keys(m);if(T.length!=P.length)return!1;for(let j=0;j<T.length;j++){const X=T[j];if(!m.hasOwnProperty(X)||B[X]!==m[X])return!1}return!0}(xe.params,Xe.params)){const Nt=[],Or=X.matchStyles(xe.value,xe.params,Nt),wi=X.matchStyles(Xe.value,Xe.params,Nt);Nt.length?this._engine.reportError(Nt):this._engine.afterFlush(()=>{W(m,Or),Q(m,wi)})}return}const Mn=Fn(this._engine.playersByElement,m,[]);Mn.forEach(Nt=>{Nt.namespaceId==this.id&&Nt.triggerName==T&&Nt.queued&&Nt.destroy()});let Yt=X.matchTransition(xe.value,Xe.value,m,Xe.params),Wt=!1;if(!Yt){if(!j)return;Yt=X.fallbackTransition,Wt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:T,transition:Yt,fromState:xe,toState:Xe,player:me,isFallbackTransition:Wt}),Wt||(mr(m,Gs),me.onStart(()=>{Ni(m,Gs)})),me.onDone(()=>{let Nt=this.players.indexOf(me);Nt>=0&&this.players.splice(Nt,1);const Or=this._engine.playersByElement.get(m);if(Or){let wi=Or.indexOf(me);wi>=0&&Or.splice(wi,1)}}),this.players.push(me),Mn.push(me),me}deregister(m){this._triggers.delete(m),this._engine.statesByElement.forEach(T=>T.delete(m)),this._elementListeners.forEach((T,P)=>{this._elementListeners.set(P,T.filter(j=>j.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const T=this._engine.playersByElement.get(m);T&&(T.forEach(P=>P.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,T){const P=this._engine.driver.query(m,ci,!0);P.forEach(j=>{if(j[Tr])return;const X=this._engine.fetchNamespacesByElement(j);X.size?X.forEach(me=>me.triggerLeaveAnimation(j,T,!1,!0)):this.clearElementCache(j)}),this._engine.afterFlushAnimationsDone(()=>P.forEach(j=>this.clearElementCache(j)))}triggerLeaveAnimation(m,T,P,j){const X=this._engine.statesByElement.get(m),me=new Map;if(X){const _e=[];if(X.forEach((xe,Xe)=>{if(me.set(Xe,xe.value),this._triggers.has(Xe)){const wt=this.trigger(m,Xe,Ps,j);wt&&_e.push(wt)}}),_e.length)return this._engine.markElementAsRemoved(this.id,m,!0,T,me),P&&Vt(_e).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const T=this._elementListeners.get(m),P=this._engine.statesByElement.get(m);if(T&&P){const j=new Set;T.forEach(X=>{const me=X.name;if(j.has(me))return;j.add(me);const xe=this._triggers.get(me).fallbackTransition,Xe=P.get(me)||ii,wt=new Ar(Ps),Pt=new So(this.id,me,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:me,transition:xe,fromState:Xe,toState:wt,player:Pt,isFallbackTransition:!0})})}}removeNode(m,T){const P=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,T),this.triggerLeaveAnimation(m,T,!0))return;let j=!1;if(P.totalAnimations){const X=P.players.length?P.playersByQueriedElement.get(m):[];if(X&&X.length)j=!0;else{let me=m;for(;me=me.parentNode;)if(P.statesByElement.get(me)){j=!0;break}}}if(this.prepareLeaveAnimationListeners(m),j)P.markElementAsRemoved(this.id,m,!1,T);else{const X=m[Tr];(!X||X===Wi)&&(P.afterFlush(()=>this.clearElementCache(m)),P.destroyInnerAnimations(m),P._onRemovalComplete(m,T))}}insertNode(m,T){mr(m,this._hostClassName)}drainQueuedTransitions(m){const T=[];return this._queue.forEach(P=>{const j=P.player;if(j.destroyed)return;const X=P.element,me=this._elementListeners.get(X);me&&me.forEach(_e=>{if(_e.name==P.triggerName){const xe=Ln(X,P.triggerName,P.fromState.value,P.toState.value);xe._data=m,Tn(P.player,_e.phase,xe,_e.callback)}}),j.markedForDestroy?this._engine.afterFlush(()=>{j.destroy()}):T.push(P)}),this._queue=[],T.sort((P,j)=>{const X=P.transition.ast.depCount,me=j.transition.ast.depCount;return 0==X||0==me?X-me:this._engine.driver.containsElement(P.element,j.element)?1:-1})}destroy(m){this.players.forEach(T=>T.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}}class Ms{_onRemovalComplete(m,T){this.onRemovalComplete(m,T)}constructor(m,T,P){this.bodyNode=m,this.driver=T,this._normalizer=P,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(j,X)=>{}}get queuedPlayers(){const m=[];return this._namespaceList.forEach(T=>{T.players.forEach(P=>{P.queued&&m.push(P)})}),m}createNamespace(m,T){const P=new Is(m,T,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,T)?this._balanceNamespaceList(P,T):(this.newHostElements.set(T,P),this.collectEnterElement(T)),this._namespaceLookup[m]=P}_balanceNamespaceList(m,T){const P=this._namespaceList,j=this.namespacesByHostElement;if(P.length-1>=0){let me=!1,_e=this.driver.getParentElement(T);for(;_e;){const xe=j.get(_e);if(xe){const Xe=P.indexOf(xe);P.splice(Xe+1,0,m),me=!0;break}_e=this.driver.getParentElement(_e)}me||P.unshift(m)}else P.push(m);return j.set(T,m),m}register(m,T){let P=this._namespaceLookup[m];return P||(P=this.createNamespace(m,T)),P}registerTrigger(m,T,P){let j=this._namespaceLookup[m];j&&j.register(T,P)&&this.totalAnimations++}destroy(m,T){m&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const P=this._fetchNamespace(m);this.namespacesByHostElement.delete(P.hostElement);const j=this._namespaceList.indexOf(P);j>=0&&this._namespaceList.splice(j,1),P.destroy(T),delete this._namespaceLookup[m]}))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const T=new Set,P=this.statesByElement.get(m);if(P)for(let j of P.values())if(j.namespaceId){const X=this._fetchNamespace(j.namespaceId);X&&T.add(X)}return T}trigger(m,T,P,j){if(Mi(T)){const X=this._fetchNamespace(m);if(X)return X.trigger(T,P,j),!0}return!1}insertNode(m,T,P,j){if(!Mi(T))return;const X=T[Tr];if(X&&X.setForRemoval){X.setForRemoval=!1,X.setForMove=!0;const me=this.collectedLeaveElements.indexOf(T);me>=0&&this.collectedLeaveElements.splice(me,1)}if(m){const me=this._fetchNamespace(m);me&&me.insertNode(T,P)}j&&this.collectEnterElement(T)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,T){T?this.disabledNodes.has(m)||(this.disabledNodes.add(m),mr(m,Rs)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),Ni(m,Rs))}removeNode(m,T,P){if(Mi(T)){const j=m?this._fetchNamespace(m):null;j?j.removeNode(T,P):this.markElementAsRemoved(m,T,!1,P);const X=this.namespacesByHostElement.get(T);X&&X.id!==m&&X.removeNode(T,P)}else this._onRemovalComplete(T,P)}markElementAsRemoved(m,T,P,j,X){this.collectedLeaveElements.push(T),T[Tr]={namespaceId:m,setForRemoval:j,hasAnimation:P,removedBeforeQueried:!1,previousTriggersValues:X}}listen(m,T,P,j,X){return Mi(T)?this._fetchNamespace(m).listen(T,P,j,X):()=>{}}_buildInstruction(m,T,P,j,X){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,P,j,m.fromState.options,m.toState.options,T,X)}destroyInnerAnimations(m){let T=this.driver.query(m,ci,!0);T.forEach(P=>this.destroyActiveAnimationsForElement(P)),0!=this.playersByQueriedElement.size&&(T=this.driver.query(m,yi,!0),T.forEach(P=>this.finishActiveQueriedAnimationOnElement(P)))}destroyActiveAnimationsForElement(m){const T=this.playersByElement.get(m);T&&T.forEach(P=>{P.queued?P.markedForDestroy=!0:P.destroy()})}finishActiveQueriedAnimationOnElement(m){const T=this.playersByQueriedElement.get(m);T&&T.forEach(P=>P.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return Vt(this.players).onDone(()=>m());m()})}processLeaveNode(m){const T=m[Tr];if(T&&T.setForRemoval){if(m[Tr]=Wi,T.namespaceId){this.destroyInnerAnimations(m);const P=this._fetchNamespace(T.namespaceId);P&&P.clearElementCache(m)}this._onRemovalComplete(m,T.setForRemoval)}m.classList?.contains(Rs)&&this.markElementAsDisabled(m,!1),this.driver.query(m,".ng-animate-disabled",!0).forEach(P=>{this.markElementAsDisabled(P,!1)})}flush(m=-1){let T=[];if(this.newHostElements.size&&(this.newHostElements.forEach((P,j)=>this._balanceNamespaceList(P,j)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let P=0;P<this.collectedEnterElements.length;P++)mr(this.collectedEnterElements[P],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const P=[];try{T=this._flushAnimations(P,m)}finally{for(let j=0;j<P.length;j++)P[j]()}}else for(let P=0;P<this.collectedLeaveElements.length;P++)this.processLeaveNode(this.collectedLeaveElements[P]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(P=>P()),this._flushFns=[],this._whenQuietFns.length){const P=this._whenQuietFns;this._whenQuietFns=[],T.length?Vt(T).onDone(()=>{P.forEach(j=>j())}):P.forEach(j=>j())}}reportError(m){throw function be(B){return new J.vHH(3402,!1)}()}_flushAnimations(m,T){const P=new go,j=[],X=new Map,me=[],_e=new Map,xe=new Map,Xe=new Map,wt=new Set;this.disabledNodes.forEach(N=>{wt.add(N);const te=this.driver.query(N,".ng-animate-queued",!0);for(let Ie=0;Ie<te.length;Ie++)wt.add(te[Ie])});const Pt=this.bodyNode,Mn=Array.from(this.statesByElement.keys()),Yt=os(Mn,this.collectedEnterElements),Wt=new Map;let Nt=0;Yt.forEach((N,te)=>{const Ie=an+Nt++;Wt.set(te,Ie),N.forEach(je=>mr(je,Ie))});const Or=[],wi=new Set,vr=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){const te=this.collectedLeaveElements[N],Ie=te[Tr];Ie&&Ie.setForRemoval&&(Or.push(te),wi.add(te),Ie.hasAnimation?this.driver.query(te,".ng-star-inserted",!0).forEach(je=>wi.add(je)):vr.add(te))}const ts=new Map,ti=os(Mn,Array.from(wi));ti.forEach((N,te)=>{const Ie=Ji+Nt++;ts.set(te,Ie),N.forEach(je=>mr(je,Ie))}),m.push(()=>{Yt.forEach((N,te)=>{const Ie=Wt.get(te);N.forEach(je=>Ni(je,Ie))}),ti.forEach((N,te)=>{const Ie=ts.get(te);N.forEach(je=>Ni(je,Ie))}),Or.forEach(N=>{this.processLeaveNode(N)})});const qs=[],xs=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(T).forEach(Ie=>{const je=Ie.player,vt=Ie.element;if(qs.push(je),this.collectedEnterElements.length){const Bn=vt[Tr];if(Bn&&Bn.setForMove){if(Bn.previousTriggersValues&&Bn.previousTriggersValues.has(Ie.triggerName)){const Di=Bn.previousTriggersValues.get(Ie.triggerName),Rn=this.statesByElement.get(Ie.element);if(Rn&&Rn.has(Ie.triggerName)){const Qi=Rn.get(Ie.triggerName);Qi.value=Di,Rn.set(Ie.triggerName,Qi)}}return void je.destroy()}}const Hn=!Pt||!this.driver.containsElement(Pt,vt),bn=ts.get(vt),zn=Wt.get(vt),zt=this._buildInstruction(Ie,P,zn,bn,Hn);if(zt.errors&&zt.errors.length)return void xs.push(zt);if(Hn)return je.onStart(()=>W(vt,zt.fromStyles)),je.onDestroy(()=>Q(vt,zt.toStyles)),void j.push(je);if(Ie.isFallbackTransition)return je.onStart(()=>W(vt,zt.fromStyles)),je.onDestroy(()=>Q(vt,zt.toStyles)),void j.push(je);const Lr=[];zt.timelines.forEach(Bn=>{Bn.stretchStartingKeyframe=!0,this.disabledNodes.has(Bn.element)||Lr.push(Bn)}),zt.timelines=Lr,P.append(vt,zt.timelines),me.push({instruction:zt,player:je,element:vt}),zt.queriedElements.forEach(Bn=>Fn(_e,Bn,[]).push(je)),zt.preStyleProps.forEach((Bn,Di)=>{if(Bn.size){let Rn=xe.get(Di);Rn||xe.set(Di,Rn=new Set),Bn.forEach((Qi,Hr)=>Rn.add(Hr))}}),zt.postStyleProps.forEach((Bn,Di)=>{let Rn=Xe.get(Di);Rn||Xe.set(Di,Rn=new Set),Bn.forEach((Qi,Hr)=>Rn.add(Hr))})});if(xs.length){const N=[];xs.forEach(te=>{N.push(function kt(B,m){return new J.vHH(3505,!1)}())}),qs.forEach(te=>te.destroy()),this.reportError(N)}const fi=new Map,Ki=new Map;me.forEach(N=>{const te=N.element;P.has(te)&&(Ki.set(te,te),this._beforeAnimationBuild(N.player.namespaceId,N.instruction,fi))}),j.forEach(N=>{const te=N.element;this._getPreviousPlayers(te,!1,N.namespaceId,N.triggerName,null).forEach(je=>{Fn(fi,te,[]).push(je),je.destroy()})});const si=Or.filter(N=>Bo(N,xe,Xe)),xr=new Map;bo(xr,this.driver,vr,Xe,ye.l3).forEach(N=>{Bo(N,xe,Xe)&&si.push(N)});const Ks=new Map;Yt.forEach((N,te)=>{bo(Ks,this.driver,new Set(N),xe,ye.k1)}),si.forEach(N=>{const te=xr.get(N),Ie=Ks.get(N);xr.set(N,new Map([...te?.entries()??[],...Ie?.entries()??[]]))});const w=[],$=[],M={};me.forEach(N=>{const{element:te,player:Ie,instruction:je}=N;if(P.has(te)){if(wt.has(te))return Ie.onDestroy(()=>Q(te,je.toStyles)),Ie.disabled=!0,Ie.overrideTotalTime(je.totalTime),void j.push(Ie);let vt=M;if(Ki.size>1){let bn=te;const zn=[];for(;bn=bn.parentNode;){const zt=Ki.get(bn);if(zt){vt=zt;break}zn.push(bn)}zn.forEach(zt=>Ki.set(zt,vt))}const Hn=this._buildAnimation(Ie.namespaceId,je,fi,X,Ks,xr);if(Ie.setRealPlayer(Hn),vt===M)w.push(Ie);else{const bn=this.playersByElement.get(vt);bn&&bn.length&&(Ie.parentPlayer=Vt(bn)),j.push(Ie)}}else W(te,je.fromStyles),Ie.onDestroy(()=>Q(te,je.toStyles)),$.push(Ie),wt.has(te)&&j.push(Ie)}),$.forEach(N=>{const te=X.get(N.element);if(te&&te.length){const Ie=Vt(te);N.setRealPlayer(Ie)}}),j.forEach(N=>{N.parentPlayer?N.syncPlayerEvents(N.parentPlayer):N.destroy()});for(let N=0;N<Or.length;N++){const te=Or[N],Ie=te[Tr];if(Ni(te,Ji),Ie&&Ie.hasAnimation)continue;let je=[];if(_e.size){let Hn=_e.get(te);Hn&&Hn.length&&je.push(...Hn);let bn=this.driver.query(te,yi,!0);for(let zn=0;zn<bn.length;zn++){let zt=_e.get(bn[zn]);zt&&zt.length&&je.push(...zt)}}const vt=je.filter(Hn=>!Hn.destroyed);vt.length?Ts(this,te,vt):this.processLeaveNode(te)}return Or.length=0,w.forEach(N=>{this.players.push(N),N.onDone(()=>{N.destroy();const te=this.players.indexOf(N);this.players.splice(te,1)}),N.play()}),w}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,T,P,j,X){let me=[];if(T){const _e=this.playersByQueriedElement.get(m);_e&&(me=_e)}else{const _e=this.playersByElement.get(m);if(_e){const xe=!X||X==Ps;_e.forEach(Xe=>{Xe.queued||!xe&&Xe.triggerName!=j||me.push(Xe)})}}return(P||j)&&(me=me.filter(_e=>!(P&&P!=_e.namespaceId||j&&j!=_e.triggerName))),me}_beforeAnimationBuild(m,T,P){const X=T.element,me=T.isRemovalTransition?void 0:m,_e=T.isRemovalTransition?void 0:T.triggerName;for(const xe of T.timelines){const Xe=xe.element,wt=Xe!==X,Pt=Fn(P,Xe,[]);this._getPreviousPlayers(Xe,wt,me,_e,T.toState).forEach(Yt=>{const Wt=Yt.getRealPlayer();Wt.beforeDestroy&&Wt.beforeDestroy(),Yt.destroy(),Pt.push(Yt)})}W(X,T.fromStyles)}_buildAnimation(m,T,P,j,X,me){const _e=T.triggerName,xe=T.element,Xe=[],wt=new Set,Pt=new Set,Mn=T.timelines.map(Wt=>{const Nt=Wt.element;wt.add(Nt);const Or=Nt[Tr];if(Or&&Or.removedBeforeQueried)return new ye.ZN(Wt.duration,Wt.delay);const wi=Nt!==xe,vr=function Uo(B){const m=[];return Os(B,m),m}((P.get(Nt)||ln).map(fi=>fi.getRealPlayer())).filter(fi=>!!fi.element&&fi.element===Nt),ts=X.get(Nt),ti=me.get(Nt),qs=In(this._normalizer,Wt.keyframes,ts,ti),xs=this._buildPlayer(Wt,qs,vr);if(Wt.subTimeline&&j&&Pt.add(Nt),wi){const fi=new So(m,_e,Nt);fi.setRealPlayer(xs),Xe.push(fi)}return xs});Xe.forEach(Wt=>{Fn(this.playersByQueriedElement,Wt.element,[]).push(Wt),Wt.onDone(()=>function Ns(B,m,T){let P=B.get(m);if(P){if(P.length){const j=P.indexOf(T);P.splice(j,1)}0==P.length&&B.delete(m)}return P}(this.playersByQueriedElement,Wt.element,Wt))}),wt.forEach(Wt=>mr(Wt,Jn));const Yt=Vt(Mn);return Yt.onDestroy(()=>{wt.forEach(Wt=>Ni(Wt,Jn)),Q(xe,T.toStyles)}),Pt.forEach(Wt=>{Fn(j,Wt,[]).push(Yt)}),Yt}_buildPlayer(m,T,P){return T.length>0?this.driver.animate(m.element,T,m.duration,m.delay,m.easing,P):new ye.ZN(m.duration,m.delay)}}class So{constructor(m,T,P){this.namespaceId=m,this.triggerName=T,this.element=P,this._player=new ye.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(m){this._containsRealPlayer||(this._player=m,this._queuedCallbacks.forEach((T,P)=>{T.forEach(j=>Tn(m,P,void 0,j))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const T=this._player;T.triggerCallback&&m.onStart(()=>T.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,T){Fn(this._queuedCallbacks,m,[]).push(T)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const T=this._player;T.triggerCallback&&T.triggerCallback(m)}}function Mi(B){return B&&1===B.nodeType}function Sn(B,m){const T=B.style.display;return B.style.display=m??"none",T}function bo(B,m,T,P,j){const X=[];T.forEach(xe=>X.push(Sn(xe)));const me=[];P.forEach((xe,Xe)=>{const wt=new Map;xe.forEach(Pt=>{const Mn=m.computeStyle(Xe,Pt,j);wt.set(Pt,Mn),(!Mn||0==Mn.length)&&(Xe[Tr]=Fi,me.push(Xe))}),B.set(Xe,wt)});let _e=0;return T.forEach(xe=>Sn(xe,X[_e++])),me}function os(B,m){const T=new Map;if(B.forEach(_e=>T.set(_e,[])),0==m.length)return T;const j=new Set(m),X=new Map;function me(_e){if(!_e)return 1;let xe=X.get(_e);if(xe)return xe;const Xe=_e.parentNode;return xe=T.has(Xe)?Xe:j.has(Xe)?1:me(Xe),X.set(_e,xe),xe}return m.forEach(_e=>{const xe=me(_e);1!==xe&&T.get(xe).push(_e)}),T}function mr(B,m){B.classList?.add(m)}function Ni(B,m){B.classList?.remove(m)}function Ts(B,m,T){Vt(T).onDone(()=>B.processLeaveNode(m))}function Os(B,m){for(let T=0;T<B.length;T++){const P=B[T];P instanceof ye.ZE?Os(P.players,m):m.push(P)}}function Bo(B,m,T){const P=T.get(B);if(!P)return!1;let j=m.get(B);return j?P.forEach(X=>j.add(X)):m.set(B,P),T.delete(B),!0}class Cr{constructor(m,T,P){this.bodyNode=m,this._driver=T,this._normalizer=P,this._triggerCache={},this.onRemovalComplete=(j,X)=>{},this._transitionEngine=new Ms(m,T,P),this._timelineEngine=new $r(m,T,P),this._transitionEngine.onRemovalComplete=(j,X)=>this.onRemovalComplete(j,X)}registerTrigger(m,T,P,j,X){const me=m+"-"+j;let _e=this._triggerCache[me];if(!_e){const xe=[],wt=ro(this._driver,X,xe,[]);if(xe.length)throw function Et(B,m){return new J.vHH(3404,!1)}();_e=function Es(B,m,T){return new Xn(B,m,T)}(j,wt,this._normalizer),this._triggerCache[me]=_e}this._transitionEngine.registerTrigger(T,j,_e)}register(m,T){this._transitionEngine.register(m,T)}destroy(m,T){this._transitionEngine.destroy(m,T)}onInsert(m,T,P,j){this._transitionEngine.insertNode(m,T,P,j)}onRemove(m,T,P){this._transitionEngine.removeNode(m,T,P)}disableAnimations(m,T){this._transitionEngine.markElementAsDisabled(m,T)}process(m,T,P,j){if("@"==P.charAt(0)){const[X,me]=sr(P);this._timelineEngine.command(X,T,me,j)}else this._transitionEngine.trigger(m,T,P,j)}listen(m,T,P,j,X){if("@"==P.charAt(0)){const[me,_e]=sr(P);return this._timelineEngine.listen(me,T,_e,X)}return this._transitionEngine.listen(m,T,P,j,X)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(m){this._transitionEngine.afterFlushAnimationsDone(m)}}let To=(()=>{class B{static#e=this.initialStylesByElement=new WeakMap;constructor(T,P,j){this._element=T,this._startStyles=P,this._endStyles=j,this._state=0;let X=B.initialStylesByElement.get(T);X||B.initialStylesByElement.set(T,X=new Map),this._initialStyles=X}start(){this._state<1&&(this._startStyles&&Q(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Q(this._element,this._initialStyles),this._endStyles&&(Q(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(B.initialStylesByElement.delete(this._element),this._startStyles&&(W(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(W(this._element,this._endStyles),this._endStyles=null),Q(this._element,this._initialStyles),this._state=3)}}return B})();function Ii(B){let m=null;return B.forEach((T,P)=>{(function po(B){return"display"===B||"position"===B})(P)&&(m=m||new Map,m.set(P,T))}),m}class Vn{constructor(m,T,P,j){this.element=m,this.keyframes=T,this.options=P,this._specialStyles=j,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=P.duration,this._delay=P.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const m=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,m,this.options),this._finalKeyframe=m.length?m[m.length-1]:new Map;const T=()=>this._onFinish();this.domPlayer.addEventListener("finish",T),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",T)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(m){const T=[];return m.forEach(P=>{T.push(Object.fromEntries(P))}),T}_triggerWebAnimation(m,T,P){return m.animate(this._convertKeyframesToObject(T),P)}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(m=>m()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=m*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m=new Map;this.hasStarted()&&this._finalKeyframe.forEach((P,j)=>{"offset"!==j&&m.set(j,this._finished?P:We(this.element,j))}),this.currentSnapshot=m}triggerCallback(m){const T="start"===m?this._onStartFns:this._onDoneFns;T.forEach(P=>P()),T.length=0}}class Ro{validateStyleProperty(m){return!0}validateAnimatableStyleProperty(m){return!0}matchesElement(m,T){return!1}containsElement(m,T){return Qn(m,T)}getParentElement(m){return Kr(m)}query(m,T,P){return Qr(m,T,P)}computeStyle(m,T,P){return window.getComputedStyle(m)[T]}animate(m,T,P,j,X,me=[]){const xe={duration:P,delay:j,fill:0==j?"both":"forwards"};X&&(xe.easing=X);const Xe=new Map,wt=me.filter(Yt=>Yt instanceof Vn);(function Zr(B,m){return 0===B||0===m})(P,j)&&wt.forEach(Yt=>{Yt.currentSnapshot.forEach((Wt,Nt)=>Xe.set(Nt,Wt))});let Pt=function zi(B){return B.length?B[0]instanceof Map?B:B.map(m=>vi(m)):[]}(T).map(Yt=>G(Yt));Pt=function Li(B,m,T){if(T.size&&m.length){let P=m[0],j=[];if(T.forEach((X,me)=>{P.has(me)||j.push(me),P.set(me,X)}),j.length)for(let X=1;X<m.length;X++){let me=m[X];j.forEach(_e=>me.set(_e,We(B,_e)))}}return m}(m,Pt,Xe);const Mn=function Oi(B,m){let T=null,P=null;return Array.isArray(m)&&m.length?(T=Ii(m[0]),m.length>1&&(P=Ii(m[m.length-1]))):m instanceof Map&&(T=Ii(m)),T||P?new To(B,T,P):null}(m,Pt);return new Vn(m,Pt,xe,Mn)}}var Ws=L(6814);let na=(()=>{class B extends ye._j{constructor(T,P){super(),this._nextAnimationId=0,this._renderer=T.createRenderer(P.body,{id:"0",encapsulation:J.ifc.None,styles:[],data:{animation:[]}})}build(T){const P=this._nextAnimationId.toString();this._nextAnimationId++;const j=Array.isArray(T)?(0,ye.vP)(T):T;return qi(this._renderer,null,P,"register",[j]),new wa(P,this._renderer)}static#e=this.\u0275fac=function(P){return new(P||B)(J.LFG(J.FYo),J.LFG(Ws.K0))};static#t=this.\u0275prov=J.Yz7({token:B,factory:B.\u0275fac})}return B})();class wa extends ye.LC{constructor(m,T){super(),this._id=m,this._renderer=T}create(m,T){return new $o(this._id,m,T||{},this._renderer)}}class $o{constructor(m,T,P,j){this.id=m,this.element=T,this._renderer=j,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",P)}_listen(m,T){return this._renderer.listen(this.element,`@@${this.id}:${m}`,T)}_command(m,...T){return qi(this._renderer,this.element,this.id,m,T)}onDone(m){this._listen("done",m)}onStart(m){this._listen("start",m)}onDestroy(m){this._listen("destroy",m)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(m){this._command("setPosition",m)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function qi(B,m,T,P,j){return B.setProperty(m,`@@${T}:${P}`,j)}const F="@",U="@.disabled";let ae=(()=>{class B{constructor(T,P,j){this.delegate=T,this.engine=P,this._zone=j,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,P.onRemovalComplete=(X,me)=>{const _e=me?.parentNode(X);_e&&me.removeChild(_e,X)}}createRenderer(T,P){const X=this.delegate.createRenderer(T,P);if(!(T&&P&&P.data&&P.data.animation)){let wt=this._rendererCache.get(X);return wt||(wt=new ue("",X,this.engine,()=>this._rendererCache.delete(X)),this._rendererCache.set(X,wt)),wt}const me=P.id,_e=P.id+"-"+this._currentId;this._currentId++,this.engine.register(_e,T);const xe=wt=>{Array.isArray(wt)?wt.forEach(xe):this.engine.registerTrigger(me,_e,T,wt.name,wt)};return P.data.animation.forEach(xe),new Me(this,_e,X,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(T,P,j){T>=0&&T<this._microtaskId?this._zone.run(()=>P(j)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(X=>{const[me,_e]=X;me(_e)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([P,j]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(P){return new(P||B)(J.LFG(J.FYo),J.LFG(Cr),J.LFG(J.R0b))};static#t=this.\u0275prov=J.Yz7({token:B,factory:B.\u0275fac})}return B})();class ue{constructor(m,T,P,j){this.namespaceId=m,this.delegate=T,this.engine=P,this._onDestroy=j}get data(){return this.delegate.data}destroyNode(m){this.delegate.destroyNode?.(m)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(m,T){return this.delegate.createElement(m,T)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,T){this.delegate.appendChild(m,T),this.engine.onInsert(this.namespaceId,T,m,!1)}insertBefore(m,T,P,j=!0){this.delegate.insertBefore(m,T,P),this.engine.onInsert(this.namespaceId,T,m,j)}removeChild(m,T,P){this.engine.onRemove(this.namespaceId,T,this.delegate)}selectRootElement(m,T){return this.delegate.selectRootElement(m,T)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,T,P,j){this.delegate.setAttribute(m,T,P,j)}removeAttribute(m,T,P){this.delegate.removeAttribute(m,T,P)}addClass(m,T){this.delegate.addClass(m,T)}removeClass(m,T){this.delegate.removeClass(m,T)}setStyle(m,T,P,j){this.delegate.setStyle(m,T,P,j)}removeStyle(m,T,P){this.delegate.removeStyle(m,T,P)}setProperty(m,T,P){T.charAt(0)==F&&T==U?this.disableAnimations(m,!!P):this.delegate.setProperty(m,T,P)}setValue(m,T){this.delegate.setValue(m,T)}listen(m,T,P){return this.delegate.listen(m,T,P)}disableAnimations(m,T){this.engine.disableAnimations(m,T)}}class Me extends ue{constructor(m,T,P,j,X){super(T,P,j,X),this.factory=m,this.namespaceId=T}setProperty(m,T,P){T.charAt(0)==F?"."==T.charAt(1)&&T==U?this.disableAnimations(m,P=void 0===P||!!P):this.engine.process(this.namespaceId,m,T.slice(1),P):this.delegate.setProperty(m,T,P)}listen(m,T,P){if(T.charAt(0)==F){const j=function Je(B){switch(B){case"body":return document.body;case"document":return document;case"window":return window;default:return B}}(m);let X=T.slice(1),me="";return X.charAt(0)!=F&&([X,me]=function mt(B){const m=B.indexOf(".");return[B.substring(0,m),B.slice(m+1)]}(X)),this.engine.listen(this.namespaceId,j,X,me,_e=>{this.factory.scheduleListenerCallback(_e._data||-1,P,_e)})}return this.delegate.listen(m,T,P)}}const Un=[{provide:ye._j,useClass:na},{provide:ys,useFactory:function $t(){return new wr}},{provide:Cr,useClass:(()=>{class B extends Cr{constructor(T,P,j,X){super(T.body,P,j)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(P){return new(P||B)(J.LFG(Ws.K0),J.LFG(pr),J.LFG(ys),J.LFG(J.z2F))};static#t=this.\u0275prov=J.Yz7({token:B,factory:B.\u0275fac})}return B})()},{provide:J.FYo,useFactory:function wn(B,m,T){return new ae(B,m,T)},deps:[_.se,Cr,J.R0b]}],yr=[{provide:pr,useFactory:()=>new Ro},{provide:J.QbO,useValue:"BrowserAnimations"},...Un],kr=[{provide:pr,useClass:An},{provide:J.QbO,useValue:"NoopAnimations"},...Un];let Nr=(()=>{class B{static withConfig(T){return{ngModule:B,providers:T.disableAnimations?kr:yr}}static#e=this.\u0275fac=function(P){return new(P||B)};static#t=this.\u0275mod=J.oAB({type:B});static#n=this.\u0275inj=J.cJS({providers:yr,imports:[_.b2]})}return B})();var Xr=L(2425),jr=L(721),ur=L(3435),ei=L(5349),tr=L(5017);let Ui=(()=>{class B{static#e=this.\u0275fac=function(P){return new(P||B)};static#t=this.\u0275mod=J.oAB({type:B,bootstrap:[Ae]});static#n=this.\u0275inj=J.cJS({imports:[_.b2,ie,Nr,Xr.Rh.forRoot(),(0,jr.hX)(()=>(0,jr.ZF)({projectId:"tp2-clinica-9e1f4",appId:"1:660333245538:web:fe4c0f807cc0e563194d3b",storageBucket:"tp2-clinica-9e1f4.appspot.com",apiKey:"AIzaSyAotNKaZl0BmwLKudsjFaMhnApZdnIk8bA",authDomain:"tp2-clinica-9e1f4.firebaseapp.com",messagingSenderId:"660333245538",measurementId:"G-FDV6T4L36V"})),(0,ur.AR)(()=>(0,ur.v0)()),(0,ei.Cm)(()=>(0,ei.ad)()),(0,tr.Vq)(()=>(0,tr.cF)())]})}return B})();_.q6().bootstrapModule(Ui).catch(B=>console.error(B))},5619:(It,Fe,L)=>{L.d(Fe,{X:()=>re});var _=L(8645);class re extends _.x{constructor(J){super(),this._value=J}get value(){return this.getValue()}_subscribe(J){const Y=super._subscribe(J);return!Y.closed&&J.next(this._value),Y}getValue(){const{hasError:J,thrownError:Y,_value:ie}=this;if(J)throw Y;return this._throwIfClosed(),ie}next(J){super.next(this._value=J)}}},5592:(It,Fe,L)=>{L.d(Fe,{y:()=>ye});var _=L(305),re=L(7394),he=L(4850),J=L(8407),Y=L(2653),ie=L(4674),Ae=L(1441);let ye=(()=>{class Ee{constructor(Qe){Qe&&(this._subscribe=Qe)}lift(Qe){const Le=new Ee;return Le.source=this,Le.operator=Qe,Le}subscribe(Qe,Le,Ze){const _t=function ce(Ee){return Ee&&Ee instanceof _.Lv||function ee(Ee){return Ee&&(0,ie.m)(Ee.next)&&(0,ie.m)(Ee.error)&&(0,ie.m)(Ee.complete)}(Ee)&&(0,re.Nn)(Ee)}(Qe)?Qe:new _.Hp(Qe,Le,Ze);return(0,Ae.x)(()=>{const{operator:ht,source:Jt}=this;_t.add(ht?ht.call(_t,Jt):Jt?this._subscribe(_t):this._trySubscribe(_t))}),_t}_trySubscribe(Qe){try{return this._subscribe(Qe)}catch(Le){Qe.error(Le)}}forEach(Qe,Le){return new(Le=ge(Le))((Ze,_t)=>{const ht=new _.Hp({next:Jt=>{try{Qe(Jt)}catch(Tt){_t(Tt),ht.unsubscribe()}},error:_t,complete:Ze});this.subscribe(ht)})}_subscribe(Qe){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(Qe)}[he.L](){return this}pipe(...Qe){return(0,J.U)(Qe)(this)}toPromise(Qe){return new(Qe=ge(Qe))((Le,Ze)=>{let _t;this.subscribe(ht=>_t=ht,ht=>Ze(ht),()=>Le(_t))})}}return Ee.create=we=>new Ee(we),Ee})();function ge(Ee){var we;return null!==(we=Ee??Y.config.Promise)&&void 0!==we?we:Promise}},8645:(It,Fe,L)=>{L.d(Fe,{x:()=>Ae});var _=L(5592),re=L(7394);const J=(0,L(2306).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=L(9039),ie=L(1441);let Ae=(()=>{class ge extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const Ee=new ye(this,this);return Ee.operator=ce,Ee}_throwIfClosed(){if(this.closed)throw new J}next(ce){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ee of this.currentObservers)Ee.next(ce)}})}error(ce){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:Ee}=this;for(;Ee.length;)Ee.shift().error(ce)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:Ee,isStopped:we,observers:Qe}=this;return Ee||we?re.Lc:(this.currentObservers=null,Qe.push(ce),new re.w0(()=>{this.currentObservers=null,(0,Y.P)(Qe,ce)}))}_checkFinalizedStatuses(ce){const{hasError:Ee,thrownError:we,isStopped:Qe}=this;Ee?ce.error(we):Qe&&ce.complete()}asObservable(){const ce=new _.y;return ce.source=this,ce}}return ge.create=(ee,ce)=>new ye(ee,ce),ge})();class ye extends Ae{constructor(ee,ce){super(),this.destination=ee,this.source=ce}next(ee){var ce,Ee;null===(Ee=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===Ee||Ee.call(ce,ee)}error(ee){var ce,Ee;null===(Ee=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===Ee||Ee.call(ce,ee)}complete(){var ee,ce;null===(ce=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===ce||ce.call(ee)}_subscribe(ee){var ce,Ee;return null!==(Ee=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(ee))&&void 0!==Ee?Ee:re.Lc}}},305:(It,Fe,L)=>{L.d(Fe,{Hp:()=>Ze,Lv:()=>Ee});var _=L(4674),re=L(7394),he=L(2653),J=L(3894),Y=L(2420);const ie=ge("C",void 0,void 0);function ge(le,qe,Ce){return{kind:le,value:qe,error:Ce}}var ee=L(7599),ce=L(1441);class Ee extends re.w0{constructor(qe){super(),this.isStopped=!1,qe?(this.destination=qe,(0,re.Nn)(qe)&&qe.add(this)):this.destination=Tt}static create(qe,Ce,Ye){return new Ze(qe,Ce,Ye)}next(qe){this.isStopped?Jt(function ye(le){return ge("N",le,void 0)}(qe),this):this._next(qe)}error(qe){this.isStopped?Jt(function Ae(le){return ge("E",void 0,le)}(qe),this):(this.isStopped=!0,this._error(qe))}complete(){this.isStopped?Jt(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(qe){this.destination.next(qe)}_error(qe){try{this.destination.error(qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const we=Function.prototype.bind;function Qe(le,qe){return we.call(le,qe)}class Le{constructor(qe){this.partialObserver=qe}next(qe){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(qe)}catch(Ye){_t(Ye)}}error(qe){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(qe)}catch(Ye){_t(Ye)}else _t(qe)}complete(){const{partialObserver:qe}=this;if(qe.complete)try{qe.complete()}catch(Ce){_t(Ce)}}}class Ze extends Ee{constructor(qe,Ce,Ye){let ut;if(super(),(0,_.m)(qe)||!qe)ut={next:qe??void 0,error:Ce??void 0,complete:Ye??void 0};else{let lt;this&&he.config.useDeprecatedNextContext?(lt=Object.create(qe),lt.unsubscribe=()=>this.unsubscribe(),ut={next:qe.next&&Qe(qe.next,lt),error:qe.error&&Qe(qe.error,lt),complete:qe.complete&&Qe(qe.complete,lt)}):ut=qe}this.destination=new Le(ut)}}function _t(le){he.config.useDeprecatedSynchronousErrorHandling?(0,ce.O)(le):(0,J.h)(le)}function Jt(le,qe){const{onStoppedNotification:Ce}=he.config;Ce&&ee.z.setTimeout(()=>Ce(le,qe))}const Tt={closed:!0,next:Y.Z,error:function ht(le){throw le},complete:Y.Z}},7394:(It,Fe,L)=>{L.d(Fe,{Lc:()=>ie,w0:()=>Y,Nn:()=>Ae});var _=L(4674);const he=(0,L(2306).d)(ge=>function(ce){ge(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((Ee,we)=>`${we+1}) ${Ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var J=L(9039);class Y{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const Qe of ce)Qe.remove(this);else ce.remove(this);const{initialTeardown:Ee}=this;if((0,_.m)(Ee))try{Ee()}catch(Qe){ee=Qe instanceof he?Qe.errors:[Qe]}const{_finalizers:we}=this;if(we){this._finalizers=null;for(const Qe of we)try{ye(Qe)}catch(Le){ee=ee??[],Le instanceof he?ee=[...ee,...Le.errors]:ee.push(Le)}}if(ee)throw new he(ee)}}add(ee){var ce;if(ee&&ee!==this)if(this.closed)ye(ee);else{if(ee instanceof Y){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(ee)}}_hasParent(ee){const{_parentage:ce}=this;return ce===ee||Array.isArray(ce)&&ce.includes(ee)}_addParent(ee){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(ee),ce):ce?[ce,ee]:ee}_removeParent(ee){const{_parentage:ce}=this;ce===ee?this._parentage=null:Array.isArray(ce)&&(0,J.P)(ce,ee)}remove(ee){const{_finalizers:ce}=this;ce&&(0,J.P)(ce,ee),ee instanceof Y&&ee._removeParent(this)}}Y.EMPTY=(()=>{const ge=new Y;return ge.closed=!0,ge})();const ie=Y.EMPTY;function Ae(ge){return ge instanceof Y||ge&&"closed"in ge&&(0,_.m)(ge.remove)&&(0,_.m)(ge.add)&&(0,_.m)(ge.unsubscribe)}function ye(ge){(0,_.m)(ge)?ge():ge.unsubscribe()}},2653:(It,Fe,L)=>{L.d(Fe,{config:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(It,Fe,L)=>{L.d(Fe,{c:()=>ie});var _=L(5592),re=L(7394),he=L(6196),J=L(8251),Y=L(9360);class ie extends _.y{constructor(ye,ge){super(),this.source=ye,this.subjectFactory=ge,this._subject=null,this._refCount=0,this._connection=null,(0,Y.A)(ye)&&(this.lift=ye.lift)}_subscribe(ye){return this.getSubject().subscribe(ye)}getSubject(){const ye=this._subject;return(!ye||ye.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ye}=this;this._subject=this._connection=null,ye?.unsubscribe()}connect(){let ye=this._connection;if(!ye){ye=this._connection=new re.w0;const ge=this.getSubject();ye.add(this.source.subscribe((0,J.x)(ge,void 0,()=>{this._teardown(),ge.complete()},ee=>{this._teardown(),ge.error(ee)},()=>this._teardown()))),ye.closed&&(this._connection=null,ye=re.w0.EMPTY)}return ye}refCount(){return(0,he.x)()(this)}}},2572:(It,Fe,L)=>{L.d(Fe,{a:()=>ee});var _=L(5592),re=L(7453),he=L(2459),J=L(2737),Y=L(7400),ie=L(9940),Ae=L(2714),ye=L(8251),ge=L(7103);function ee(...we){const Qe=(0,ie.yG)(we),Le=(0,ie.jO)(we),{args:Ze,keys:_t}=(0,re.D)(we);if(0===Ze.length)return(0,he.D)([],Qe);const ht=new _.y(function ce(we,Qe,Le=J.y){return Ze=>{Ee(Qe,()=>{const{length:_t}=we,ht=new Array(_t);let Jt=_t,Tt=_t;for(let le=0;le<_t;le++)Ee(Qe,()=>{const qe=(0,he.D)(we[le],Qe);let Ce=!1;qe.subscribe((0,ye.x)(Ze,Ye=>{ht[le]=Ye,Ce||(Ce=!0,Tt--),Tt||Ze.next(Le(ht.slice()))},()=>{--Jt||Ze.complete()}))},Ze)},Ze)}}(Ze,Qe,_t?Jt=>(0,Ae.n)(_t,Jt):J.y));return Le?ht.pipe((0,Y.Z)(Le)):ht}function Ee(we,Qe,Le){we?(0,ge.f)(Le,we,Qe):Qe()}},5211:(It,Fe,L)=>{L.d(Fe,{z:()=>Y});var _=L(7537),he=L(9940),J=L(2459);function Y(...ie){return function re(){return(0,_.J)(1)}()((0,J.D)(ie,(0,he.yG)(ie)))}},4911:(It,Fe,L)=>{L.d(Fe,{P:()=>he});var _=L(5592),re=L(4829);function he(J){return new _.y(Y=>{(0,re.Xf)(J()).subscribe(Y)})}},6232:(It,Fe,L)=>{L.d(Fe,{E:()=>re});const re=new(L(5592).y)(Y=>Y.complete())},2459:(It,Fe,L)=>{L.d(Fe,{D:()=>qe});var _=L(4829),re=L(3093),he=L(5137),ie=L(5592),ye=L(4971),ge=L(4674),ee=L(7103);function Ee(Ce,Ye){if(!Ce)throw new Error("Iterable cannot be null");return new ie.y(ut=>{(0,ee.f)(ut,Ye,()=>{const lt=Ce[Symbol.asyncIterator]();(0,ee.f)(ut,Ye,()=>{lt.next().then(hn=>{hn.done?ut.complete():ut.next(hn.value)})},0,!0)})})}var we=L(8382),Qe=L(4026),Le=L(4266),Ze=L(3664),_t=L(5726),ht=L(9853),Jt=L(541);function qe(Ce,Ye){return Ye?function le(Ce,Ye){if(null!=Ce){if((0,we.c)(Ce))return function J(Ce,Ye){return(0,_.Xf)(Ce).pipe((0,he.R)(Ye),(0,re.Q)(Ye))}(Ce,Ye);if((0,Le.z)(Ce))return function Ae(Ce,Ye){return new ie.y(ut=>{let lt=0;return Ye.schedule(function(){lt===Ce.length?ut.complete():(ut.next(Ce[lt++]),ut.closed||this.schedule())})})}(Ce,Ye);if((0,Qe.t)(Ce))return function Y(Ce,Ye){return(0,_.Xf)(Ce).pipe((0,he.R)(Ye),(0,re.Q)(Ye))}(Ce,Ye);if((0,_t.D)(Ce))return Ee(Ce,Ye);if((0,Ze.T)(Ce))return function ce(Ce,Ye){return new ie.y(ut=>{let lt;return(0,ee.f)(ut,Ye,()=>{lt=Ce[ye.h](),(0,ee.f)(ut,Ye,()=>{let hn,fn;try{({value:hn,done:fn}=lt.next())}catch(Kn){return void ut.error(Kn)}fn?ut.complete():ut.next(hn)},0,!0)}),()=>(0,ge.m)(lt?.return)&&lt.return()})}(Ce,Ye);if((0,Jt.L)(Ce))return function Tt(Ce,Ye){return Ee((0,Jt.Q)(Ce),Ye)}(Ce,Ye)}throw(0,ht.z)(Ce)}(Ce,Ye):(0,_.Xf)(Ce)}},4829:(It,Fe,L)=>{L.d(Fe,{Xf:()=>we});var _=L(7582),re=L(4266),he=L(4026),J=L(5592),Y=L(8382),ie=L(5726),Ae=L(9853),ye=L(3664),ge=L(541),ee=L(4674),ce=L(3894),Ee=L(4850);function we(le){if(le instanceof J.y)return le;if(null!=le){if((0,Y.c)(le))return function Qe(le){return new J.y(qe=>{const Ce=le[Ee.L]();if((0,ee.m)(Ce.subscribe))return Ce.subscribe(qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(le);if((0,re.z)(le))return function Le(le){return new J.y(qe=>{for(let Ce=0;Ce<le.length&&!qe.closed;Ce++)qe.next(le[Ce]);qe.complete()})}(le);if((0,he.t)(le))return function Ze(le){return new J.y(qe=>{le.then(Ce=>{qe.closed||(qe.next(Ce),qe.complete())},Ce=>qe.error(Ce)).then(null,ce.h)})}(le);if((0,ie.D)(le))return ht(le);if((0,ye.T)(le))return function _t(le){return new J.y(qe=>{for(const Ce of le)if(qe.next(Ce),qe.closed)return;qe.complete()})}(le);if((0,ge.L)(le))return function Jt(le){return ht((0,ge.Q)(le))}(le)}throw(0,Ae.z)(le)}function ht(le){return new J.y(qe=>{(function Tt(le,qe){var Ce,Ye,ut,lt;return(0,_.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,_.KL)(le);!(Ye=yield Ce.next()).done;)if(qe.next(Ye.value),qe.closed)return}catch(hn){ut={error:hn}}finally{try{Ye&&!Ye.done&&(lt=Ce.return)&&(yield lt.call(Ce))}finally{if(ut)throw ut.error}}qe.complete()})})(le,qe).catch(Ce=>qe.error(Ce))})}},3019:(It,Fe,L)=>{L.d(Fe,{T:()=>ie});var _=L(7537),re=L(4829),he=L(6232),J=L(9940),Y=L(2459);function ie(...Ae){const ye=(0,J.yG)(Ae),ge=(0,J._6)(Ae,1/0),ee=Ae;return ee.length?1===ee.length?(0,re.Xf)(ee[0]):(0,_.J)(ge)((0,Y.D)(ee,ye)):he.E}},2096:(It,Fe,L)=>{L.d(Fe,{of:()=>he});var _=L(9940),re=L(2459);function he(...J){const Y=(0,_.yG)(J);return(0,re.D)(J,Y)}},8504:(It,Fe,L)=>{L.d(Fe,{_:()=>he});var _=L(5592),re=L(4674);function he(J,Y){const ie=(0,re.m)(J)?J:()=>J,Ae=ye=>ye.error(ie());return new _.y(Y?ye=>Y.schedule(Ae,0,ye):Ae)}},8251:(It,Fe,L)=>{L.d(Fe,{x:()=>re});var _=L(305);function re(J,Y,ie,Ae,ye){return new he(J,Y,ie,Ae,ye)}class he extends _.Lv{constructor(Y,ie,Ae,ye,ge,ee){super(Y),this.onFinalize=ge,this.shouldUnsubscribe=ee,this._next=ie?function(ce){try{ie(ce)}catch(Ee){Y.error(Ee)}}:super._next,this._error=ye?function(ce){try{ye(ce)}catch(Ee){Y.error(Ee)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(ce){Y.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(Y=this.onFinalize)||void 0===Y||Y.call(this))}}}},6306:(It,Fe,L)=>{L.d(Fe,{K:()=>J});var _=L(4829),re=L(8251),he=L(9360);function J(Y){return(0,he.e)((ie,Ae)=>{let ee,ye=null,ge=!1;ye=ie.subscribe((0,re.x)(Ae,void 0,void 0,ce=>{ee=(0,_.Xf)(Y(ce,J(Y)(ie))),ye?(ye.unsubscribe(),ye=null,ee.subscribe(Ae)):ge=!0})),ge&&(ye.unsubscribe(),ye=null,ee.subscribe(Ae))})}},6328:(It,Fe,L)=>{L.d(Fe,{b:()=>he});var _=L(1631),re=L(4674);function he(J,Y){return(0,re.m)(Y)?(0,_.z)(J,Y,1):(0,_.z)(J,1)}},3997:(It,Fe,L)=>{L.d(Fe,{x:()=>J});var _=L(2737),re=L(9360),he=L(8251);function J(ie,Ae=_.y){return ie=ie??Y,(0,re.e)((ye,ge)=>{let ee,ce=!0;ye.subscribe((0,he.x)(ge,Ee=>{const we=Ae(Ee);(ce||!ie(ee,we))&&(ce=!1,ee=we,ge.next(Ee))}))})}function Y(ie,Ae){return ie===Ae}},2181:(It,Fe,L)=>{L.d(Fe,{h:()=>he});var _=L(9360),re=L(8251);function he(J,Y){return(0,_.e)((ie,Ae)=>{let ye=0;ie.subscribe((0,re.x)(Ae,ge=>J.call(Y,ge,ye++)&&Ae.next(ge)))})}},4716:(It,Fe,L)=>{L.d(Fe,{x:()=>re});var _=L(9360);function re(he){return(0,_.e)((J,Y)=>{try{J.subscribe(Y)}finally{Y.add(he)}})}},7398:(It,Fe,L)=>{L.d(Fe,{U:()=>he});var _=L(9360),re=L(8251);function he(J,Y){return(0,_.e)((ie,Ae)=>{let ye=0;ie.subscribe((0,re.x)(Ae,ge=>{Ae.next(J.call(Y,ge,ye++))}))})}},975:(It,Fe,L)=>{L.d(Fe,{h:()=>re});var _=L(7398);function re(he){return(0,_.U)(()=>he)}},7537:(It,Fe,L)=>{L.d(Fe,{J:()=>he});var _=L(1631),re=L(2737);function he(J=1/0){return(0,_.z)(re.y,J)}},1631:(It,Fe,L)=>{L.d(Fe,{z:()=>ye});var _=L(7398),re=L(4829),he=L(9360),J=L(7103),Y=L(8251),Ae=L(4674);function ye(ge,ee,ce=1/0){return(0,Ae.m)(ee)?ye((Ee,we)=>(0,_.U)((Qe,Le)=>ee(Ee,Qe,we,Le))((0,re.Xf)(ge(Ee,we))),ce):("number"==typeof ee&&(ce=ee),(0,he.e)((Ee,we)=>function ie(ge,ee,ce,Ee,we,Qe,Le,Ze){const _t=[];let ht=0,Jt=0,Tt=!1;const le=()=>{Tt&&!_t.length&&!ht&&ee.complete()},qe=Ye=>ht<Ee?Ce(Ye):_t.push(Ye),Ce=Ye=>{Qe&&ee.next(Ye),ht++;let ut=!1;(0,re.Xf)(ce(Ye,Jt++)).subscribe((0,Y.x)(ee,lt=>{we?.(lt),Qe?qe(lt):ee.next(lt)},()=>{ut=!0},void 0,()=>{if(ut)try{for(ht--;_t.length&&ht<Ee;){const lt=_t.shift();Le?(0,J.f)(ee,Le,()=>Ce(lt)):Ce(lt)}le()}catch(lt){ee.error(lt)}}))};return ge.subscribe((0,Y.x)(ee,qe,()=>{Tt=!0,le()})),()=>{Ze?.()}}(Ee,we,ge,ce)))}},3093:(It,Fe,L)=>{L.d(Fe,{Q:()=>J});var _=L(7103),re=L(9360),he=L(8251);function J(Y,ie=0){return(0,re.e)((Ae,ye)=>{Ae.subscribe((0,he.x)(ye,ge=>(0,_.f)(ye,Y,()=>ye.next(ge),ie),()=>(0,_.f)(ye,Y,()=>ye.complete(),ie),ge=>(0,_.f)(ye,Y,()=>ye.error(ge),ie)))})}},6196:(It,Fe,L)=>{L.d(Fe,{x:()=>he});var _=L(9360),re=L(8251);function he(){return(0,_.e)((J,Y)=>{let ie=null;J._refCount++;const Ae=(0,re.x)(Y,void 0,void 0,void 0,()=>{if(!J||J._refCount<=0||0<--J._refCount)return void(ie=null);const ye=J._connection,ge=ie;ie=null,ye&&(!ge||ye===ge)&&ye.unsubscribe(),Y.unsubscribe()});J.subscribe(Ae),Ae.closed||(ie=J.connect())})}},3020:(It,Fe,L)=>{L.d(Fe,{B:()=>Y});var _=L(4829),re=L(8645),he=L(305),J=L(9360);function Y(Ae={}){const{connector:ye=(()=>new re.x),resetOnError:ge=!0,resetOnComplete:ee=!0,resetOnRefCountZero:ce=!0}=Ae;return Ee=>{let we,Qe,Le,Ze=0,_t=!1,ht=!1;const Jt=()=>{Qe?.unsubscribe(),Qe=void 0},Tt=()=>{Jt(),we=Le=void 0,_t=ht=!1},le=()=>{const qe=we;Tt(),qe?.unsubscribe()};return(0,J.e)((qe,Ce)=>{Ze++,!ht&&!_t&&Jt();const Ye=Le=Le??ye();Ce.add(()=>{Ze--,0===Ze&&!ht&&!_t&&(Qe=ie(le,ce))}),Ye.subscribe(Ce),!we&&Ze>0&&(we=new he.Hp({next:ut=>Ye.next(ut),error:ut=>{ht=!0,Jt(),Qe=ie(Tt,ge,ut),Ye.error(ut)},complete:()=>{_t=!0,Jt(),Qe=ie(Tt,ee),Ye.complete()}}),(0,_.Xf)(qe).subscribe(we))})(Ee)}}function ie(Ae,ye,...ge){if(!0===ye)return void Ae();if(!1===ye)return;const ee=new he.Hp({next:()=>{ee.unsubscribe(),Ae()}});return(0,_.Xf)(ye(...ge)).subscribe(ee)}},7921:(It,Fe,L)=>{L.d(Fe,{O:()=>J});var _=L(5211),re=L(9940),he=L(9360);function J(...Y){const ie=(0,re.yG)(Y);return(0,he.e)((Ae,ye)=>{(ie?(0,_.z)(Y,Ae,ie):(0,_.z)(Y,Ae)).subscribe(ye)})}},5137:(It,Fe,L)=>{L.d(Fe,{R:()=>re});var _=L(9360);function re(he,J=0){return(0,_.e)((Y,ie)=>{ie.add(he.schedule(()=>Y.subscribe(ie),J))})}},4664:(It,Fe,L)=>{L.d(Fe,{w:()=>J});var _=L(4829),re=L(9360),he=L(8251);function J(Y,ie){return(0,re.e)((Ae,ye)=>{let ge=null,ee=0,ce=!1;const Ee=()=>ce&&!ge&&ye.complete();Ae.subscribe((0,he.x)(ye,we=>{ge?.unsubscribe();let Qe=0;const Le=ee++;(0,_.Xf)(Y(we,Le)).subscribe(ge=(0,he.x)(ye,Ze=>ye.next(ie?ie(we,Ze,Le,Qe++):Ze),()=>{ge=null,Ee()}))},()=>{ce=!0,Ee()}))})}},8180:(It,Fe,L)=>{L.d(Fe,{q:()=>J});var _=L(6232),re=L(9360),he=L(8251);function J(Y){return Y<=0?()=>_.E:(0,re.e)((ie,Ae)=>{let ye=0;ie.subscribe((0,he.x)(Ae,ge=>{++ye<=Y&&(Ae.next(ge),Y<=ye&&Ae.complete())}))})}},9773:(It,Fe,L)=>{L.d(Fe,{R:()=>Y});var _=L(9360),re=L(8251),he=L(4829),J=L(2420);function Y(ie){return(0,_.e)((Ae,ye)=>{(0,he.Xf)(ie).subscribe((0,re.x)(ye,()=>ye.complete(),J.Z)),!ye.closed&&Ae.subscribe(ye)})}},9397:(It,Fe,L)=>{L.d(Fe,{b:()=>Y});var _=L(4674),re=L(9360),he=L(8251),J=L(2737);function Y(ie,Ae,ye){const ge=(0,_.m)(ie)||Ae||ye?{next:ie,error:Ae,complete:ye}:ie;return ge?(0,re.e)((ee,ce)=>{var Ee;null===(Ee=ge.subscribe)||void 0===Ee||Ee.call(ge);let we=!0;ee.subscribe((0,he.x)(ce,Qe=>{var Le;null===(Le=ge.next)||void 0===Le||Le.call(ge,Qe),ce.next(Qe)},()=>{var Qe;we=!1,null===(Qe=ge.complete)||void 0===Qe||Qe.call(ge),ce.complete()},Qe=>{var Le;we=!1,null===(Le=ge.error)||void 0===Le||Le.call(ge,Qe),ce.error(Qe)},()=>{var Qe,Le;we&&(null===(Qe=ge.unsubscribe)||void 0===Qe||Qe.call(ge)),null===(Le=ge.finalize)||void 0===Le||Le.call(ge)}))}):J.y}},1954:(It,Fe,L)=>{L.d(Fe,{o:()=>Y});var _=L(7394);class re extends _.w0{constructor(Ae,ye){super()}schedule(Ae,ye=0){return this}}const he={setInterval(ie,Ae,...ye){const{delegate:ge}=he;return ge?.setInterval?ge.setInterval(ie,Ae,...ye):setInterval(ie,Ae,...ye)},clearInterval(ie){const{delegate:Ae}=he;return(Ae?.clearInterval||clearInterval)(ie)},delegate:void 0};var J=L(9039);class Y extends re{constructor(Ae,ye){super(Ae,ye),this.scheduler=Ae,this.work=ye,this.pending=!1}schedule(Ae,ye=0){var ge;if(this.closed)return this;this.state=Ae;const ee=this.id,ce=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(ce,ee,ye)),this.pending=!0,this.delay=ye,this.id=null!==(ge=this.id)&&void 0!==ge?ge:this.requestAsyncId(ce,this.id,ye),this}requestAsyncId(Ae,ye,ge=0){return he.setInterval(Ae.flush.bind(Ae,this),ge)}recycleAsyncId(Ae,ye,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return ye;null!=ye&&he.clearInterval(ye)}execute(Ae,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(Ae,ye);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,ye){let ee,ge=!1;try{this.work(Ae)}catch(ce){ge=!0,ee=ce||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:ye}=this,{actions:ge}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,J.P)(ge,this),null!=Ae&&(this.id=this.recycleAsyncId(ye,Ae,null)),this.delay=null,super.unsubscribe()}}}},2631:(It,Fe,L)=>{L.d(Fe,{v:()=>he});var _=L(4552);class re{constructor(Y,ie=re.now){this.schedulerActionCtor=Y,this.now=ie}schedule(Y,ie=0,Ae){return new this.schedulerActionCtor(this,Y).schedule(Ae,ie)}}re.now=_.l.now;class he extends re{constructor(Y,ie=re.now){super(Y,ie),this.actions=[],this._active=!1}flush(Y){const{actions:ie}=this;if(this._active)return void ie.push(Y);let Ae;this._active=!0;do{if(Ae=Y.execute(Y.state,Y.delay))break}while(Y=ie.shift());if(this._active=!1,Ae){for(;Y=ie.shift();)Y.unsubscribe();throw Ae}}}},6321:(It,Fe,L)=>{L.d(Fe,{P:()=>J,z:()=>he});var _=L(1954);const he=new(L(2631).v)(_.o),J=he},4552:(It,Fe,L)=>{L.d(Fe,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},7599:(It,Fe,L)=>{L.d(Fe,{z:()=>_});const _={setTimeout(re,he,...J){const{delegate:Y}=_;return Y?.setTimeout?Y.setTimeout(re,he,...J):setTimeout(re,he,...J)},clearTimeout(re){const{delegate:he}=_;return(he?.clearTimeout||clearTimeout)(re)},delegate:void 0}},4971:(It,Fe,L)=>{L.d(Fe,{h:()=>re});const re=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(It,Fe,L)=>{L.d(Fe,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(It,Fe,L)=>{L.d(Fe,{_6:()=>ie,jO:()=>J,yG:()=>Y});var _=L(4674),re=L(671);function he(Ae){return Ae[Ae.length-1]}function J(Ae){return(0,_.m)(he(Ae))?Ae.pop():void 0}function Y(Ae){return(0,re.K)(he(Ae))?Ae.pop():void 0}function ie(Ae,ye){return"number"==typeof he(Ae)?Ae.pop():ye}},7453:(It,Fe,L)=>{L.d(Fe,{D:()=>Y});const{isArray:_}=Array,{getPrototypeOf:re,prototype:he,keys:J}=Object;function Y(Ae){if(1===Ae.length){const ye=Ae[0];if(_(ye))return{args:ye,keys:null};if(function ie(Ae){return Ae&&"object"==typeof Ae&&re(Ae)===he}(ye)){const ge=J(ye);return{args:ge.map(ee=>ye[ee]),keys:ge}}}return{args:Ae,keys:null}}},9039:(It,Fe,L)=>{function _(re,he){if(re){const J=re.indexOf(he);0<=J&&re.splice(J,1)}}L.d(Fe,{P:()=>_})},2306:(It,Fe,L)=>{function _(re){const J=re(Y=>{Error.call(Y),Y.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}L.d(Fe,{d:()=>_})},2714:(It,Fe,L)=>{function _(re,he){return re.reduce((J,Y,ie)=>(J[Y]=he[ie],J),{})}L.d(Fe,{n:()=>_})},1441:(It,Fe,L)=>{L.d(Fe,{O:()=>J,x:()=>he});var _=L(2653);let re=null;function he(Y){if(_.config.useDeprecatedSynchronousErrorHandling){const ie=!re;if(ie&&(re={errorThrown:!1,error:null}),Y(),ie){const{errorThrown:Ae,error:ye}=re;if(re=null,Ae)throw ye}}else Y()}function J(Y){_.config.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=Y)}},7103:(It,Fe,L)=>{function _(re,he,J,Y=0,ie=!1){const Ae=he.schedule(function(){J(),ie?re.add(this.schedule(null,Y)):this.unsubscribe()},Y);if(re.add(Ae),!ie)return Ae}L.d(Fe,{f:()=>_})},2737:(It,Fe,L)=>{function _(re){return re}L.d(Fe,{y:()=>_})},4266:(It,Fe,L)=>{L.d(Fe,{z:()=>_});const _=re=>re&&"number"==typeof re.length&&"function"!=typeof re},5726:(It,Fe,L)=>{L.d(Fe,{D:()=>re});var _=L(4674);function re(he){return Symbol.asyncIterator&&(0,_.m)(he?.[Symbol.asyncIterator])}},4674:(It,Fe,L)=>{function _(re){return"function"==typeof re}L.d(Fe,{m:()=>_})},8382:(It,Fe,L)=>{L.d(Fe,{c:()=>he});var _=L(4850),re=L(4674);function he(J){return(0,re.m)(J[_.L])}},3664:(It,Fe,L)=>{L.d(Fe,{T:()=>he});var _=L(4971),re=L(4674);function he(J){return(0,re.m)(J?.[_.h])}},2664:(It,Fe,L)=>{L.d(Fe,{b:()=>he});var _=L(5592),re=L(4674);function he(J){return!!J&&(J instanceof _.y||(0,re.m)(J.lift)&&(0,re.m)(J.subscribe))}},4026:(It,Fe,L)=>{L.d(Fe,{t:()=>re});var _=L(4674);function re(he){return(0,_.m)(he?.then)}},541:(It,Fe,L)=>{L.d(Fe,{L:()=>J,Q:()=>he});var _=L(7582),re=L(4674);function he(Y){return(0,_.FC)(this,arguments,function*(){const Ae=Y.getReader();try{for(;;){const{value:ye,done:ge}=yield(0,_.qq)(Ae.read());if(ge)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(ye)}}finally{Ae.releaseLock()}})}function J(Y){return(0,re.m)(Y?.getReader)}},671:(It,Fe,L)=>{L.d(Fe,{K:()=>re});var _=L(4674);function re(he){return he&&(0,_.m)(he.schedule)}},9360:(It,Fe,L)=>{L.d(Fe,{A:()=>re,e:()=>he});var _=L(4674);function re(J){return(0,_.m)(J?.lift)}function he(J){return Y=>{if(re(Y))return Y.lift(function(ie){try{return J(ie,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(It,Fe,L)=>{L.d(Fe,{Z:()=>J});var _=L(7398);const{isArray:re}=Array;function J(Y){return(0,_.U)(ie=>function he(Y,ie){return re(ie)?Y(...ie):Y(ie)}(Y,ie))}},2420:(It,Fe,L)=>{function _(){}L.d(Fe,{Z:()=>_})},8407:(It,Fe,L)=>{L.d(Fe,{U:()=>he,z:()=>re});var _=L(2737);function re(...J){return he(J)}function he(J){return 0===J.length?_.y:1===J.length?J[0]:function(ie){return J.reduce((Ae,ye)=>ye(Ae),ie)}}},3894:(It,Fe,L)=>{L.d(Fe,{h:()=>he});var _=L(2653),re=L(7599);function he(J){re.z.setTimeout(()=>{const{onUnhandledError:Y}=_.config;if(!Y)throw J;Y(J)})}},9853:(It,Fe,L)=>{function _(re){return new TypeError(`You provided ${null!==re&&"object"==typeof re?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Fe,{z:()=>_})},6825:(It,Fe,L)=>{L.d(Fe,{IO:()=>Le,LC:()=>re,SB:()=>ge,X$:()=>J,ZE:()=>ht,ZN:()=>_t,_j:()=>_,eR:()=>ce,jt:()=>Y,k1:()=>Jt,l3:()=>he,oB:()=>ye,pV:()=>we,ru:()=>ie,vP:()=>Ae});class _{}class re{}const he="*";function J(Tt,le){return{type:7,name:Tt,definitions:le,options:{}}}function Y(Tt,le=null){return{type:4,styles:le,timings:Tt}}function ie(Tt,le=null){return{type:3,steps:Tt,options:le}}function Ae(Tt,le=null){return{type:2,steps:Tt,options:le}}function ye(Tt){return{type:6,styles:Tt,offset:null}}function ge(Tt,le,qe){return{type:0,name:Tt,styles:le,options:qe}}function ce(Tt,le,qe=null){return{type:1,expr:Tt,animation:le,options:qe}}function we(Tt=null){return{type:9,options:Tt}}function Le(Tt,le,qe=null){return{type:11,selector:Tt,animation:le,options:qe}}class _t{constructor(le=0,qe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=le+qe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(le=>le()),this._onDoneFns=[])}onStart(le){this._originalOnStartFns.push(le),this._onStartFns.push(le)}onDone(le){this._originalOnDoneFns.push(le),this._onDoneFns.push(le)}onDestroy(le){this._onDestroyFns.push(le)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(le=>le()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(le=>le()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(le){this._position=this.totalTime?le*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(le){const qe="start"==le?this._onStartFns:this._onDoneFns;qe.forEach(Ce=>Ce()),qe.length=0}}class ht{constructor(le){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=le;let qe=0,Ce=0,Ye=0;const ut=this.players.length;0==ut?queueMicrotask(()=>this._onFinish()):this.players.forEach(lt=>{lt.onDone(()=>{++qe==ut&&this._onFinish()}),lt.onDestroy(()=>{++Ce==ut&&this._onDestroy()}),lt.onStart(()=>{++Ye==ut&&this._onStart()})}),this.totalTime=this.players.reduce((lt,hn)=>Math.max(lt,hn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(le=>le()),this._onDoneFns=[])}init(){this.players.forEach(le=>le.init())}onStart(le){this._onStartFns.push(le)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(le=>le()),this._onStartFns=[])}onDone(le){this._onDoneFns.push(le)}onDestroy(le){this._onDestroyFns.push(le)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(le=>le.play())}pause(){this.players.forEach(le=>le.pause())}restart(){this.players.forEach(le=>le.restart())}finish(){this._onFinish(),this.players.forEach(le=>le.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(le=>le.destroy()),this._onDestroyFns.forEach(le=>le()),this._onDestroyFns=[])}reset(){this.players.forEach(le=>le.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(le){const qe=le*this.totalTime;this.players.forEach(Ce=>{const Ye=Ce.totalTime?Math.min(1,qe/Ce.totalTime):1;Ce.setPosition(Ye)})}getPosition(){const le=this.players.reduce((qe,Ce)=>null===qe||Ce.totalTime>qe.totalTime?Ce:qe,null);return null!=le?le.getPosition():0}beforeDestroy(){this.players.forEach(le=>{le.beforeDestroy&&le.beforeDestroy()})}triggerCallback(le){const qe="start"==le?this._onStartFns:this._onDoneFns;qe.forEach(Ce=>Ce()),qe.length=0}}const Jt="!"},6814:(It,Fe,L)=>{L.d(Fe,{Do:()=>Ze,ED:()=>io,EM:()=>ii,HT:()=>J,JF:()=>Ns,K0:()=>ie,Mx:()=>di,NF:()=>Wi,O5:()=>On,Ov:()=>yo,PM:()=>Fi,RF:()=>qn,S$:()=>we,V_:()=>ye,Ye:()=>_t,b0:()=>Le,bD:()=>Dr,ez:()=>Rs,mk:()=>ms,n9:()=>Us,q:()=>he,sg:()=>Pn,tP:()=>Bs,w_:()=>Y});var _=L(5879);let re=null;function he(){return re}function J(w){re||(re=w)}class Y{}const ie=new _.OlP("DocumentToken");let Ae=(()=>{class w{historyGo(M){throw new Error("Not implemented")}static#e=this.\u0275fac=function(N){return new(N||w)};static#t=this.\u0275prov=_.Yz7({token:w,factory:function(){return(0,_.f3M)(ge)},providedIn:"platform"})}return w})();const ye=new _.OlP("Location Initialized");let ge=(()=>{class w extends Ae{constructor(){super(),this._doc=(0,_.f3M)(ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return he().getBaseHref(this._doc)}onPopState(M){const N=he().getGlobalEventTarget(this._doc,"window");return N.addEventListener("popstate",M,!1),()=>N.removeEventListener("popstate",M)}onHashChange(M){const N=he().getGlobalEventTarget(this._doc,"window");return N.addEventListener("hashchange",M,!1),()=>N.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,N,te){this._history.pushState(M,N,te)}replaceState(M,N,te){this._history.replaceState(M,N,te)}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}static#e=this.\u0275fac=function(N){return new(N||w)};static#t=this.\u0275prov=_.Yz7({token:w,factory:function(){return new w},providedIn:"platform"})}return w})();function ee(w,$){if(0==w.length)return $;if(0==$.length)return w;let M=0;return w.endsWith("/")&&M++,$.startsWith("/")&&M++,2==M?w+$.substring(1):1==M?w+$:w+"/"+$}function ce(w){const $=w.match(/#|\?|$/),M=$&&$.index||w.length;return w.slice(0,M-("/"===w[M-1]?1:0))+w.slice(M)}function Ee(w){return w&&"?"!==w[0]?"?"+w:w}let we=(()=>{class w{historyGo(M){throw new Error("Not implemented")}static#e=this.\u0275fac=function(N){return new(N||w)};static#t=this.\u0275prov=_.Yz7({token:w,factory:function(){return(0,_.f3M)(Le)},providedIn:"root"})}return w})();const Qe=new _.OlP("appBaseHref");let Le=(()=>{class w extends we{constructor(M,N){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=N??this._platformLocation.getBaseHrefFromDOM()??(0,_.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return ee(this._baseHref,M)}path(M=!1){const N=this._platformLocation.pathname+Ee(this._platformLocation.search),te=this._platformLocation.hash;return te&&M?`${N}${te}`:N}pushState(M,N,te,Ie){const je=this.prepareExternalUrl(te+Ee(Ie));this._platformLocation.pushState(M,N,je)}replaceState(M,N,te,Ie){const je=this.prepareExternalUrl(te+Ee(Ie));this._platformLocation.replaceState(M,N,je)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static#e=this.\u0275fac=function(N){return new(N||w)(_.LFG(Ae),_.LFG(Qe,8))};static#t=this.\u0275prov=_.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),Ze=(()=>{class w extends we{constructor(M,N){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=N&&(this._baseHref=N)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let N=this._platformLocation.hash;return null==N&&(N="#"),N.length>0?N.substring(1):N}prepareExternalUrl(M){const N=ee(this._baseHref,M);return N.length>0?"#"+N:N}pushState(M,N,te,Ie){let je=this.prepareExternalUrl(te+Ee(Ie));0==je.length&&(je=this._platformLocation.pathname),this._platformLocation.pushState(M,N,je)}replaceState(M,N,te,Ie){let je=this.prepareExternalUrl(te+Ee(Ie));0==je.length&&(je=this._platformLocation.pathname),this._platformLocation.replaceState(M,N,je)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static#e=this.\u0275fac=function(N){return new(N||w)(_.LFG(Ae),_.LFG(Qe,8))};static#t=this.\u0275prov=_.Yz7({token:w,factory:w.\u0275fac})}return w})(),_t=(()=>{class w{constructor(M){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const N=this._locationStrategy.getBaseHref();this._basePath=function le(w){if(new RegExp("^(https?:)?//").test(w)){const[,M]=w.split(/\/\/[^\/]+/);return M}return w}(ce(Tt(N))),this._locationStrategy.onPopState(te=>{this._subject.emit({url:this.path(!0),pop:!0,state:te.state,type:te.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,N=""){return this.path()==this.normalize(M+Ee(N))}normalize(M){return w.stripTrailingSlash(function Jt(w,$){if(!w||!$.startsWith(w))return $;const M=$.substring(w.length);return""===M||["/",";","?","#"].includes(M[0])?M:$}(this._basePath,Tt(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,N="",te=null){this._locationStrategy.pushState(te,"",M,N),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Ee(N)),te)}replaceState(M,N="",te=null){this._locationStrategy.replaceState(te,"",M,N),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Ee(N)),te)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(N=>{this._notifyUrlChangeListeners(N.url,N.state)})),()=>{const N=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(N,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",N){this._urlChangeListeners.forEach(te=>te(M,N))}subscribe(M,N,te){return this._subject.subscribe({next:M,error:N,complete:te})}static#e=this.normalizeQueryParams=Ee;static#t=this.joinWithSlash=ee;static#n=this.stripTrailingSlash=ce;static#r=this.\u0275fac=function(N){return new(N||w)(_.LFG(we))};static#i=this.\u0275prov=_.Yz7({token:w,factory:function(){return function ht(){return new _t((0,_.LFG)(we))}()},providedIn:"root"})}return w})();function Tt(w){return w.replace(/\/index.html$/,"")}function di(w,$){$=encodeURIComponent($);for(const M of w.split(";")){const N=M.indexOf("="),[te,Ie]=-1==N?[M,""]:[M.slice(0,N),M.slice(N+1)];if(te.trim()===$)return decodeURIComponent(Ie)}return null}const Mr=/\s+/,no=[];let ms=(()=>{class w{constructor(M,N,te,Ie){this._iterableDiffers=M,this._keyValueDiffers=N,this._ngEl=te,this._renderer=Ie,this.initialClasses=no,this.stateMap=new Map}set klass(M){this.initialClasses=null!=M?M.trim().split(Mr):no}set ngClass(M){this.rawClass="string"==typeof M?M.trim().split(Mr):M}ngDoCheck(){for(const N of this.initialClasses)this._updateState(N,!0);const M=this.rawClass;if(Array.isArray(M)||M instanceof Set)for(const N of M)this._updateState(N,!0);else if(null!=M)for(const N of Object.keys(M))this._updateState(N,!!M[N]);this._applyStateDiff()}_updateState(M,N){const te=this.stateMap.get(M);void 0!==te?(te.enabled!==N&&(te.changed=!0,te.enabled=N),te.touched=!0):this.stateMap.set(M,{enabled:N,changed:!0,touched:!0})}_applyStateDiff(){for(const M of this.stateMap){const N=M[0],te=M[1];te.changed?(this._toggleClass(N,te.enabled),te.changed=!1):te.touched||(te.enabled&&this._toggleClass(N,!1),this.stateMap.delete(N)),te.touched=!1}}_toggleClass(M,N){(M=M.trim()).length>0&&M.split(Mr).forEach(te=>{N?this._renderer.addClass(this._ngEl.nativeElement,te):this._renderer.removeClass(this._ngEl.nativeElement,te)})}static#e=this.\u0275fac=function(N){return new(N||w)(_.Y36(_.ZZ4),_.Y36(_.aQg),_.Y36(_.SBq),_.Y36(_.Qsj))};static#t=this.\u0275dir=_.lG2({type:w,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return w})();class ro{constructor($,M,N,te){this.$implicit=$,this.ngForOf=M,this.index=N,this.count=te}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pn=(()=>{class w{set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}constructor(M,N,te){this._viewContainer=M,this._template=N,this._differs=te,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const N=this._viewContainer;M.forEachOperation((te,Ie,je)=>{if(null==te.previousIndex)N.createEmbeddedView(this._template,new ro(te.item,this._ngForOf,-1,-1),null===je?void 0:je);else if(null==je)N.remove(null===Ie?void 0:Ie);else if(null!==Ie){const vt=N.get(Ie);N.move(vt,je),Ri(vt,te)}});for(let te=0,Ie=N.length;te<Ie;te++){const vt=N.get(te).context;vt.index=te,vt.count=Ie,vt.ngForOf=this._ngForOf}M.forEachIdentityChange(te=>{Ri(N.get(te.currentIndex),te)})}static ngTemplateContextGuard(M,N){return!0}static#e=this.\u0275fac=function(N){return new(N||w)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))};static#t=this.\u0275dir=_.lG2({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return w})();function Ri(w,$){w.context.$implicit=$.item}let On=(()=>{class w{constructor(M,N){this._viewContainer=M,this._context=new Cs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=N}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){Ss("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){Ss("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,N){return!0}static#e=this.\u0275fac=function(N){return new(N||w)(_.Y36(_.s_b),_.Y36(_.Rgc))};static#t=this.\u0275dir=_.lG2({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return w})();class Cs{constructor(){this.$implicit=null,this.ngIf=null}}function Ss(w,$){if($&&!$.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,_.AaK)($)}'.`)}class bs{constructor($,M){this._viewContainerRef=$,this._templateRef=M,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState($){$&&!this._created?this.create():!$&&this._created&&this.destroy()}}let qn=(()=>{class w{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(M){this._ngSwitch=M,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(M){this._defaultViews.push(M)}_matchCase(M){const N=M==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||N,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),N}_updateDefaultCases(M){if(this._defaultViews.length>0&&M!==this._defaultUsed){this._defaultUsed=M;for(const N of this._defaultViews)N.enforceState(M)}}static#e=this.\u0275fac=function(N){return new(N||w)};static#t=this.\u0275dir=_.lG2({type:w,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return w})(),Us=(()=>{class w{constructor(M,N,te){this.ngSwitch=te,te._addCase(),this._view=new bs(M,N)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(N){return new(N||w)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(qn,9))};static#t=this.\u0275dir=_.lG2({type:w,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return w})(),io=(()=>{class w{constructor(M,N,te){te._addDefault(new bs(M,N))}static#e=this.\u0275fac=function(N){return new(N||w)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(qn,9))};static#t=this.\u0275dir=_.lG2({type:w,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return w})(),Bs=(()=>{class w{constructor(M){this._viewContainerRef=M,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(M){if(M.ngTemplateOutlet||M.ngTemplateOutletInjector){const N=this._viewContainerRef;if(this._viewRef&&N.remove(N.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:te,ngTemplateOutletContext:Ie,ngTemplateOutletInjector:je}=this;this._viewRef=N.createEmbeddedView(te,Ie,je?{injector:je}:void 0)}else this._viewRef=null}else this._viewRef&&M.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(N){return new(N||w)(_.Y36(_.s_b))};static#t=this.\u0275dir=_.lG2({type:w,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[_.TTD]})}return w})();class ho{createSubscription($,M){return(0,_.rg0)(()=>$.subscribe({next:M,error:N=>{throw N}}))}dispose($){(0,_.rg0)(()=>$.unsubscribe())}}class $s{createSubscription($,M){return $.then(M,N=>{throw N})}dispose($){}}const fo=new $s,js=new ho;let yo=(()=>{class w{constructor(M){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=M}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(M){return this._obj?M!==this._obj?(this._dispose(),this.transform(M)):this._latestValue:(M&&this._subscribe(M),this._latestValue)}_subscribe(M){this._obj=M,this._strategy=this._selectStrategy(M),this._subscription=this._strategy.createSubscription(M,N=>this._updateLatestValue(M,N))}_selectStrategy(M){if((0,_.QGY)(M))return fo;if((0,_.F4k)(M))return js;throw function Ei(w,$){return new _.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(M,N){M===this._obj&&(this._latestValue=N,this._ref.markForCheck())}static#e=this.\u0275fac=function(N){return new(N||w)(_.Y36(_.sBO,16))};static#t=this.\u0275pipe=_.Yjl({name:"async",type:w,pure:!1,standalone:!0})}return w})(),Rs=(()=>{class w{static#e=this.\u0275fac=function(N){return new(N||w)};static#t=this.\u0275mod=_.oAB({type:w});static#n=this.\u0275inj=_.cJS({})}return w})();const Dr="browser",es="server";function Wi(w){return w===Dr}function Fi(w){return w===es}let ii=(()=>{class w{static#e=this.\u0275prov=(0,_.Yz7)({token:w,providedIn:"root",factory:()=>new Is((0,_.LFG)(ie),window)})}return w})();class Is{constructor($,M){this.document=$,this.window=M,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition($){this.supportsScrolling()&&this.window.scrollTo($[0],$[1])}scrollToAnchor($){if(!this.supportsScrolling())return;const M=function Ms(w,$){const M=w.getElementById($)||w.getElementsByName($)[0];if(M)return M;if("function"==typeof w.createTreeWalker&&w.body&&"function"==typeof w.body.attachShadow){const N=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let te=N.currentNode;for(;te;){const Ie=te.shadowRoot;if(Ie){const je=Ie.getElementById($)||Ie.querySelector(`[name="${$}"]`);if(je)return je}te=N.nextNode()}}return null}(this.document,$);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration($){this.supportsScrolling()&&(this.window.history.scrollRestoration=$)}scrollToElement($){const M=$.getBoundingClientRect(),N=M.left+this.window.pageXOffset,te=M.top+this.window.pageYOffset,Ie=this.offset();this.window.scrollTo(N-Ie[0],te-Ie[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ns{}},5879:(It,Fe,L)=>{L.d(Fe,{$8M:()=>cl,$WT:()=>vs,$Z:()=>E_,AFp:()=>Kp,ALo:()=>fw,AaK:()=>Ee,BQk:()=>em,CHM:()=>el,CRH:()=>Rw,EJc:()=>FA,EiD:()=>Ud,EpF:()=>ey,F$t:()=>Qv,F4k:()=>gh,FYo:()=>Yd,FiY:()=>mc,Gf:()=>Sw,GfV:()=>Ef,GkF:()=>tm,Gpc:()=>Le,Gre:()=>yE,HDt:()=>Jw,Hsn:()=>im,Ikx:()=>_y,JOm:()=>Oa,JVY:()=>rf,JZr:()=>Tt,KtG:()=>Mo,L6k:()=>Vy,LAX:()=>sf,LFG:()=>xt,LSH:()=>du,Lbi:()=>Qp,Lck:()=>DD,MAs:()=>jv,MMx:()=>JT,MR2:()=>$d,NdJ:()=>rm,O4$:()=>Dh,Ojb:()=>n_,OlP:()=>Gt,Oqu:()=>gy,P3R:()=>qm,PXZ:()=>hC,Q6J:()=>Yc,QGY:()=>nm,QbO:()=>t_,Qsj:()=>ug,R0b:()=>eo,RDi:()=>Ly,Rgc:()=>Im,SBq:()=>Zd,Sil:()=>BA,Suo:()=>bw,TTD:()=>zt,TgZ:()=>qf,Tol:()=>dy,Udp:()=>hm,VKq:()=>ow,VuI:()=>qC,W1O:()=>Ow,WFA:()=>ty,WLB:()=>aw,XFs:()=>Zt,Xpm:()=>$s,Xq5:()=>Gc,Xts:()=>Bd,Y36:()=>tc,YKP:()=>ZT,YNc:()=>Bv,Yjl:()=>Hs,Yz7:()=>Vt,Z0I:()=>Ln,ZZ4:()=>dI,_Bn:()=>QT,_UZ:()=>Jg,_Vd:()=>Uc,_c5:()=>kC,_uU:()=>cE,aQg:()=>hI,c2e:()=>Yw,cJS:()=>Tn,cg1:()=>yy,d8E:()=>mm,dDg:()=>uC,dqk:()=>An,eBb:()=>Vp,eFA:()=>c0,eJc:()=>QE,ekj:()=>fm,eoX:()=>s0,f3M:()=>St,g9A:()=>gf,h0i:()=>Eh,hGG:()=>LC,hij:()=>gm,iGM:()=>Cw,ifc:()=>Ut,ip1:()=>Zw,jDz:()=>XT,kL8:()=>PE,kcU:()=>Ah,lG2:()=>ys,lcZ:()=>pw,lqb:()=>La,lri:()=>n0,mCW:()=>xd,n5z:()=>eu,n_E:()=>Iy,oAB:()=>vo,oJD:()=>jm,oxw:()=>Kv,pB0:()=>Uy,q3G:()=>Ku,q4F:()=>o_,qFp:()=>QC,qLn:()=>Yo,qOj:()=>V_,qZA:()=>Kf,qzn:()=>qu,rWj:()=>r0,rg0:()=>Ie,s9C:()=>sm,sBO:()=>EC,s_b:()=>Dy,soG:()=>Cy,tb:()=>sI,tp0:()=>_a,uIk:()=>$f,vHH:()=>le,vpe:()=>ua,wAp:()=>vh,xp6:()=>xf,ynx:()=>Xg,z2F:()=>ip,z3N:()=>Ea,zSh:()=>lf,zs3:()=>Zo});var _=L(8645),re=L(7394),he=L(5592),J=L(3019),Y=L(5619),ie=L(2096),Ae=L(3020),ye=L(4664),ge=L(3997);function ee(t){for(let r in t)if(t[r]===ee)return r;throw Error("Could not find renamed property on target object.")}function ce(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Ee(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ee).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function we(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Qe=ee({__forward_ref__:ee});function Le(t){return t.__forward_ref__=Le,t.toString=function(){return Ee(this())},t}function Ze(t){return _t(t)?t():t}function _t(t){return"function"==typeof t&&t.hasOwnProperty(Qe)&&t.__forward_ref__===Le}function ht(t){return t&&!!t.\u0275providers}const Tt="https://g.co/ng/security#xss";class le extends Error{constructor(r,s){super(function qe(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Ce(t){return"string"==typeof t?t:null==t?"":String(t)}function fn(t,r){throw new le(-201,!1)}function Se(t,r){null==t&&function be(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Vt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Tn(t){return{providers:t.providers||[],imports:t.imports||[]}}function kn(t){return Fn(t,Kr)||Fn(t,Fr)}function Ln(t){return null!==kn(t)}function Fn(t,r){return t.hasOwnProperty(r)?t[r]:null}function qr(t){return t&&(t.hasOwnProperty(ji)||t.hasOwnProperty(Ur))?t[ji]:null}const Kr=ee({\u0275prov:ee}),ji=ee({\u0275inj:ee}),Fr=ee({ngInjectableDef:ee}),Ur=ee({ngInjectorDef:ee});var Zt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Zt||{});let _n;function Qn(t){const r=_n;return _n=t,r}function Qr(t,r,s){const a=kn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Zt.Optional?null:void 0!==r?r:void fn(Ee(t))}const An=globalThis;class Gt{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Vt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const cn={},vi="__NG_DI_FLAG__",zi="ngTempTokenPath",G=/\n/gm,W="__source";let q;function tt(t){const r=q;return q=t,r}function pt(t,r=Zt.Default){if(void 0===q)throw new le(-203,!1);return null===q?Qr(t,void 0,r):q.get(t,r&Zt.Optional?null:void 0,r)}function xt(t,r=Zt.Default){return(function on(){return _n}()||pt)(Ze(t),r)}function St(t,r=Zt.Default){return xt(t,Qt(r))}function Qt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function $n(t){const r=[];for(let s=0;s<t.length;s++){const a=Ze(t[s]);if(Array.isArray(a)){if(0===a.length)throw new le(900,!1);let c,d=Zt.Default;for(let g=0;g<a.length;g++){const v=a[g],C=Li(v);"number"==typeof C?-1===C?c=v.token:d|=C:c=v}r.push(xt(c,d))}else r.push(xt(a))}return r}function Zr(t,r){return t[vi]=r,t.prototype[vi]=r,t}function Li(t){return t[vi]}function Ne(t){return{toString:t}.toString()}var st=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(st||{}),Ut=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ut||{});const tn={},bt=[],Cn=ee({\u0275cmp:ee}),gr=ee({\u0275dir:ee}),ar=ee({\u0275pipe:ee}),As=ee({\u0275mod:ee}),di=ee({\u0275fac:ee}),Mr=ee({__NG_ELEMENT_ID__:ee}),no=ee({__NG_ENV_ID__:ee});function ms(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function lo(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],v=s[a++];t.setAttribute(r,g,v,d)}else{const d=c,g=s[++a];ro(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function Fs(t){return 3===t||4===t||6===t}function ro(t){return 64===t.charCodeAt(0)}function Pn(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Ri(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function Ri(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const v=t[d++];if("number"==typeof v){if(v===r){g=-1;break}if(v>r){g=d-1;break}}}for(;d<t.length;){const v=t[d];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const Vs="ng-template";function On(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(s&&"class"===d&&-1!==ms(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Cs(t){return 4===t.type&&t.value!==Vs}function Ss(t,r,s){return r===(4!==t.type||s?t.value:Vs)}function bs(t,r,s){let a=4;const c=t.attrs||[],d=function mo(t){for(let r=0;r<t.length;r++)if(Fs(t[r]))return r;return t.length}(c);let g=!1;for(let v=0;v<r.length;v++){const C=r[v];if("number"!=typeof C){if(!g)if(4&a){if(a=2|1&a,""!==C&&!Ss(t,C,s)||""===C&&1===r.length){if(qn(a))return!1;g=!0}}else{const x=8&a?C:r[++v];if(8&a&&null!==t.attrs){if(!On(t.attrs,x,s)){if(qn(a))return!1;g=!0}continue}const se=Us(8&a?"class":C,c,Cs(t),s);if(-1===se){if(qn(a))return!1;g=!0;continue}if(""!==x){let De;De=se>d?"":c[se+1].toLowerCase();const ke=8&a?De:null;if(ke&&-1!==ms(ke,x,0)||2&a&&x!==De){if(qn(a))return!1;g=!0}}}}else{if(!g&&!qn(a)&&!qn(C))return!1;if(g&&qn(C))continue;g=!1,a=C|1&a}}return qn(a)||g}function qn(t){return 0==(1&t)}function Us(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let v=r[++c];for(;"string"==typeof v;)v=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function _o(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function io(t,r,s=!1){for(let a=0;a<r.length;a++)if(bs(t,r[a],s))return!0;return!1}function Gi(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function Bs(t,r){return t?":not("+r.trim()+")":r}function ta(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const v=t[++s];c+="["+g+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!qn(g)&&(r+=Bs(d,c),c=""),a=g,d=d||!qn(a);s++}return""!==c&&(r+=Bs(d,c)),r}function $s(t){return Ne(()=>{const r=zs(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===st.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ut.Emulated,styles:t.styles||bt,_:null,schemas:t.schemas||null,tView:null,id:""};Eo(s);const a=t.dependencies;return s.directiveDefs=Xi(a,!1),s.pipeDefs=Xi(a,!0),s.id=function Es(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function js(t){return rn(t)||wr(t)}function yo(t){return null!==t}function vo(t){return Ne(()=>({type:t.type,bootstrap:t.bootstrap||bt,declarations:t.declarations||bt,imports:t.imports||bt,exports:t.exports||bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Vo(t,r){if(null==t)return tn;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function ys(t){return Ne(()=>{const r=zs(t);return Eo(r),r})}function Hs(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function rn(t){return t[Cn]||null}function wr(t){return t[gr]||null}function Yr(t){return t[ar]||null}function vs(t){const r=rn(t)||wr(t)||Yr(t);return null!==r&&r.standalone}function hi(t,r){const s=t[As]||null;if(!s&&!0===r)throw new Error(`Type ${Ee(t)} does not have '\u0275mod' property.`);return s}function zs(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||tn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||bt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vo(t.inputs,r),outputs:Vo(t.outputs)}}function Eo(t){t.features?.forEach(r=>r(t))}function Xi(t,r){if(!t)return null;const s=r?Yr:js;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(yo)}const Xn=0,Rt=1,Mt=2,er=3,$r=4,Gs=5,Jr=6,Rs=7,Dr=8,es=9,so=10,ln=11,Wi=12,Fi=13,Tr=14,Ar=15,Ps=16,ii=17,Is=18,Ms=19,So=20,Ns=21,oo=22,Mi=23,Io=24,Sn=25,os=1,mr=2,Ni=7,Uo=9,_r=11;function Cr(t){return Array.isArray(t)&&"object"==typeof t[os]}function Oi(t){return Array.isArray(t)&&!0===t[os]}function To(t){return 0!=(4&t.flags)}function Ii(t){return t.componentOffset>-1}function po(t){return 1==(1&t.flags)}function Vn(t){return!!t.template}function Ro(t){return 0!=(512&t[Mt])}function Xr(t,r){return t.hasOwnProperty(di)?t[di]:null}let tr=null,Ui=!1;function B(t){const r=tr;return tr=t,r}const m={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function P(t){if(!Yt(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Xe(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function me(t){t.dirty=!0,function j(t){if(void 0===t.liveConsumerNode)return;const r=Ui;Ui=!0;try{for(const s of t.liveConsumerNode)s.dirty||me(s)}finally{Ui=r}}(t),t.consumerMarkedDirty?.(t)}function _e(t){return t&&(t.nextProducerIndex=0),B(t)}function xe(t,r){if(B(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Yt(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Mn(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Xe(t){Wt(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(P(s),a!==s.version))return!0}return!1}function wt(t){if(Wt(t),Yt(t))for(let r=0;r<t.producerNode.length;r++)Mn(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Mn(t,r){if(function Nt(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Wt(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Mn(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Wt(c),c.producerIndexOfThis[a]=r}}function Yt(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Wt(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let xs=null;function Ie(t){const r=B(null);try{return t()}finally{B(r)}}const vt=()=>{},Hn=(()=>({...m,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:vt}))();class zn{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function zt(){return Lr}function Lr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Bn),nr}function nr(){const t=Rn(this),r=t?.current;if(r){const s=t.previous;if(s===tn)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Bn(t,r,s,a){const c=this.declaredInputs[s],d=Rn(t)||function Qi(t,r){return t[Di]=r}(t,{previous:tn,current:null}),g=d.current||(d.current={}),v=d.previous,C=v[c];g[c]=new zn(C&&C.currentValue,r,v===tn),t[a]=r}zt.ngInherit=!0;const Di="__ngSimpleChanges__";function Rn(t){return t[Di]||null}const as=function(t,r,s){},at="svg";function Zn(t){for(;Array.isArray(t);)t=t[Xn];return t}function Lt(t,r){return Zn(r[t])}function Ft(t,r){return Zn(r[t.index])}function At(t,r){return t.data[r]}function Ge(t,r){return t[r]}function it(t,r){const s=r[t];return Cr(s)?s:s[Xn]}function jo(t,r){return null==r?null:t[r]}function Ho(t){t[ii]=0}function Do(t){1024&t[Mt]||(t[Mt]|=1024,Xc(t,1))}function ed(t){1024&t[Mt]&&(t[Mt]&=-1025,Xc(t,-1))}function Xc(t,r){let s=t[er];if(null===s)return;s[Gs]+=r;let a=s;for(s=s[er];null!==s&&(1===r&&1===a[Gs]||-1===r&&0===a[Gs]);)s[Gs]+=r,a=s,s=s[er]}const pn={lFrame:ri(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Kt(){return pn.bindingsEnabled}function Po(){return null!==pn.skipHydrationRootTNode}function ot(){return pn.lFrame.lView}function Gn(){return pn.lFrame.tView}function el(t){return pn.lFrame.contextLView=t,t[Dr]}function Mo(t){return pn.lFrame.contextLView=null,t}function us(){let t=zr();for(;null!==t&&64===t.type;)t=t.parent;return t}function zr(){return pn.lFrame.currentTNode}function ao(t,r){const s=pn.lFrame;s.currentTNode=t,s.isParent=r}function ks(){return pn.lFrame.isParent}function ia(){pn.lFrame.isParent=!1}function ws(){const t=pn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Yi(){return pn.lFrame.bindingIndex++}function I(t){const r=pn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function S(t,r){const s=pn.lFrame;s.bindingIndex=s.bindingRootIndex=t,K(r)}function K(t){pn.lFrame.currentDirectiveIndex=t}function oe(t){const r=pn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function ze(){return pn.lFrame.currentQueryIndex}function $e(t){pn.lFrame.currentQueryIndex=t}function yt(t){const r=t[Rt];return 2===r.type?r.declTNode:1===r.type?t[Jr]:null}function Dn(t,r,s){if(s&Zt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&Zt.Host||(c=yt(d),null===c||(d=d[Tr],10&c.type))););if(null===c)return!1;r=c,t=d}const a=pn.lFrame=rr();return a.currentTNode=r,a.lView=t,!0}function Er(t){const r=rr(),s=t[Rt];pn.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function rr(){const t=pn.lFrame,r=null===t?null:t.child;return null===r?ri(t):r}function ri(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Aa(){const t=pn.lFrame;return pn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const da=Aa;function Zs(){const t=Aa();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ys(){return pn.lFrame.selectedIndex}function Ka(t){pn.lFrame.selectedIndex=t}function pi(){const t=pn.lFrame;return At(t.tView,t.selectedIndex)}function Dh(){pn.lFrame.currentNamespace=at}function Ah(){!function up(){pn.lFrame.currentNamespace=null}()}let rd=!0;function nl(){return rd}function Qa(t){rd=t}function Su(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:x,ngOnDestroy:z}=d;g&&(t.contentHooks??=[]).push(-s,g),v&&((t.contentHooks??=[]).push(s,v),(t.contentCheckHooks??=[]).push(s,v)),C&&(t.viewHooks??=[]).push(-s,C),x&&((t.viewHooks??=[]).push(s,x),(t.viewCheckHooks??=[]).push(s,x)),null!=z&&(t.destroyHooks??=[]).push(s,z)}}function id(t,r,s){hc(t,r,3,s)}function bu(t,r,s,a){(3&t[Mt])===s&&hc(t,r,s,a)}function Sh(t,r){let s=t[Mt];(3&s)===r&&(s&=8191,s+=1,t[Mt]=s)}function hc(t,r,s,a){const d=a??-1,g=r.length-1;let v=0;for(let C=void 0!==a?65535&t[ii]:0;C<g;C++)if("number"==typeof r[C+1]){if(v=r[C],null!=a&&v>=a)break}else r[C]<0&&(t[ii]+=65536),(v<d||-1==d)&&(rl(t,s,r,C),t[ii]=(4294901760&t[ii])+C+2),C++}function lp(t,r){as(4,t,r);const s=B(null);try{r.call(t)}finally{B(s),as(5,t,r)}}function rl(t,r,s,a){const c=s[a]<0,d=s[a+1],v=t[c?-s[a]:s[a]];c?t[Mt]>>13<t[ii]>>16&&(3&t[Mt])===r&&(t[Mt]+=8192,lp(v,d)):lp(v,d)}const ha=-1;class Za{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function br(t){return t!==ha}function Ru(t){return 32767&t}function Ls(t,r){let s=function fc(t){return t>>16}(t),a=r;for(;s>0;)a=a[Tr],s--;return a}let Pu=!0;function Rh(t){const r=Pu;return Pu=t,r}const dp=255,Go=5;let Ci=0;const Ds={};function Ya(t,r){const s=sl(t,r);if(-1!==s)return s;const a=r[Rt];a.firstCreatePass&&(t.injectorIndex=r.length,Ja(a.data,t),Ja(r,null),Ja(a.blueprint,null));const c=Oo(t,r),d=t.injectorIndex;if(br(c)){const g=Ru(c),v=Ls(c,r),C=v[Rt].data;for(let x=0;x<8;x++)r[d+x]=v[g+x]|C[g+x]}return r[d+8]=c,d}function Ja(t,r){t.push(0,0,0,0,0,0,0,0,r)}function sl(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Oo(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=ul(c),null===a)return ha;if(s++,c=c[Tr],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return ha}function xo(t,r,s){!function Ca(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Mr)&&(a=s[Mr]),null==a&&(a=s[Mr]=Ci++);const c=a&dp;r.data[t+(c>>Go)]|=1<<c}(t,r,s)}function fa(t,r,s){if(s&Zt.Optional||void 0!==t)return t;fn()}function ko(t,r,s,a){if(s&Zt.Optional&&void 0===a&&(a=null),!(s&(Zt.Self|Zt.Host))){const c=t[es],d=Qn(void 0);try{return c?c.get(r,a,s&Zt.Optional):Qr(r,a,s&Zt.Optional)}finally{Qn(d)}}return fa(a,0,s)}function Xa(t,r,s,a=Zt.Default,c){if(null!==t){if(2048&r[Mt]&&!(a&Zt.Self)){const g=function Mh(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[Mt]&&!(512&g[Mt]);){const v=Sa(d,g,s,a|Zt.Self,Ds);if(v!==Ds)return v;let C=d.parent;if(!C){const x=g[So];if(x){const z=x.get(s,Ds,a);if(z!==Ds)return z}C=ul(g),g=g[Tr]}d=C}return c}(t,r,s,a,Ds);if(g!==Ds)return g}const d=Sa(t,r,s,a,Ds);if(d!==Ds)return d}return ko(r,s,a,c)}function Sa(t,r,s,a,c){const d=function ol(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Mr)?t[Mr]:void 0;return"number"==typeof r?r>=0?r&dp:Mu:r}(s);if("function"==typeof d){if(!Dn(r,t,a))return a&Zt.Host?fa(c,0,a):ko(r,s,a,c);try{let g;if(g=d(a),null!=g||a&Zt.Optional)return g;fn()}finally{da()}}else if("number"==typeof d){let g=null,v=sl(t,r),C=ha,x=a&Zt.Host?r[Ar][Jr]:null;for((-1===v||a&Zt.SkipSelf)&&(C=-1===v?Oo(t,r):r[v+8],C!==ha&&ud(a,!1)?(g=r[Rt],v=Ru(C),r=Ls(C,r)):v=-1);-1!==v;){const z=r[Rt];if(sa(d,v,z.data)){const se=Ph(v,r,s,g,a,x);if(se!==Ds)return se}C=r[v+8],C!==ha&&ud(a,r[Rt].data[v+8]===x)&&sa(d,v,r)?(g=z,v=Ru(C),r=Ls(C,r)):v=-1}}return c}function Ph(t,r,s,a,c,d){const g=r[Rt],v=g.data[t+8],z=Wo(v,g,s,null==a?Ii(v)&&Pu:a!=g&&0!=(3&v.type),c&Zt.Host&&d===v);return null!==z?ba(r,g,z,v):Ds}function Wo(t,r,s,a,c){const d=t.providerIndexes,g=r.data,v=1048575&d,C=t.directiveStart,z=d>>20,De=c?v+z:t.directiveEnd;for(let ke=a?v:v+z;ke<De;ke++){const rt=g[ke];if(ke<C&&s===rt||ke>=C&&rt.type===s)return ke}if(c){const ke=g[C];if(ke&&Vn(ke)&&ke.type===s)return C}return null}function ba(t,r,s,a){let c=t[s];const d=r.data;if(function bh(t){return t instanceof Za}(c)){const g=c;g.resolving&&function ut(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new le(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ce(t)}(d[s]));const v=Rh(g.canSeeViewProviders);g.resolving=!0;const x=g.injectImpl?Qn(g.injectImpl):null;Dn(t,a,Zt.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function cp(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=Lr(r);(s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==x&&Qn(x),Rh(v),g.resolving=!1,da()}}return c}function sa(t,r,s){return!!(s[r+(t>>Go)]&1<<t)}function ud(t,r){return!(t&Zt.Self||t&Zt.Host&&r)}class uo{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Xa(this._tNode,this._lView,r,Qt(a),s)}}function Mu(){return new uo(us(),ot())}function eu(t){return Ne(()=>{const r=t.prototype.constructor,s=r[di]||Nu(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[di]||Nu(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Nu(t){return _t(t)?()=>{const r=Nu(Ze(t));return r&&r()}:Xr(t)}function ul(t){const r=t[Rt],s=r.type;return 2===s?r.declTNode:1===s?t[Jr]:null}function cl(t){return function ad(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(Fs(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(us(),t)}const xi="__parameters__";function ga(t,r,s){return Ne(()=>{const a=function oa(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return v.annotation=g,v;function v(C,x,z){const se=C.hasOwnProperty(xi)?C[xi]:Object.defineProperty(C,xi,{value:[]})[xi];for(;se.length<=z;)se.push(null);return(se[z]=se[z]||[]).push(g),C}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function ku(t,r){t.forEach(s=>Array.isArray(s)?ku(s,r):r(s))}function gc(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function ll(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Lu(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function ls(t,r,s){let a=ma(t,r);return a>=0?t[1|a]=s:(a=~a,function gp(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function nu(t,r){const s=ma(t,r);if(s>=0)return t[1|s]}function ma(t,r){return function fd(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const mc=Zr(ga("Optional"),8),_a=Zr(ga("SkipSelf"),4);function Dd(t){return 128==(128&t.flags)}var Oa=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Oa||{});const xa=/^>|^->|<!--|-->|--!>|<!-$/g,Tp=/(<|>)/g,wp="\u200b$1\u200b";const iu=new Map;let Hh=0;const Ad="__ngContext__";function fs(t,r){Cr(r)?(t[Ad]=r[Ms],function Gh(t){iu.set(t[Ms],t)}(r)):t[Ad]=r}let Cd;function Kh(t,r){return Cd(t,r)}function wc(t){const r=t[er];return Oi(r)?r[er]:r}function p(t){return V(t[Wi])}function D(t){return V(t[$r])}function V(t){for(;null!==t&&!Oi(t);)t=t[$r];return t}function Z(t,r,s,a,c){if(null!=a){let d,g=!1;Oi(a)?d=a:Cr(a)&&(g=!0,a=a[Xn]);const v=Zn(a);0===t&&null!==s?null==c?zu(r,s,v):ka(r,s,v,c||null,!0):1===t&&null!==s?ka(r,s,v,c||null,!0):2===t?function Pd(t,r,s){const a=Zh(t,r);a&&function Ny(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,v,g):3===t&&r.destroyNode(v),null!=d&&function km(t,r,s,a,c){const d=s[Ni];d!==Zn(s)&&Z(r,t,a,d,c);for(let v=_r;v<s.length;v++){const C=s[v];va(C[Rt],C,t,r,a,d)}}(r,t,d,s,c)}}function nt(t,r){return t.createComment(function jh(t){return t.replace(xa,r=>r.replace(Tp,wp))}(r))}function Ht(t,r,s){return t.createElement(r,s)}function Ac(t,r){const s=t[Uo],a=s.indexOf(r);ed(r),s.splice(a,1)}function ju(t,r){if(t.length<=_r)return;const s=_r+r,a=t[s];if(a){const c=a[Ps];null!==c&&c!==t&&Ac(c,a),r>0&&(t[s-1][$r]=a[$r]);const d=ll(t,_r+r);!function sn(t,r){va(t,r,r[ln],2,null,null),r[Xn]=null,r[Jr]=null}(a[Rt],a);const g=d[Is];null!==g&&g.detachView(d[Rt]),a[er]=null,a[$r]=null,a[Mt]&=-129}return a}function Cc(t,r){if(!(256&r[Mt])){const s=r[ln];r[Mi]&&wt(r[Mi]),r[Io]&&wt(r[Io]),s.destroyNode&&va(t,r,s,3,null,null),function aa(t){let r=t[Wi];if(!r)return Sc(t[Rt],t);for(;r;){let s=null;if(Cr(r))s=r[Wi];else{const a=r[_r];a&&(s=a)}if(!s){for(;r&&!r[$r]&&r!==t;)Cr(r)&&Sc(r[Rt],r),r=r[er];null===r&&(r=t),Cr(r)&&Sc(r[Rt],r),s=r&&r[$r]}r=s}}(r)}}function Sc(t,r){if(!(256&r[Mt])){r[Mt]&=-129,r[Mt]|=256,function Hu(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof Za)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const v=c[d[g]],C=d[g+1];as(4,v,C);try{C.call(v)}finally{as(5,v,C)}}else{as(4,c,d);try{d.call(c)}finally{as(5,c,d)}}}}}(t,r),function Qh(t,r){const s=t.cleanup,a=r[Rs];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[Rs]=null);const c=r[Ns];if(null!==c){r[Ns]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[Rt].type&&r[ln].destroy();const s=r[Ps];if(null!==s&&Oi(r[er])){s!==r[er]&&Ac(s,r);const a=r[Is];null!==a&&a.detachView(t)}!function Mm(t){iu.delete(t[Ms])}(r)}}function su(t,r,s){return function Sd(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[Xn];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===Ut.None||d===Ut.Emulated)return null}return Ft(a,s)}}(t,r.parent,s)}function ka(t,r,s,a,c){t.insertBefore(r,s,a,c)}function zu(t,r,s){t.appendChild(r,s)}function bd(t,r,s,a,c){null!==a?ka(t,r,s,a,c):zu(t,r,s)}function Zh(t,r){return t.parentNode(r)}function Om(t,r,s){return bc(t,r,s)}let Yh,Jh,tf,nf,bc=function ou(t,r,s){return 40&t.type?Ft(t,s):null};function Rd(t,r,s,a){const c=su(t,a,r),d=r[ln],v=Om(a.parent||r[Jr],a,r);if(null!=c)if(Array.isArray(s))for(let C=0;C<s.length;C++)bd(d,c,s[C],v,!1);else bd(d,c,s,v,!1);void 0!==Yh&&Yh(d,a,r,s,c)}function Qo(t,r){if(null!==r){const s=r.type;if(3&s)return Ft(r,t);if(4&s)return Pp(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Qo(t,a);{const c=t[r.index];return Oi(c)?Pp(-1,c):Zn(c)}}if(32&s)return Kh(r,t)()||Zn(t[r.index]);{const a=Rp(t,r);return null!==a?Array.isArray(a)?a[0]:Qo(wc(t[Ar]),a):Qo(t,r.next)}}return null}function Rp(t,r){return null!==r?t[Ar][Jr].projection[r.projection]:null}function Pp(t,r){const s=_r+t+1;if(s<r.length){const a=r[s],c=a[Rt].firstChild;if(null!==c)return Qo(a,c)}return r[Ni]}function au(t,r,s,a,c,d,g){for(;null!=s;){const v=a[s.index],C=s.type;if(g&&0===r&&(v&&fs(Zn(v),a),s.flags|=2),32!=(32&s.flags))if(8&C)au(t,r,s.child,a,c,d,!1),Z(r,t,c,v,d);else if(32&C){const x=Kh(s,a);let z;for(;z=x();)Z(r,t,c,z,d);Z(r,t,c,v,d)}else 16&C?Al(t,r,a,s,c,d):Z(r,t,c,v,d);s=g?s.projectionNext:s.next}}function va(t,r,s,a,c,d){au(s,a,t.firstChild,r,c,d,!1)}function Al(t,r,s,a,c,d){const g=s[Ar],C=g[Jr].projection[a.projection];if(Array.isArray(C))for(let x=0;x<C.length;x++)Z(r,t,c,C[x],d);else{let x=C;const z=g[er];Dd(a)&&(x.flags|=128),au(t,r,x,z,c,d,!0)}}function Op(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function xp(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&lo(t,r,a),null!==c&&Op(t,r,c),null!==d&&function Np(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function Pc(t){return function Xh(){if(void 0===Jh&&(Jh=null,An.trustedTypes))try{Jh=An.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Jh}()?.createHTML(t)||t}function Ly(t){tf=t}function Sl(){if(void 0!==tf)return tf;if(typeof document<"u")return document;throw new le(210,!1)}function Mc(){if(void 0===nf&&(nf=null,An.trustedTypes))try{nf=An.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return nf}function Gu(t){return Mc()?.createHTML(t)||t}function kp(t){return Mc()?.createScriptURL(t)||t}class Wu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Tt})`}}class Lm extends Wu{getTypeName(){return"HTML"}}class Fy extends Wu{getTypeName(){return"Style"}}class Lp extends Wu{getTypeName(){return"Script"}}class Fp extends Wu{getTypeName(){return"URL"}}class Fm extends Wu{getTypeName(){return"ResourceURL"}}function Ea(t){return t instanceof Wu?t.changingThisBreaksApplicationSecurity:t}function qu(t,r){const s=function Vm(t){return t instanceof Wu&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Tt})`)}return s===r}function rf(t){return new Lm(t)}function Vy(t){return new Fy(t)}function Vp(t){return new Lp(t)}function sf(t){return new Fp(t)}function Uy(t){return new Fm(t)}class bl{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Pc(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class Od{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=Pc(r),s}}const Um=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xd(t){return(t=String(t)).match(Um)?t:"unsafe:"+t}function Bi(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function Pl(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const kd=Bi("area,br,col,hr,img,wbr"),Ld=Bi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bp=Bi("rp,rt"),cu=Pl(kd,Pl(Ld,Bi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pl(Bp,Bi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Pl(Bp,Ld)),$p=Bi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lu=Pl($p,Bi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Bm=Bi("script,style,template");class jy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!cu.hasOwnProperty(s))return this.sanitizedSomething=!0,!Bm.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let c=0;c<a.length;c++){const d=a.item(c),g=d.name,v=g.toLowerCase();if(!lu.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let C=d.value;$p[v]&&(C=xd(C)),this.buf.push(" ",g,'="',jp(C),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();cu.hasOwnProperty(s)&&!kd.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(jp(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const $m=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hy=/([^\#-~ |!])/g;function jp(t){return t.replace(/&/g,"&amp;").replace($m,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Hy,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let af;function Ud(t,r){let s=null;try{af=af||function Up(t){const r=new Od(t);return function Rl(){try{return!!(new window.DOMParser).parseFromString(Pc(""),"text/html")}catch{return!1}}()?new bl(r):r}(t);let a=r?String(r):"";s=af.getInertBodyElement(a);let c=5,d=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=d,d=s.innerHTML,s=af.getInertBodyElement(a)}while(a!==d);return Pc((new jy).sanitizeChildren(Hp(s)||s))}finally{if(s){const a=Hp(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Hp(t){return"content"in t&&function zy(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ku=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ku||{});function jm(t){const r=is();return r?Gu(r.sanitize(Ku.HTML,t)||""):qu(t,"HTML")?Gu(Ea(t)):Ud(Sl(),Ce(t))}function du(t){const r=is();return r?r.sanitize(Ku.URL,t)||"":qu(t,"URL")?Ea(t):xd(Ce(t))}function Ml(t){const r=is();if(r)return kp(r.sanitize(Ku.RESOURCE_URL,t)||"");if(qu(t,"ResourceURL"))return kp(Ea(t));throw new le(904,!1)}function qm(t,r,s){return function Wm(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Ml:du}(r,s)(t)}function is(){const t=ot();return t&&t[so].sanitizer}const Bd=new Gt("ENVIRONMENT_INITIALIZER"),Qm=new Gt("INJECTOR",-1),Zm=new Gt("INJECTOR_DEF_TYPES");class zp{get(r,s=cn){if(s===cn){const a=new Error(`NullInjectorError: No provider for ${Ee(r)}!`);throw a.name="NullInjectorError",a}return s}}function $d(t){return{\u0275providers:t}}function Wy(...t){return{\u0275providers:jd(0,t),\u0275fromNgModule:!0}}function jd(t,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return ku(r,g=>{const v=g;uf(v,d,[],a)&&(c||=[],c.push(v))}),void 0!==c&&Hd(c,d),s}function Hd(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];zd(c,d=>{r(d,a)})}}function uf(t,r,s,a){if(!(t=Ze(t)))return!1;let c=null,d=qr(t);const g=!d&&rn(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const C=t.ngModule;if(d=qr(C),!d)return!1;c=C}const v=a.has(c);if(g){if(v)return!1;if(a.add(c),g.dependencies){const C="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const x of C)uf(x,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!v){let x;a.add(c);try{ku(d.imports,z=>{uf(z,r,s,a)&&(x||=[],x.push(z))})}finally{}void 0!==x&&Hd(x,r)}if(!v){const x=Xr(c)||(()=>new c);r({provide:c,useFactory:x,deps:bt},c),r({provide:Zm,useValue:c,multi:!0},c),r({provide:Bd,useValue:()=>xt(c),multi:!0},c)}const C=d.providers;if(null!=C&&!v){const x=t;zd(C,z=>{r(z,x)})}}}return c!==t&&void 0!==t.providers}function zd(t,r){for(let s of t)ht(s)&&(s=s.\u0275providers),Array.isArray(s)?zd(s,r):r(s)}const Gp=ee({provide:String,useValue:ee});function Oc(t){return null!==t&&"object"==typeof t&&Gp in t}function hu(t){return"function"==typeof t}const lf=new Gt("Set Injector scope."),df={},Ym={};let hf;function Nl(){return void 0===hf&&(hf=new zp),hf}class La{}class xc extends La{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pf(r,g=>this.processProvider(g)),this.records.set(Qm,Ia(void 0,this)),c.has("environment")&&this.records.set(La,Ia(void 0,this));const d=this.records.get(lf);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Zm.multi,bt,Zt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=tt(this),a=Qn(void 0);try{return r()}finally{tt(s),Qn(a)}}get(r,s=cn,a=Zt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(no))return r[no](this);a=Qt(a);const d=tt(this),g=Qn(void 0);try{if(!(a&Zt.SkipSelf)){let C=this.records.get(r);if(void 0===C){const x=function Xm(t){return"function"==typeof t||"object"==typeof t&&t instanceof Gt}(r)&&kn(r);C=x&&this.injectableDefInScope(x)?Ia(Wp(r),df):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(a&Zt.Self?Nl():this.parent).get(r,s=a&Zt.Optional&&s===cn?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[zi]=v[zi]||[]).unshift(Ee(r)),d)throw v;return function Pr(t,r,s,a){const c=t[zi];throw r[W]&&c.unshift(r[W]),t.message=function We(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Ee(r);if(Array.isArray(r))c=r.map(Ee).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let v=r[g];d.push(g+":"+("string"==typeof v?JSON.stringify(v):Ee(v)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(G,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[zi]=null,t}(v,r,"R3InjectorError",this.source)}throw v}finally{Qn(g),tt(d)}}resolveInjectorInitializers(){const r=tt(this),s=Qn(void 0);try{const c=this.get(Bd.multi,bt,Zt.Self);for(const d of c)d()}finally{tt(r),Qn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Ee(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(r){let s=hu(r=Ze(r))?r:Ze(r&&r.provide);const a=function Qy(t){return Oc(t)?Ia(void 0,t.useValue):Ia(kc(t),df)}(r);if(hu(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Ia(void 0,df,!0),c.factory=()=>$n(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===df&&(s.value=Ym,s.value=s.factory()),"object"==typeof s.value&&s.value&&function ff(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Ze(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Wp(t){const r=kn(t),s=null!==r?r.factory:Xr(t);if(null!==s)return s;if(t instanceof Gt)throw new le(204,!1);if(t instanceof Function)return function Jm(t){const r=t.length;if(r>0)throw Lu(r,"?"),new le(204,!1);const s=function sr(t){return t&&(t[Kr]||t[Fr])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new le(204,!1)}function kc(t,r,s){let a;if(hu(t)){const c=Ze(t);return Xr(c)||Wp(c)}if(Oc(t))a=()=>Ze(t.useValue);else if(function cf(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...$n(t.deps||[]));else if(function Gd(t){return!(!t||!t.useExisting)}(t))a=()=>xt(Ze(t.useExisting));else{const c=Ze(t&&(t.useClass||t.provide));if(!function qp(t){return!!t.deps}(t))return Xr(c)||Wp(c);a=()=>new c(...$n(t.deps))}return a}function Ia(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function pf(t,r){for(const s of t)Array.isArray(s)?pf(s,r):s&&ht(s)?pf(s.\u0275providers,r):r(s)}const Kp=new Gt("AppId",{providedIn:"root",factory:()=>Zy}),Zy="ng",gf=new Gt("Platform Initializer"),Qp=new Gt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),t_=new Gt("AnimationModuleType"),n_=new Gt("CSP nonce",{providedIn:"root",factory:()=>Sl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ng=(t,r,s)=>null;function rg(t,r,s=!1){return ng(t,r,s)}class i_{}class vf{}class nv{resolveComponentFactory(r){throw function og(t){const r=Error(`No component factory found for ${Ee(t)}.`);return r.ngComponent=t,r}(r)}}let Uc=(()=>{class t{static#e=this.NULL=new nv}return t})();function rv(){return Yu(us(),ot())}function Yu(t,r){return new Zd(Ft(t,r))}let Zd=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=rv}return t})();function ag(t){return t instanceof Zd?t.nativeElement:t}class Yd{}let ug=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function s_(){const t=ot(),s=it(us().index,t);return(Cr(s)?s:t)[ln]}()}return t})(),Vl=(()=>{class t{static#e=this.\u0275prov=Vt({token:t,providedIn:"root",factory:()=>null})}return t})();class Ef{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const o_=new Ef("16.2.12"),cg={};function Df(t,r=null,s=null,a){const c=Af(t,r,s,a);return c.resolveInjectorInitializers(),c}function Af(t,r=null,s=null,a,c=new Set){const d=[s||bt,Wy(t)];return a=a||("object"==typeof t?void 0:Ee(t)),new xc(d,r||Nl(),a||null,c)}let Zo=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=cn;static#t=this.NULL=new zp;static create(s,a){if(Array.isArray(s))return Df({name:""},a,s,"");{const c=s.name??"";return Df({name:c},s.parent,s.providers,c)}}static#n=this.\u0275prov=Vt({token:t,providedIn:"any",factory:()=>xt(Qm)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Jd(t){return t.ngOriginalError}class Yo{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Jd(r);for(;s&&Jd(s);)s=Jd(s);return s||null}}function hg(t){return r=>{setTimeout(t,void 0,r)}}const ua=class cv extends _.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const C=r;c=C.next?.bind(C),d=C.error?.bind(C),g=C.complete?.bind(C)}this.__isAsync&&(d=hg(d),c&&(c=hg(c)),g&&(g=hg(g)));const v=super.subscribe({next:c,error:d,complete:g});return r instanceof re.w0&&r.add(v),v}};function Cf(...t){}class eo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ua(!1),this.onMicrotaskEmpty=new ua(!1),this.onStable=new ua(!1),this.onError=new ua(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function fg(){const t="function"==typeof An.requestAnimationFrame;let r=An[t?"requestAnimationFrame":"setTimeout"],s=An[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function dv(t){const r=()=>{!function pg(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(An,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Sf(t),t.isCheckStableRunning=!0,eh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Sf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,v)=>{if(function hv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(v))return s.invokeTask(c,d,g,v);try{return l_(t),s.invokeTask(c,d,g,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),gg(t)}},onInvoke:(s,a,c,d,g,v,C)=>{try{return l_(t),s.invoke(c,d,g,v,C)}finally{t.shouldCoalesceRunChangeDetection&&r(),gg(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,Sf(t),eh(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!eo.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(eo.isInAngularZone())throw new le(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,lv,Cf,Cf);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const lv={};function eh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Sf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function l_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gg(t){t._nesting--,eh(t)}class d_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ua,this.onMicrotaskEmpty=new ua,this.onStable=new ua,this.onError=new ua}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const mg=new Gt("",{providedIn:"root",factory:_g});function _g(){const t=St(eo);let r=!0;const s=new he.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new he.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{eo.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{eo.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}});return(0,J.T)(s,a.pipe((0,Ae.B)()))}function Ta(t){return t instanceof Function?t():t}let Rf=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Vt({token:t,providedIn:"root",factory:()=>new t})}return t})();function jc(t){for(;t;){t[Mt]|=64;const r=wc(t);if(Ro(t)&&!r)return t;t=r}return null}const Pf=new Gt("",{providedIn:"root",factory:()=>!1});let Ul=null;function Fa(t,r){return t[r]??y_()}function Nf(t,r){const s=y_();s.producerNode?.length&&(t[r]=Ul,s.lView=t,Ul=Of())}const yv={...m,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{jc(t.lView)},lView:null};function Of(){return Object.create(yv)}function y_(){return Ul??=Of(),Ul}const Wn={};function xf(t){v_(Gn(),ot(),Ys()+t,!1)}function v_(t,r,s,a){if(!a)if(3==(3&r[Mt])){const d=t.preOrderCheckHooks;null!==d&&id(r,d,s)}else{const d=t.preOrderHooks;null!==d&&bu(r,d,0,s)}Ka(s)}function tc(t,r=Zt.Default){const s=ot();return null===s?xt(t,r):Xa(us(),s,Ze(t),r)}function E_(){throw new Error("invalid")}function kf(t,r,s,a,c,d,g,v,C,x,z){const se=r.blueprint.slice();return se[Xn]=c,se[Mt]=140|a,(null!==x||t&&2048&t[Mt])&&(se[Mt]|=2048),Ho(se),se[er]=se[Tr]=t,se[Dr]=s,se[so]=g||t&&t[so],se[ln]=v||t&&t[ln],se[es]=C||t&&t[es]||null,se[Jr]=d,se[Ms]=function zh(){return Hh++}(),se[oo]=z,se[So]=x,se[Ar]=2==r.type?t[Ar]:se,se}function nc(t,r,s,a,c){let d=t.data[r];if(null===d)d=function Lf(t,r,s,a,c){const d=zr(),g=ks(),C=t.data[r]=function Bl(t,r,s,a,c,d){let g=r?r.injectorIndex:-1,v=0;return Po()&&(v|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=C),null!==d&&(g?null==d.child&&null!==C.parent&&(d.child=C):null===d.next&&(d.next=C,C.prev=d)),C}(t,r,s,a,c),function b(){return pn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function Da(){const t=pn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return ao(d,!0),d}function Hc(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function Dg(t,r,s,a,c){const d=Fa(r,Mi),g=Ys(),v=2&a;try{Ka(-1),v&&r.length>Sn&&v_(t,r,Sn,!1),as(v?2:0,c);const x=v?d:null,z=_e(x);try{null!==x&&(x.dirty=!1),s(a,c)}finally{xe(x,z)}}finally{v&&null===r[Mi]&&Nf(r,Mi),Ka(g),as(v?3:1,c)}}function Ag(t,r,s){if(To(r)){const a=B(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const v=t.data[g];v.contentQueries&&v.contentQueries(1,s[g],g)}}finally{B(a)}}}function Cg(t,r,s){Kt()&&(function Mg(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;Ii(s)&&function xg(t,r,s){const a=Ft(r,t),c=I_(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const v=Uf(t,kf(t,c,null,g,a,r,null,t[so].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=v}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||Ya(s,r),fs(a,r);const g=s.initialInputs;for(let v=c;v<d;v++){const C=t.data[v],x=ba(r,t,v,s);fs(x,r),null!==g&&Dv(0,v-c,x,C,0,g),Vn(C)&&(it(s.index,r)[Dr]=ba(r,t,v,s))}}(t,r,s,Ft(s,r)),64==(64&s.flags)&&uh(t,r,s))}function rh(t,r,s=Ft){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],v=-1===g?s(r,t):t[g];t[c++]=v}}}function I_(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=ih(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function ih(t,r,s,a,c,d,g,v,C,x,z){const se=Sn+a,De=se+c,ke=function Sg(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Wn);return s}(se,De),rt="function"==typeof x?x():x;return ke[Rt]={type:t,blueprint:ke,template:s,queries:null,viewQuery:v,declTNode:r,data:ke.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:De,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:C,consts:rt,incompleteFirstPass:!1,ssrId:z}}let sh=t=>null;function Rg(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?oh(s,r,c,d):a.hasOwnProperty(c)&&oh(s,r,a[c],d)}return s}function oh(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function Jo(t,r,s,a,c,d,g,v){const C=Ft(r,s);let z,x=r.inputs;!v&&null!=x&&(z=x[a])?(ch(t,s,z,a,c),Ii(r)&&function wv(t,r){const s=it(r,t);16&s[Mt]||(s[Mt]|=64)}(s,r.index)):3&r.type&&(a=function Tv(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(C,a,c))}function ah(t,r,s,a){if(Kt()){const c=null===a?null:{"":-1},d=function C_(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if(io(r,g.selectors,!1))if(a||(a=[]),Vn(g))if(null!==g.findHostDirectiveDefs){const v=[];c=c||new Map,g.findHostDirectiveDefs(g,v,c),a.unshift(...v,g),rc(t,r,v.length)}else a.unshift(g),rc(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,s);let g,v;null===d?g=v=null:[g,v]=d,null!==g&&Vf(t,r,s,g,c,v),c&&function S_(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new le(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=Pn(s.mergedAttrs,s.attrs)}function Vf(t,r,s,a,c,d){for(let x=0;x<a.length;x++)xo(Ya(s,r),t,a[x].type);!function b_(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let x=0;x<a.length;x++){const z=a[x];z.providersResolver&&z.providersResolver(z)}let g=!1,v=!1,C=Hc(t,r,a.length,null);for(let x=0;x<a.length;x++){const z=a[x];s.mergedAttrs=Pn(s.mergedAttrs,z.hostAttrs),$l(t,s,r,C,z),Og(C,z,c),null!==z.contentQueries&&(s.flags|=4),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(s.flags|=64);const se=z.type.prototype;!g&&(se.ngOnChanges||se.ngOnInit||se.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),g=!0),!v&&(se.ngOnChanges||se.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),v=!0),C++}!function Iv(t,r,s){const c=r.directiveEnd,d=t.data,g=r.attrs,v=[];let C=null,x=null;for(let z=r.directiveStart;z<c;z++){const se=d[z],De=s?s.get(se):null,rt=De?De.outputs:null;C=Rg(se.inputs,z,C,De?De.inputs:null),x=Rg(se.outputs,z,x,rt);const gt=null===C||null===g||Cs(r)?null:Av(C,z,g);v.push(gt)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=8),C.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=v,r.inputs=C,r.outputs=x}(t,s,d)}function uh(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function O(){return pn.lFrame.currentDirectiveIndex}();try{Ka(d);for(let v=a;v<c;v++){const C=t.data[v],x=r[v];K(v),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Ng(C,x)}}finally{Ka(-1),K(g)}}function Ng(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function rc(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function Og(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;Vn(r)&&(s[""]=t)}}function $l(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=Xr(c.type)),g=new Za(d,Vn(c),tc);t.blueprint[a]=g,s[a]=g,function A_(t,r,s,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const v=~r.index;(function Pg(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=v&&g.push(v),g.push(s,a,d)}}(t,r,a,Hc(t,s,c.hostVars,Wn),c)}function Va(t,r,s,a,c,d){const g=Ft(t,r);!function kg(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const v=null==g?Ce(d):g(d,a||"",c);t.setAttribute(r,c,v,s)}}(r[ln],g,d,t.value,s,a,c)}function Dv(t,r,s,a,c,d){const g=d[r];if(null!==g)for(let v=0;v<g.length;)Lg(a,s,g[v++],g[v++],g[v++])}function Lg(t,r,s,a,c){const d=B(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{B(d)}}function Av(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let v=0;v<g.length;v+=2)if(g[v]===r){a.push(d,g[v+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Fg(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function R_(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=t.data[d];$e(s[a]),g.contentQueries(2,r[d],d)}}}function Uf(t,r){return t[Wi]?t[Fi][$r]=r:t[Wi]=r,t[Fi]=r,r}function Vg(t,r,s){$e(0);const a=B(null);try{r(t,s)}finally{B(a)}}function P_(t){return t[Rs]||(t[Rs]=[])}function M_(t){return t.cleanup||(t.cleanup=[])}function Ug(t,r,s){return(null===t||Vn(t))&&(s=function Wa(t){for(;Array.isArray(t);){if("object"==typeof t[os])return t;t=t[Xn]}return null}(s[r.index])),s[ln]}function Bg(t,r){const s=t[es],a=s?s.get(Yo,null):null;a&&a.handleError(r)}function ch(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],v=s[d++];Lg(t.data[g],r[g],a,v,c)}}function N_(t,r){const s=it(r,t),a=s[Rt];!function O_(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[Xn];null!==c&&null===s[oo]&&(s[oo]=rg(c,s[es])),jl(a,s,s[Dr])}function jl(t,r,s){Er(r);try{const a=t.viewQuery;null!==a&&Vg(1,a,s);const c=t.template;null!==c&&Dg(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&R_(t,r),t.staticViewQueries&&Vg(2,t.viewQuery,s);const d=t.components;null!==d&&function Ir(t,r){for(let s=0;s<r.length;s++)N_(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Mt]&=-5,Zs()}}let $g=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function je(t,r,s){const a=Object.create(Hn);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>me(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Xe(a))return;a.hasRun=!0;const g=_e(a);try{a.cleanupFn(),a.cleanupFn=vt,a.fn(c)}finally{xe(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,x=>{this.all.has(x)&&this.queue.set(x,d)},c);let v;this.all.add(g),g.notify();const C=()=>{g.cleanup(),v?.(),this.all.delete(g),this.queue.delete(g)};return v=a?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Vt({token:t,providedIn:"root",factory:()=>new t})}return t})();function ic(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const v=r[g];"number"==typeof v?d=v:1==d?c=we(c,v):2==d&&(a=we(a,v+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function lh(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(Zn(d)),Oi(d)&&to(d,a);const g=s.type;if(8&g)lh(t,r,s.child,a);else if(32&g){const v=Kh(s,r);let C;for(;C=v();)a.push(C)}else if(16&g){const v=Rp(r,s);if(Array.isArray(v))a.push(...v);else{const C=wc(r[Ar]);lh(C[Rt],C,v,a,!0)}}s=c?s.projectionNext:s.next}return a}function to(t,r){for(let s=_r;s<t.length;s++){const a=t[s],c=a[Rt].firstChild;null!==c&&lh(a[Rt],a,c,r)}t[Ni]!==t[Xn]&&r.push(t[Ni])}function $i(t,r,s,a=!0){const c=r[so],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{Sv(t,r,t.template,s)}catch(C){throw a&&Bg(r,C),C}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function Sv(t,r,s,a){const c=r[Mt];if(256!=(256&c)){r[so].effectManager?.flush(),Er(r);try{Ho(r),function qa(t){return pn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Dg(t,r,s,2,a);const g=3==(3&c);if(g){const x=t.preOrderCheckHooks;null!==x&&id(r,x,null)}else{const x=t.preOrderHooks;null!==x&&bu(r,x,0,null),Sh(r,0)}if(function vI(t){for(let r=p(t);null!==r;r=D(r)){if(!r[mr])continue;const s=r[Uo];for(let a=0;a<s.length;a++){Do(s[a])}}}(r),jg(r,2),null!==t.contentQueries&&R_(t,r),g){const x=t.contentCheckHooks;null!==x&&id(r,x)}else{const x=t.contentHooks;null!==x&&bu(r,x,1),Sh(r,1)}!function wg(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=Fa(r,Io);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)Ka(~d);else{const g=d,v=s[++c],C=s[++c];S(v,g),a.dirty=!1;const x=_e(a);try{C(2,r[g])}finally{xe(a,x)}}}}finally{null===r[Io]&&Nf(r,Io),Ka(-1)}}(t,r);const v=t.components;null!==v&&Bf(r,v,0);const C=t.viewQuery;if(null!==C&&Vg(2,C,a),g){const x=t.viewCheckHooks;null!==x&&id(r,x)}else{const x=t.viewHooks;null!==x&&bu(r,x,2),Sh(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Mt]&=-73,ed(r)}finally{Zs()}}}function jg(t,r){for(let s=p(t);null!==s;s=D(s))for(let a=_r;a<s.length;a++)L_(s[a],r)}function k_(t,r,s){L_(it(r,t),s)}function L_(t,r){if(!function dc(t){return 128==(128&t[Mt])}(t))return;const s=t[Rt],a=t[Mt];if(80&a&&0===r||1024&a||2===r)Sv(s,t,s.template,t[Dr]);else if(t[Gs]>0){jg(t,1);const c=s.components;null!==c&&Bf(t,c,1)}}function Bf(t,r,s){for(let a=0;a<r.length;a++)k_(t,r[a],s)}class dh{get rootNodes(){const r=this._lView,s=r[Rt];return lh(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dr]}set context(r){this._lView[Dr]=r}get destroyed(){return 256==(256&this._lView[Mt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[er];if(Oi(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(ju(r,a),ll(s,a))}this._attachedToViewContainer=!1}Cc(this._lView[Rt],this._lView)}onDestroy(r){!function td(t,r){if(256==(256&t[Mt]))throw new le(911,!1);null===t[Ns]&&(t[Ns]=[]),t[Ns].push(r)}(this._lView,r)}markForCheck(){jc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Mt]&=-129}reattach(){this._lView[Mt]|=128}detectChanges(){$i(this._lView[Rt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ki(t,r){va(t,r,r[ln],2,null,null)}(this._lView[Rt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=r}}class EI extends dh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;$i(r[Rt],r,r[Dr],!1)}checkNoChanges(){}get context(){return null}}class gi extends Uc{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=rn(r);return new Hl(s,this.ngModule)}}function bv(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class ps{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=Qt(a);const c=this.injector.get(r,cg,a);return c!==cg||s===cg?c:this.parentInjector.get(r,s,a)}}class Hl extends vf{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=bv(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return bv(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Ei(t){return t.map(ta).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof La?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new ps(r,d):r,v=g.get(Yd,null);if(null===v)throw new le(407,!1);const se={rendererFactory:v,sanitizer:g.get(Vl,null),effectManager:g.get($g,null),afterRenderEventManager:g.get(Rf,null)},De=v.createRenderer(null,this.componentDef),ke=this.componentDef.selectors[0][0]||"div",rt=a?function bg(t,r,s,a){const d=a.get(Pf,!1)||s===Ut.ShadowDom,g=t.selectRootElement(r,d);return function vv(t){sh(t)}(g),g}(De,a,this.componentDef.encapsulation,g):Ht(De,ke,function Rv(t){const r=t.toLowerCase();return"svg"===r?at:"math"===r?"math":null}(ke)),un=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let dt=null;null!==rt&&(dt=rg(rt,g,!0));const jn=ih(0,null,null,1,0,null,null,null,null,null,null),ir=kf(null,jn,null,un,null,null,se,De,g,null,dt);let mi,la;Er(ir);try{const Jc=this.componentDef;let sp,pI=null;Jc.findHostDirectiveDefs?(sp=[],pI=new Map,Jc.findHostDirectiveDefs(Jc,sp,pI),sp.push(Jc)):sp=[Jc];const ZC=function TI(t,r){const s=t[Rt],a=Sn;return t[a]=r,nc(s,a,2,"#host",null)}(ir,rt),YC=function F_(t,r,s,a,c,d,g){const v=c[Rt];!function wI(t,r,s,a){for(const c of t)r.mergedAttrs=Pn(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(ic(r,r.mergedAttrs,!0),null!==s&&xp(a,s,r))}(a,t,r,g);let C=null;null!==r&&(C=rg(r,c[es]));const x=d.rendererFactory.createRenderer(r,s);let z=16;s.signals?z=4096:s.onPush&&(z=64);const se=kf(c,I_(s),null,z,c[t.index],t,d,x,null,null,C);return v.firstCreatePass&&rc(v,t,a.length-1),Uf(c,se),c[t.index]=se}(ZC,rt,Jc,sp,ir,se,De);la=At(jn,Sn),rt&&function AI(t,r,s,a){if(a)lo(t,s,["ng-version",o_.full]);else{const{attrs:c,classes:d}=function ho(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!qn(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&lo(t,s,c),d&&d.length>0&&Op(t,s,d.join(" "))}}(De,Jc,rt,a),void 0!==s&&function CI(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(la,this.ngContentSelectors,s),mi=function DI(t,r,s,a,c,d){const g=us(),v=c[Rt],C=Ft(g,c);Vf(v,c,g,s,null,a);for(let z=0;z<s.length;z++)fs(ba(c,v,g.directiveStart+z,g),c);uh(v,c,g),C&&fs(C,c);const x=ba(c,v,g.directiveStart+g.componentOffset,g);if(t[Dr]=c[Dr]=x,null!==d)for(const z of d)z(x,r);return Ag(v,g,t),x}(YC,Jc,sp,pI,ir,[SI]),jl(jn,ir,null)}finally{Zs()}return new II(this.componentType,mi,Yu(la,ir),ir,la)}}class II extends i_{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new EI(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;ch(d[Rt],d,c,r,s),this.previousInputValues.set(r,s),jc(it(this._tNode.index,d))}}get injector(){return new uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function SI(){const t=us();Su(ot()[Rt],t)}function V_(t){let r=function Pv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(Vn(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new le(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=sc(t.inputs),g.inputTransforms=sc(t.inputTransforms),g.declaredInputs=sc(t.declaredInputs),g.outputs=sc(t.outputs);const v=c.hostBindings;v&&zl(t,v);const C=c.viewQuery,x=c.contentQueries;if(C&&Mv(t,C),x&&zc(t,x),ce(t.inputs,c.inputs),ce(t.declaredInputs,c.declaredInputs),ce(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),ce(g.inputTransforms,c.inputTransforms)),Vn(c)&&c.data.animation){const z=t.data;z.animation=(z.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const v=d[g];v&&v.ngInherit&&v(t),v===V_&&(s=!1)}}r=Object.getPrototypeOf(r)}!function U_(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Pn(c.hostAttrs,s=Pn(s,c.hostAttrs))}}(a)}function sc(t){return t===tn?{}:t===bt?[]:t}function Mv(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function zc(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function zl(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function Gc(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function oc(t){return!!Kg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Kg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ua(t,r,s){return t[r]=s}function co(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function $f(t,r,s,a){const c=ot();return co(c,Yi(),r)&&(Gn(),Va(pi(),c,t,r,s,a)),$f}function $a(t,r,s,a){return co(t,Yi(),s)?r+Ce(s)+a:Wn}function Bv(t,r,s,a,c,d,g,v){const C=ot(),x=Gn(),z=t+Sn,se=x.firstCreatePass?function $I(t,r,s,a,c,d,g,v,C){const x=r.consts,z=nc(r,t,4,g||null,jo(x,v));ah(r,s,z,jo(x,C)),Su(r,z);const se=z.tView=ih(2,z,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,x,null);return null!==r.queries&&(r.queries.template(r,z),se.queries=r.queries.embeddedTView(z)),z}(z,x,C,r,s,a,c,d,g):x.data[z];ao(se,!1);const De=Z_(x,C,se,t);nl()&&Rd(x,C,De,se),fs(De,C),Uf(C,C[z]=Fg(De,C,De,se)),po(se)&&Cg(x,C,se),null!=g&&rh(C,se,v)}let Z_=function Y_(t,r,s,a){return Qa(!0),r[ln].createComment("")};function jv(t){return Ge(function tl(){return pn.lFrame.contextLView}(),Sn+t)}function Yc(t,r,s){const a=ot();return co(a,Yi(),r)&&Jo(Gn(),pi(),a,t,r,a[ln],s,!1),Yc}function ph(t,r,s,a,c){const g=c?"class":"style";ch(t,s,r.inputs[g],g,a)}function qf(t,r,s,a){const c=ot(),d=Gn(),g=Sn+t,v=c[ln],C=d.firstCreatePass?function zI(t,r,s,a,c,d){const g=r.consts,C=nc(r,t,2,a,jo(g,c));return ah(r,s,C,jo(g,d)),null!==C.attrs&&ic(C,C.attrs,!1),null!==C.mergedAttrs&&ic(C,C.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,C),C}(g,d,c,r,s,a):d.data[g],x=J_(d,c,C,v,r,t);c[g]=x;const z=po(C);return ao(C,!0),xp(v,x,C),32!=(32&C.flags)&&nl()&&Rd(d,c,x,C),0===function ra(){return pn.lFrame.elementDepthCount}()&&fs(x,c),function nd(){pn.lFrame.elementDepthCount++}(),z&&(Cg(d,c,C),Ag(d,C,c)),null!==a&&rh(c,C),qf}function Kf(){let t=us();ks()?ia():(t=t.parent,ao(t,!1));const r=t;(function lr(t){return pn.skipHydrationRootTNode===t})(r)&&function Au(){pn.skipHydrationRootTNode=null}(),function ni(){pn.lFrame.elementDepthCount--}();const s=Gn();return s.firstCreatePass&&(Su(s,t),To(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function il(t){return 0!=(8&t.flags)}(r)&&ph(s,r,ot(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function oi(t){return 0!=(16&t.flags)}(r)&&ph(s,r,ot(),r.stylesWithoutHost,!1),Kf}function Jg(t,r,s,a){return qf(t,r,s,a),Kf(),Jg}let J_=(t,r,s,a,c,d)=>(Qa(!0),Ht(a,c,function Ch(){return pn.lFrame.currentNamespace}()));function Xg(t,r,s){const a=ot(),c=Gn(),d=t+Sn,g=c.firstCreatePass?function WI(t,r,s,a,c){const d=r.consts,g=jo(d,a),v=nc(r,t,8,"ng-container",g);return null!==g&&ic(v,g,!0),ah(r,s,v,jo(d,c)),null!==r.queries&&r.queries.elementStart(r,v),v}(d,c,a,r,s):c.data[d];ao(g,!0);const v=X_(c,a,g,t);return a[d]=v,nl()&&Rd(c,a,v,g),fs(v,a),po(g)&&(Cg(c,a,g),Ag(c,g,a)),null!=s&&rh(a,g),Xg}function em(){let t=us();const r=Gn();return ks()?ia():(t=t.parent,ao(t,!1)),r.firstCreatePass&&(Su(r,t),To(t)&&r.queries.elementEnd(t)),em}function tm(t,r,s){return Xg(t,r,s),em(),tm}let X_=(t,r,s,a)=>(Qa(!0),nt(r[ln],""));function ey(){return ot()}function nm(t){return!!t&&"function"==typeof t.then}function gh(t){return!!t&&"function"==typeof t.subscribe}function rm(t,r,s,a){const c=ot(),d=Gn(),g=us();return Gv(d,c,c[ln],g,t,r,a),rm}function ty(t,r){const s=us(),a=ot(),c=Gn();return Gv(c,a,Ug(oe(c.data),s,a),s,t,r),ty}function Gv(t,r,s,a,c,d,g){const v=po(a),x=t.firstCreatePass&&M_(t),z=r[Dr],se=P_(r);let De=!0;if(3&a.type||g){const gt=Ft(a,r),jt=g?g(gt):gt,un=se.length,dt=g?ir=>g(Zn(ir[a.index])):a.index;let jn=null;if(!g&&v&&(jn=function KI(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const v=r[Rs],C=c[d+2];return v.length>C?v[C]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==jn)(jn.__ngLastListenerFn__||jn).__ngNextListenerFn__=d,jn.__ngLastListenerFn__=d,De=!1;else{d=qv(a,r,z,d,!1);const ir=s.listen(jt,c,d);se.push(d,ir),x&&x.push(c,dt,un,un+1)}}else d=qv(a,r,z,d,!1);const ke=a.outputs;let rt;if(De&&null!==ke&&(rt=ke[c])){const gt=rt.length;if(gt)for(let jt=0;jt<gt;jt+=2){const mi=r[rt[jt]][rt[jt+1]].subscribe(d),la=se.length;se.push(d,mi),x&&x.push(c,a.index,la,-(la+1))}}}function Wv(t,r,s,a){try{return as(6,r,s),!1!==s(a)}catch(c){return Bg(t,c),!1}finally{as(7,r,s)}}function qv(t,r,s,a,c){return function d(g){if(g===Function)return a;jc(t.componentOffset>-1?it(t.index,r):r);let C=Wv(r,s,a,g),x=d.__ngNextListenerFn__;for(;x;)C=Wv(r,s,x,g)&&C,x=x.__ngNextListenerFn__;return c&&!1===C&&g.preventDefault(),C}}function Kv(t=1){return function No(t){return(pn.lFrame.contextLView=function Cu(t,r){for(;t>0;)r=r[Tr],t--;return r}(t,pn.lFrame.contextLView))[Dr]}(t)}function QI(t,r){let s=null;const a=function go(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(t);for(let c=0;c<r.length;c++){const d=r[c];if("*"!==d){if(null===a?io(t,d,!0):Gi(a,d))return c}else s=c}return s}function Qv(t){const r=ot()[Ar][Jr];if(!r.projection){const a=r.projection=Lu(t?t.length:1,null),c=a.slice();let d=r.child;for(;null!==d;){const g=t?QI(d,t):0;null!==g&&(c[g]?c[g].projectionNext=d:a[g]=d,c[g]=d),d=d.next}}}function im(t,r=0,s){const a=ot(),c=Gn(),d=nc(c,Sn+t,16,null,s||null);null===d.projection&&(d.projection=r),ia(),(!a[oo]||Po())&&32!=(32&d.flags)&&function Rc(t,r,s){Al(r[ln],0,r,s,su(t,s,r),Om(s.parent||r[Jr],s,r))}(c,a,d)}function sm(t,r,s){return ny(t,"",r,"",s),sm}function ny(t,r,s,a,c){const d=ot(),g=$a(d,r,s,a);return g!==Wn&&Jo(Gn(),pi(),d,t,g,d[ln],c,!1),ny}function Zf(t,r){return t<<17|r<<2}function Iu(t){return t>>17&32767}function cm(t){return 2|t}function Tu(t){return(131068&t)>>2}function lm(t,r){return-131069&t|r<<2}function Jf(t){return 1|t}function ry(t,r,s,a,c){const d=t[s+1],g=null===r;let v=a?Iu(d):Tu(d),C=!1;for(;0!==v&&(!1===C||g);){const z=t[v+1];iy(t[v],r)&&(C=!0,t[v+1]=a?Jf(z):cm(z)),v=a?Iu(z):Tu(z)}C&&(t[s+1]=a?cm(d):Jf(d))}function iy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&ma(t,r)>=0}const gs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sy(t){return t.substring(gs.key,gs.keyEnd)}function rE(t,r){const s=gs.textEnd;return s===r?-1:(r=gs.keyEnd=function Xf(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,gs.key=r,s),_h(t,r,s))}function _h(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function hm(t,r,s){return za(t,r,s,!1),hm}function fm(t,r){return za(t,r,null,!0),fm}function dy(t){Ga(oT,wu,t,!0)}function wu(t,r){for(let s=function nE(t){return function uy(t){gs.key=0,gs.keyEnd=0,gs.value=0,gs.valueEnd=0,gs.textEnd=t.length}(t),rE(t,_h(t,0,gs.textEnd))}(r);s>=0;s=rE(r,s))ls(t,sy(r),!0)}function za(t,r,s,a){const c=ot(),d=Gn(),g=I(2);d.firstUpdatePass&&hy(d,t,g,a),r!==Wn&&co(c,g,r)&&aE(d,d.data[Ys()],c,c[ln],t,c[g+1]=function uT(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ee(Ea(t)))),t}(r,s),a,g)}function Ga(t,r,s,a){const c=Gn(),d=I(2);c.firstUpdatePass&&hy(c,null,d,a);const g=ot();if(s!==Wn&&co(g,d,s)){const v=c.data[Ys()];if(py(v,a)&&!sE(c,d)){let C=a?v.classesWithoutHost:v.stylesWithoutHost;null!==C&&(s=we(C,s||"")),ph(c,v,g,s,a)}else!function aT(t,r,s,a,c,d,g,v){c===Wn&&(c=bt);let C=0,x=0,z=0<c.length?c[0]:null,se=0<d.length?d[0]:null;for(;null!==z||null!==se;){const De=C<c.length?c[C+1]:void 0,ke=x<d.length?d[x+1]:void 0;let gt,rt=null;z===se?(C+=2,x+=2,De!==ke&&(rt=se,gt=ke)):null===se||null!==z&&z<se?(C+=2,rt=z):(x+=2,rt=se,gt=ke),null!==rt&&aE(t,r,s,a,rt,gt,g,v),z=C<c.length?c[C]:null,se=x<d.length?d[x]:null}}(c,v,g,g[ln],g[d+1],g[d+1]=function sT(t,r,s){if(null==s||""===s)return bt;const a=[],c=Ea(s);if(Array.isArray(c))for(let d=0;d<c.length;d++)t(a,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&t(a,d,c[d]);else"string"==typeof c&&r(a,c);return a}(t,r,s),a,d)}}function sE(t,r){return r>=t.expandoStartIndex}function hy(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[Ys()],g=sE(t,s);py(d,a)&&null===r&&!g&&(r=!1),r=function tT(t,r,s,a){const c=oe(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=tp(s=fy(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=fy(c,t,r,s,a),null===d){let C=function nT(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Tu(a))return t[Iu(a)]}(t,r,a);void 0!==C&&Array.isArray(C)&&(C=fy(null,t,r,C[1],a),C=tp(C,r.attrs,a),function rT(t,r,s,a){t[Iu(s?r.classBindings:r.styleBindings)]=a}(t,r,a,C))}else d=function iT(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=tp(a,t[d].hostAttrs,s);return tp(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function dm(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,v=Iu(g),C=Tu(g);t[a]=s;let z,x=!1;if(Array.isArray(s)?(z=s[1],(null===z||ma(s,z)>0)&&(x=!0)):z=s,c)if(0!==C){const De=Iu(t[v+1]);t[a+1]=Zf(De,v),0!==De&&(t[De+1]=lm(t[De+1],a)),t[v+1]=function um(t,r){return 131071&t|r<<17}(t[v+1],a)}else t[a+1]=Zf(v,0),0!==v&&(t[v+1]=lm(t[v+1],a)),v=a;else t[a+1]=Zf(C,0),0===v?v=a:t[C+1]=lm(t[C+1],a),C=a;x&&(t[a+1]=cm(t[a+1])),ry(t,z,a,!0),ry(t,z,a,!1),function tE(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&ma(d,r)>=0&&(s[a+1]=Jf(s[a+1]))}(r,z,t,a,d),g=Zf(v,C),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}function fy(t,r,s,a,c){let d=null;const g=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<g&&(d=r[v],a=tp(a,d.hostAttrs,c),d!==t);)v++;return null!==t&&(s.directiveStylingLast=v),a}function tp(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ls(t,g,!!s||r[++d]))}return void 0===t?null:t}function oT(t,r,s){const a=String(r);""!==a&&!a.includes(" ")&&ls(t,a,s)}function aE(t,r,s,a,c,d,g,v){if(!(3&r.type))return;const C=t.data,x=C[v+1],z=function ZI(t){return 1==(1&t)}(x)?uE(C,r,s,c,Tu(x),g):void 0;pm(z)||(pm(d)||function Yf(t){return 2==(2&t)}(x)&&(d=uE(C,null,s,c,v,g)),function Mp(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:Oa.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Oa.Important),t.setStyle(s,a,c,d))}}(a,g,Lt(Ys(),s),c,d))}function uE(t,r,s,a,c,d){const g=null===r;let v;for(;c>0;){const C=t[c],x=Array.isArray(C),z=x?C[1]:C,se=null===z;let De=s[c+1];De===Wn&&(De=se?bt:void 0);let ke=se?nu(De,a):z===a?De:void 0;if(x&&!pm(ke)&&(ke=nu(C,a)),pm(ke)&&(v=ke,g))return v;const rt=t[c+1];c=g?Iu(rt):Tu(rt)}if(null!==r){let C=d?r.residualClasses:r.residualStyles;null!=C&&(v=nu(C,a))}return v}function pm(t){return void 0!==t}function py(t,r){return 0!=(t.flags&(r?8:16))}function cE(t,r=""){const s=ot(),a=Gn(),c=t+Sn,d=a.firstCreatePass?nc(a,c,1,r,null):a.data[c],g=lE(a,s,d,r,t);s[c]=g,nl()&&Rd(a,s,g,d),ao(d,!1)}let lE=(t,r,s,a,c)=>(Qa(!0),function Te(t,r){return t.createText(r)}(r[ln],a));function gy(t){return gm("",t,""),gy}function gm(t,r,s){const a=ot(),c=$a(a,t,r,s);return c!==Wn&&function gu(t,r,s){const a=Lt(r,t);!function Ke(t,r,s){t.setValue(r,s)}(t[ln],a,s)}(a,Ys(),c),gm}function yE(t,r,s){Ga(ls,wu,$a(ot(),t,r,s),!0)}function _y(t,r,s){const a=ot();return co(a,Yi(),r)&&Jo(Gn(),pi(),a,t,r,a[ln],s,!0),_y}function mm(t,r,s){const a=ot();if(co(a,Yi(),r)){const d=Gn(),g=pi();Jo(d,g,a,t,r,Ug(oe(d.data),g,a),s,!0)}return mm}const Zl=void 0;var ST=["en",[["a","p"],["AM","PM"],Zl],[["AM","PM"],Zl,Zl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zl,"{1} 'at' {0}",Zl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CT(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let yh={};function yy(t){const r=function RT(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=ME(r);if(s)return s;const a=r.split("-")[0];if(s=ME(a),s)return s;if("en"===a)return ST;throw new le(701,!1)}function PE(t){return yy(t)[vh.PluralCase]}function ME(t){return t in yh||(yh[t]=An.ng&&An.ng.common&&An.ng.common.locales&&An.ng.common.locales[t]),yh[t]}var vh=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(vh||{});const Yl="en-US";let u=Yl;function LE(t,r,s,a,c){if(t=Ze(t),Array.isArray(t))for(let d=0;d<t.length;d++)LE(t[d],r,s,a,c);else{const d=Gn(),g=ot(),v=us();let C=hu(t)?t:Ze(t.provide);const x=kc(t),z=1048575&v.providerIndexes,se=v.directiveStart,De=v.providerIndexes>>20;if(hu(t)||!t.multi){const ke=new Za(x,c,tc),rt=VE(C,r,c?z:z+De,se);-1===rt?(xo(Ya(v,g),d,C),FE(d,t,r.length),r.push(C),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(ke),g.push(ke)):(s[rt]=ke,g[rt]=ke)}else{const ke=VE(C,r,z+De,se),rt=VE(C,r,z,z+De),jt=rt>=0&&s[rt];if(c&&!jt||!c&&!(ke>=0&&s[ke])){xo(Ya(v,g),d,C);const un=function wD(t,r,s,a,c){const d=new Za(t,s,tc);return d.multi=[],d.index=r,d.componentProviders=0,KT(d,c,a&&!s),d}(c?TD:ID,s.length,c,a,x);!c&&jt&&(s[rt].providerFactory=un),FE(d,t,r.length,0),r.push(C),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),s.push(un),g.push(un)}else FE(d,t,ke>-1?ke:rt,KT(s[c?rt:ke],x,!c&&a));!c&&a&&jt&&s[rt].componentProviders++}}}function FE(t,r,s,a){const c=hu(r),d=function Ky(t){return!!t.useClass}(r);if(c||d){const C=(d?Ze(r.useClass):r).prototype.ngOnDestroy;if(C){const x=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const z=x.indexOf(s);-1===z?x.push(s,[a,C]):x[z+1].push(a,C)}else x.push(s,C)}}}function KT(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function VE(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function ID(t,r,s,a){return UE(this.multi,[])}function TD(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=ba(s,s[Rt],this.providerFactory.index,a);d=v.slice(0,g),UE(c,d);for(let C=g;C<v.length;C++)d.push(v[C])}else d=[],UE(c,d);return d}function UE(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function QT(t,r=[]){return s=>{s.providersResolver=(a,c)=>function ED(t,r,s){const a=Gn();if(a.firstCreatePass){const c=Vn(t);LE(s,a.data,a.blueprint,c,!0),LE(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Eh{}class ZT{}function DD(t,r){return new BE(t,r??null,[])}class BE extends Eh{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gi(this);const c=hi(r);this._bootstrapComponents=Ta(c.bootstrap),this._r3Injector=Af(r,s,[{provide:Eh,useValue:this},{provide:Uc,useValue:this.componentFactoryResolver},...a],Ee(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class $E extends ZT{constructor(r){super(),this.moduleType=r}create(r){return new BE(this.moduleType,r,[])}}class YT extends Eh{constructor(r){super(),this.componentFactoryResolver=new gi(this),this.instance=null;const s=new xc([...r.providers,{provide:Eh,useValue:this},{provide:Uc,useValue:this.componentFactoryResolver}],r.parent||Nl(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function JT(t,r,s=null){return new YT({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let CD=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=jd(0,s.type),c=a.length>0?JT([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Vt({token:t,providedIn:"environment",factory:()=>new t(xt(La))})}return t})();function XT(t){t.getStandaloneInjector=r=>r.get(CD).getOrCreateStandaloneInjector(t)}function ow(t,r,s,a){return uw(ot(),ws(),t,r,s,a)}function aw(t,r,s,a,c){return function cw(t,r,s,a,c,d,g){const v=r+s;return function ac(t,r,s,a){const c=co(t,r,s);return co(t,r+1,a)||c}(t,v,c,d)?Ua(t,v+2,g?a.call(g,c,d):a(c,d)):vm(t,v+2)}(ot(),ws(),t,r,s,a,c)}function vm(t,r){const s=t[r];return s===Wn?void 0:s}function uw(t,r,s,a,c,d){const g=r+s;return co(t,g,c)?Ua(t,g+1,d?a.call(d,c):a(c)):vm(t,g+1)}function fw(t,r){const s=Gn();let a;const c=t+Sn;s.firstCreatePass?(a=function HD(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks??=[]).push(c,a.onDestroy)):a=s.data[c];const d=a.factory||(a.factory=Xr(a.type)),v=Qn(tc);try{const C=Rh(!1),x=d();return Rh(C),function $v(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,ot(),c,x),x}finally{Qn(v)}}function pw(t,r,s){const a=t+Sn,c=ot(),d=Ge(c,a);return function Em(t,r){return t[Rt].data[r].pure}(c,a)?uw(c,ws(),r,d.transform,s,d):d.transform(s)}function KD(){return this._results[Symbol.iterator]()}class Iy{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ua)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Iy.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=KD)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function Lo(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function fp(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function ZD(t,r,s,a=!0){const c=r[Rt];if(function Dc(t,r,s,a){const c=_r+a,d=s.length;a>0&&(s[c-1][$r]=r),a<d-_r?(r[$r]=s[c],gc(s,_r+a,r)):(s.push(r),r[$r]=null),r[er]=s;const g=r[Ps];null!==g&&s!==g&&function $u(t,r){const s=t[Uo];r[Ar]!==r[er][er][Ar]&&(t[mr]=!0),null===s?t[Uo]=[r]:s.push(r)}(g,r);const v=r[Is];null!==v&&v.insertView(t),r[Mt]|=128}(c,r,t,s),a){const d=Pp(s,t),g=r[ln],v=Zh(g,t[Ni]);null!==v&&function Yn(t,r,s,a,c,d){a[Xn]=c,a[Jr]=r,va(t,a,s,1,c,d)}(c,t[Jr],g,r,v,d)}}let Im=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=XD}return t})();const YD=Im,JD=class extends YD{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function QD(t,r,s,a){const c=r.tView,v=kf(t,c,s,4096&t[Mt]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);v[Ps]=t[r.index];const x=t[Is];return null!==x&&(v[Is]=x.createEmbeddedView(c)),jl(c,v,s),v}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new dh(c)}};function XD(){return Ty(us(),ot())}function Ty(t,r){return 4&t.type?new JD(r,t,Yu(t,r)):null}let Dy=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=sA}return t})();function sA(){return Iw(us(),ot())}const oA=Dy,vw=class extends oA{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Yu(this._hostTNode,this._hostLView)}get injector(){return new uo(this._hostTNode,this._hostLView)}get parentInjector(){const r=Oo(this._hostTNode,this._hostLView);if(br(r)){const s=Ls(r,this._hostLView),a=Ru(r);return new uo(s[Rt].data[a+8],s)}return new uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=Ew(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-_r}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const v=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(v,c,false),v}createComponent(r,s,a,c,d){const g=r&&!function xu(t){return"function"==typeof t}(r);let v;if(g)v=s;else{const gt=s||{};v=gt.index,a=gt.injector,c=gt.projectableNodes,d=gt.environmentInjector||gt.ngModuleRef}const C=g?r:new Hl(rn(r)),x=a||this.parentInjector;if(!d&&null==C.ngModule){const jt=(g?x:this.parentInjector).get(La,null);jt&&(d=jt)}rn(C.componentType??{});const ke=C.create(x,c,null,d);return this.insertImpl(ke.hostView,v,false),ke}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function Xl(t){return Oi(t[er])}(c)){const C=this.indexOf(r);if(-1!==C)this.detach(C);else{const x=c[er],z=new vw(x,x[Jr],x[er]);z.detach(z.indexOf(r))}}const g=this._adjustIndex(s),v=this._lContainer;return ZD(v,c,g,!a),r.attachToViewContainerRef(),gc(HE(v),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=Ew(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=ju(this._lContainer,s);a&&(ll(HE(this._lContainer),s),Cc(a[Rt],a))}detach(r){const s=this._adjustIndex(r,-1),a=ju(this._lContainer,s);return a&&null!=ll(HE(this._lContainer),s)?new dh(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function Ew(t){return t[8]}function HE(t){return t[8]||(t[8]=[])}function Iw(t,r){let s;const a=r[t.index];return Oi(a)?s=a:(s=Fg(a,r,null,t),r[t.index]=s,Uf(r,s)),Tw(s,r,t,a),new vw(s,t,r)}let Tw=function ww(t,r,s,a){if(t[Ni])return;let c;c=8&s.type?Zn(a):function aA(t,r){const s=t[ln],a=s.createComment(""),c=Ft(r,t);return ka(s,Zh(s,c),a,function xy(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[Ni]=c};class zE{constructor(r){this.queryList=r,this.matches=null}clone(){return new zE(this.queryList)}setDirty(){this.queryList.setDirty()}}class GE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new GE(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==Nw(r,s).matches&&this.queries[s].setDirty()}}class Dw{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class WE{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new WE(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class qE{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new qE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,lA(s,d)),this.matchTNodeWithReadOption(r,s,Wo(s,r,d,!1,!1))}else a===Im?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Wo(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Zd||c===Dy||c===Im&&4&s.type)this.addMatch(s.index,-2);else{const d=Wo(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function lA(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function hA(t,r,s,a){return-1===s?function dA(t,r){return 11&t.type?Yu(t,r):4&t.type?Ty(t,r):null}(r,t):-2===s?function fA(t,r,s){return s===Zd?Yu(r,t):s===Im?Ty(r,t):s===Dy?Iw(r,t):void 0}(t,r,a):ba(t,t[Rt],s,r)}function Aw(t,r,s,a){const c=r[Is].queries[a];if(null===c.matches){const d=t.data,g=s.matches,v=[];for(let C=0;C<g.length;C+=2){const x=g[C];v.push(x<0?null:hA(r,d[x],g[C+1],s.metadata.read))}c.matches=v}return c.matches}function KE(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=Aw(t,r,c,s);for(let v=0;v<d.length;v+=2){const C=d[v];if(C>0)a.push(g[v/2]);else{const x=d[v+1],z=r[-C];for(let se=_r;se<z.length;se++){const De=z[se];De[Ps]===De[er]&&KE(De[Rt],De,x,a)}if(null!==z[Uo]){const se=z[Uo];for(let De=0;De<se.length;De++){const ke=se[De];KE(ke[Rt],ke,x,a)}}}}}return a}function Cw(t){const r=ot(),s=Gn(),a=ze();$e(a+1);const c=Nw(s,a);if(t.dirty&&function Zi(t){return 4==(4&t[Mt])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?KE(s,r,a,[]):Aw(s,r,c,a);t.reset(d,ag),t.notifyOnChanges()}return!0}return!1}function Sw(t,r,s){const a=Gn();a.firstCreatePass&&(Mw(a,new Dw(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),Pw(a,ot(),r)}function bw(t,r,s,a){const c=Gn();if(c.firstCreatePass){const d=us();Mw(c,new Dw(r,s,a),d.index),function gA(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}Pw(c,ot(),s)}function Rw(){return function pA(t,r){return t[Is].queries[r].queryList}(ot(),ze())}function Pw(t,r,s){const a=new Iy(4==(4&s));(function w_(t,r,s,a){const c=P_(r);c.push(s),t.firstCreatePass&&M_(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[Is]&&(r[Is]=new GE),r[Is].queries.push(new zE(a))}function Mw(t,r,s){null===t.queries&&(t.queries=new WE),t.queries.track(new qE(r,s))}function Nw(t,r){return t.queries.getByIndex(r)}function Ow(t,r){return Ty(t,r)}function QE(t){return!!hi(t)}const Zw=new Gt("Application Initializer");let eI=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=St(Zw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(nm(d))s.push(d);else if(gh(d)){const g=new Promise((v,C)=>{d.subscribe({complete:v,error:C})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Vt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yw=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Vt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Cy=new Gt("LocaleId",{providedIn:"root",factory:()=>St(Cy,Zt.Optional|Zt.SkipSelf)||function LA(){return typeof $localize<"u"&&$localize.locale||Yl}()}),FA=new Gt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Jw=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Y.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Vt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class UA{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let BA=(()=>{class t{compileModuleSync(s){return new $E(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=Ta(hi(s).declarations).reduce((g,v)=>{const C=rn(v);return C&&g.push(new Hl(C)),g},[]);return new UA(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Vt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const n0=new Gt(""),r0=new Gt("");let rI,uC=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,rI||(function cC(t){rI=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{eo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(xt(eo),xt(s0),xt(r0))};static#t=this.\u0275prov=Vt({token:t,factory:t.\u0275fac})}return t})(),s0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return rI?.findTestabilityInTree(this,s,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Vt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Jl=null;const o0=new Gt("AllowMultipleToken"),iI=new Gt("PlatformDestroyListeners"),sI=new Gt("appBootstrapListener");class hC{constructor(r,s){this.name=r,this.token=s}}function c0(t,r,s=[]){const a=`Platform: ${r}`,c=new Gt(a);return(d=[])=>{let g=oI();if(!g||g.injector.get(o0,!1)){const v=[...s,...d,{provide:c,useValue:!0}];t?t(v):function fC(t){if(Jl&&!Jl.get(o0,!1))throw new le(400,!1);(function a0(){!function Ki(t){xs=t}(()=>{throw new le(600,!1)})})(),Jl=t;const r=t.get(d0);(function u0(t){t.get(gf,null)?.forEach(s=>s())})(t)}(function l0(t=[],r){return Zo.create({name:r,providers:[{provide:lf,useValue:"platform"},{provide:iI,useValue:new Set([()=>Jl=null])},...t]})}(v,a))}return function gC(t){const r=oI();if(!r)throw new le(401,!1);return r}()}}function oI(){return Jl?.get(d0)??null}let d0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function mC(t="zone.js",r){return"noop"===t?new d_:"zone.js"===t?new eo(r):t}(a?.ngZone,function h0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function AD(t,r,s){return new BE(t,r,s)}(s.moduleType,this.injector,function _0(t){return[{provide:eo,useFactory:t},{provide:Bd,multi:!0,useFactory:()=>{const r=St(yC,{optional:!0});return()=>r.initialize()}},{provide:m0,useFactory:_C},{provide:mg,useFactory:_g}]}(()=>c)),g=d.injector.get(Yo,null);return c.runOutsideAngular(()=>{const v=c.onError.subscribe({next:C=>{g.handleError(C)}});d.onDestroy(()=>{by(this._modules,d),v.unsubscribe()})}),function f0(t,r,s){try{const a=s();return nm(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const v=d.injector.get(eI);return v.runInitializers(),v.donePromise.then(()=>(function l(t){Se(t,"Expected localeId to be defined"),"string"==typeof t&&(u=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(Cy,Yl)||Yl),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=p0({},a);return function lC(t,r,s){const a=new $E(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(ip);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new le(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(iI,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(xt(Zo))};static#t=this.\u0275prov=Vt({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function p0(t,r){return Array.isArray(r)?r.reduce(p0,t):{...t,...r}}let ip=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=St(m0),this.zoneIsStable=St(mg),this.componentTypes=[],this.components=[],this.isStable=St(Jw).hasPendingTasks.pipe((0,ye.w)(s=>s?(0,ie.of)(!1):this.zoneIsStable),(0,ge.x)(),(0,Ae.B)()),this._injector=St(La)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof vf;if(!this._injector.get(eI).done)throw!c&&vs(s),new le(405,!1);let g;g=c?s:this._injector.get(Uc).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const v=function dC(t){return t.isBoundToModule}(g)?void 0:this._injector.get(Eh),x=g.create(Zo.NULL,[],a||g.selector,v),z=x.location.nativeElement,se=x.injector.get(n0,null);return se?.registerApplication(z),x.onDestroy(()=>{this.detachView(x.hostView),by(this.components,x),se?.unregisterApplication(z)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;by(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(sI,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>by(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new le(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Vt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function by(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const m0=new Gt("",{providedIn:"root",factory:()=>St(Yo).handleError.bind(void 0)});function _C(){const t=St(eo),r=St(Yo);return s=>t.runOutsideAngular(()=>r.handleError(s))}let yC=(()=>{class t{constructor(){this.zone=St(eo),this.applicationRef=St(ip)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Vt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let EC=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=IC}return t})();function IC(t){return function TC(t,r,s){if(Ii(t)&&!s){const a=it(t.index,r);return new dh(a,a)}return 47&t.type?new dh(r[Ar],r):null}(us(),ot(),16==(16&t))}class I0{constructor(){}supports(r){return oc(r)}create(r){return new bC(r)}}const SC=(t,r)=>r;class bC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||SC}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<w0(a,c,d)?s:a,v=w0(g,c,d),C=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const x=v-c,z=C-c;if(x!=z){for(let De=0;De<x;De++){const ke=De<d.length?d[De]:d[De]=0,rt=ke+De;z<=rt&&rt<x&&(d[De]=ke+1)}d[g.previousIndex]=z-x}}v!==C&&r(g,v,C)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!oc(r))throw new le(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let v=0;v<this.length;v++)d=r[v],g=this._trackByFn(v,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,v)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,v),a=!0),s=s._next}else c=0,function qg(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,v=>{g=this._trackByFn(c,v),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,v,g,c)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new RC(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new T0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new T0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class RC{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class T0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new PC,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function w0(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class D0{constructor(){}supports(r){return r instanceof Map||Kg(r)}create(){return new MC}}class MC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Kg(r)))throw new le(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new NC(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class NC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function A0(){return new dI([new I0])}let dI=(()=>{class t{static#e=this.\u0275prov=Vt({token:t,providedIn:"root",factory:A0});constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||A0()),deps:[[t,new _a,new mc]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new le(901,!1)}}return t})();function C0(){return new hI([new D0])}let hI=(()=>{class t{static#e=this.\u0275prov=Vt({token:t,providedIn:"root",factory:C0});constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||C0()),deps:[[t,new _a,new mc]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new le(901,!1)}}return t})();const kC=c0(null,"core",[]);let LC=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(a){return new(a||t)(xt(ip))};static#t=this.\u0275mod=vo({type:t});static#n=this.\u0275inj=Tn({})}return t})();function qC(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function QC(t){const r=rn(t);if(!r)return null;const s=new Hl(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},721:(It,Fe,L)=>{L.d(Fe,{Ot:()=>J,ZF:()=>_t,hX:()=>we,z6:()=>Y});var _=L(3182),re=L(5879),he=L(1920);class J{constructor(qe){return qe}}class Y{constructor(){return(0,_.C6)()}}const ye=new re.OlP("angularfire2._apps"),ge={provide:J,useFactory:function Ae(le){return le&&1===le.length?le[0]:new J((0,_.Mq)())},deps:[[new re.FiY,ye]]},ee={provide:Y,deps:[[new re.FiY,ye]]};function ce(le){return(qe,Ce)=>{const Ye=qe.runOutsideAngular(()=>le(Ce));return new J(Ye)}}let Ee=(()=>{class le{constructor(Ce){(0,_.KN)("angularfire",he.q4.full,"core"),(0,_.KN)("angularfire",he.q4.full,"app"),(0,_.KN)("angular",re.q4F.full,Ce.toString())}static \u0275fac=function(Ye){return new(Ye||le)(re.LFG(re.Lbi))};static \u0275mod=re.oAB({type:le});static \u0275inj=re.cJS({providers:[ge,ee]})}return le})();function we(le,...qe){return{ngModule:Ee,providers:[{provide:ye,useFactory:ce(le),multi:!0,deps:[re.R0b,re.zs3,he.HU,...qe]}]}}const _t=(0,he.u3)(_.ZF,!0)},3435:(It,Fe,L)=>{L.d(Fe,{gx:()=>Co,dh:()=>Vh,Xb:()=>Uu,v0:()=>Ep,AR:()=>vp,w$:()=>El,e5:()=>fs,w7:()=>Il});var _=L(1920),re=L(5879),he=L(721),J=L(3182),Y=L(5861),ie=L(9058),Ae=L(534),ye=L(7879),ge=L(7582),ee=L(4537);const Jt=function _t(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Tt=new ie.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qe=new ye.Yd("@firebase/auth");function Ye(E,...h){qe.logLevel<=ye.in.ERROR&&qe.error(`Auth (${Ae.Jn}): ${E}`,...h)}function ut(E,...h){throw Kn(E,...h)}function lt(E,...h){return Kn(E,...h)}function Kn(E,...h){if("string"!=typeof E){const p=h[0],D=[...h.slice(1)];return D[0]&&(D[0].appName=E.name),E._errorFactory.create(p,...D)}return Tt.create(E,...h)}function ct(E,h,...p){if(!E)throw Kn(h,...p)}function En(E){const h="INTERNAL ASSERTION FAILED: "+E;throw Ye(h),new Error(h)}function Nn(E,h){E||En(h)}function Et(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function qt(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Ue{constructor(h,p){this.shortDelay=h,this.longDelay=p,Nn(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,ie.uI)()||(0,ie.b$)()}get(){return function Pe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function nn(){return"http:"===qt()||"https:"===qt()}()||(0,ie.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fe(E,h){Nn(E.emulator,"Emulator should always be set here");const{url:p}=E.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Be{static initialize(h,p,D){this.fetchImpl=h,p&&(this.headersImpl=p),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void En("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void En("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void En("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const de={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Se=new Ue(3e4,6e4);function be(E,h){return E.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:E.tenantId}):h}function et(E,h,p,D){return kt.apply(this,arguments)}function kt(){return(kt=(0,Y.Z)(function*(E,h,p,D,V={}){return dn(E,V,(0,Y.Z)(function*(){let Z={},Te={};D&&("GET"===h?Te=D:Z={body:JSON.stringify(D)});const Ke=(0,ie.xO)(Object.assign({key:E.config.apiKey},Te)).slice(1),nt=yield E._getAdditionalHeaders();return nt["Content-Type"]="application/json",E.languageCode&&(nt["X-Firebase-Locale"]=E.languageCode),Be.fetch()(kn(E,E.config.apiHost,p,Ke),Object.assign({method:h,headers:nt,referrerPolicy:"no-referrer"},Z))}))})).apply(this,arguments)}function dn(E,h,p){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,Y.Z)(function*(E,h,p){E._canInitEmulator=!1;const D=Object.assign(Object.assign({},de),h);try{const V=new Fn(E),Z=yield Promise.race([p(),V.promise]);V.clearNetworkTimeout();const Te=yield Z.json();if("needConfirmation"in Te)throw sr(E,"account-exists-with-different-credential",Te);if(Z.ok&&!("errorMessage"in Te))return Te;{const Ke=Z.ok?Te.errorMessage:Te.error.message,[nt,Ht]=Ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nt)throw sr(E,"credential-already-in-use",Te);if("EMAIL_EXISTS"===nt)throw sr(E,"email-already-in-use",Te);if("USER_DISABLED"===nt)throw sr(E,"user-disabled",Te);const sn=D[nt]||nt.toLowerCase().replace(/[_\s]+/g,"-");if(Ht)throw function hn(E,h,p){const D=Object.assign(Object.assign({},Jt()),{[h]:p});return new ie.LL("auth","Firebase",D).create(h,{appName:E.name})}(E,sn,Ht);ut(E,sn)}}catch(V){if(V instanceof ie.ZR)throw V;ut(E,"network-request-failed",{message:String(V)})}})).apply(this,arguments)}function In(E,h,p,D){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,Y.Z)(function*(E,h,p,D,V={}){const Z=yield et(E,h,p,D,V);return"mfaPendingCredential"in Z&&ut(E,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function kn(E,h,p,D){const V=`${h}${p}?${D}`;return E.config.emulator?fe(E.config,V):`${E.config.apiScheme}://${V}`}function Ln(E){switch(E){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Fn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,D)=>{this.timer=setTimeout(()=>D(lt(this.auth,"network-request-failed")),Se.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sr(E,h,p){const D={appName:E.name};p.email&&(D.email=p.email),p.phoneNumber&&(D.phoneNumber=p.phoneNumber);const V=lt(E,h,D);return V.customData._tokenResponse=p,V}function Kr(E){return void 0!==E&&void 0!==E.enterprise}class ji{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===h)return Ln(p.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function Zt(E,h){return _n.apply(this,arguments)}function _n(){return(_n=(0,Y.Z)(function*(E,h){return et(E,"GET","/v2/recaptchaConfig",be(E,h))})).apply(this,arguments)}function Qn(){return(Qn=(0,Y.Z)(function*(E,h){return et(E,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function pr(){return(pr=(0,Y.Z)(function*(E,h){return et(E,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function _i(E){if(E)try{const h=new Date(Number(E));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function an(){return(an=(0,Y.Z)(function*(E,h=!1){const p=(0,ie.m9)(E),D=yield p.getIdToken(h),V=Br(D);ct(V&&V.exp&&V.auth_time&&V.iat,p.auth,"internal-error");const Z="object"==typeof V.firebase?V.firebase:void 0,Te=Z?.sign_in_provider;return{claims:V,token:D,authTime:_i(Ji(V.auth_time)),issuedAtTime:_i(Ji(V.iat)),expirationTime:_i(Ji(V.exp)),signInProvider:Te||null,signInSecondFactor:Z?.sign_in_second_factor||null}})).apply(this,arguments)}function Ji(E){return 1e3*Number(E)}function Br(E){const[h,p,D]=E.split(".");if(void 0===h||void 0===p||void 0===D)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,ie.tV)(p);return V?JSON.parse(V):(Ye("Failed to decode base64 JWT payload"),null)}catch(V){return Ye("Caught error parsing JWT payload as JSON",V?.toString()),null}}function Jn(E,h){return yi.apply(this,arguments)}function yi(){return(yi=(0,Y.Z)(function*(E,h,p=!1){if(p)return h;try{return yield h}catch(D){throw D instanceof ie.ZR&&function li({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(D)&&E.auth.currentUser===E&&(yield E.auth.signOut()),D}})).apply(this,arguments)}class bi{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const V=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const D=this.getInterval(h);this.timerId=setTimeout((0,Y.Z)(function*(){yield p.iteration()}),D)}iteration(){var h=this;return(0,Y.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class Vr{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=_i(this.lastLoginAt),this.creationTime=_i(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function or(E){return cn.apply(this,arguments)}function cn(){return cn=(0,Y.Z)(function*(E){var h;const p=E.auth,D=yield E.getIdToken(),V=yield Jn(E,function An(E,h){return pr.apply(this,arguments)}(p,{idToken:D}));ct(V?.users.length,p,"internal-error");const Z=V.users[0];E._notifyReloadListener(Z);const Te=null!==(h=Z.providerUserInfo)&&void 0!==h&&h.length?function G(E){return E.map(h=>{var{providerId:p}=h,D=(0,ge._T)(h,["providerId"]);return{providerId:p,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}(Z.providerUserInfo):[],Ke=function pe(E,h){return[...E.filter(D=>!h.some(V=>V.providerId===D.providerId)),...h]}(E.providerData,Te),sn=!!E.isAnonymous&&!(E.email&&Z.passwordHash||Ke?.length),Yn={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:Ke,metadata:new Vr(Z.createdAt,Z.lastLoginAt),isAnonymous:sn};Object.assign(E,Yn)}),cn.apply(this,arguments)}function zi(){return(zi=(0,Y.Z)(function*(E){const h=(0,ie.m9)(E);yield or(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function W(){return(W=(0,Y.Z)(function*(E,h){const p=yield dn(E,{},(0,Y.Z)(function*(){const D=(0,ie.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:V,apiKey:Z}=E.config,Te=kn(E,V,"/v1/token",`key=${Z}`),Ke=yield E._getAdditionalHeaders();return Ke["Content-Type"]="application/x-www-form-urlencoded",Be.fetch()(Te,{method:"POST",headers:Ke,body:D})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function Re(){return(Re=(0,Y.Z)(function*(E,h){return et(E,"POST","/v2/accounts:revokeToken",be(E,h))})).apply(this,arguments)}class tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ct(h.idToken,"internal-error"),ct(typeof h.idToken<"u","internal-error"),ct(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function ci(E){const h=Br(E);return ct(h,"internal-error"),ct(typeof h.exp<"u","internal-error"),ct(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var D=this;return(0,Y.Z)(function*(){return ct(!D.accessToken||D.refreshToken,h,"user-token-expired"),p||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(h,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var D=this;return(0,Y.Z)(function*(){const{accessToken:V,refreshToken:Z,expiresIn:Te}=yield function Q(E,h){return W.apply(this,arguments)}(h,p);D.updateTokensAndExpiration(V,Z,Number(Te))})()}updateTokensAndExpiration(h,p,D){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(h,p){const{refreshToken:D,accessToken:V,expirationTime:Z}=p,Te=new tt;return D&&(ct("string"==typeof D,"internal-error",{appName:h}),Te.refreshToken=D),V&&(ct("string"==typeof V,"internal-error",{appName:h}),Te.accessToken=V),Z&&(ct("number"==typeof Z,"internal-error",{appName:h}),Te.expirationTime=Z),Te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new tt,this.toJSON())}_performRefresh(){return En("not implemented")}}function pt(E,h){ct("string"==typeof E||typeof E>"u","internal-error",{appName:h})}class xt{constructor(h){var{uid:p,auth:D,stsTokenManager:V}=h,Z=(0,ge._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=D,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new Vr(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,Y.Z)(function*(){const D=yield Jn(p,p.stsTokenManager.getToken(p.auth,h));return ct(D,p.auth,"internal-error"),p.accessToken!==D&&(p.accessToken=D,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),D})()}getIdTokenResult(h){return function Hi(E){return an.apply(this,arguments)}(this,h)}reload(){return function vi(E){return zi.apply(this,arguments)}(this)}_assign(h){this!==h&&(ct(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new xt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var D=this;return(0,Y.Z)(function*(){let V=!1;h.idToken&&h.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(h),V=!0),p&&(yield or(D)),yield D.auth._persistUserIfCurrent(D),V&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var h=this;return(0,Y.Z)(function*(){const p=yield h.getIdToken();return yield Jn(h,function on(E,h){return Qn.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var D,V,Z,Te,Ke,nt,Ht,sn;const Yn=null!==(D=p.displayName)&&void 0!==D?D:void 0,ki=null!==(V=p.email)&&void 0!==V?V:void 0,aa=null!==(Z=p.phoneNumber)&&void 0!==Z?Z:void 0,Dc=null!==(Te=p.photoURL)&&void 0!==Te?Te:void 0,$u=null!==(Ke=p.tenantId)&&void 0!==Ke?Ke:void 0,Ac=null!==(nt=p._redirectEventId)&&void 0!==nt?nt:void 0,ju=null!==(Ht=p.createdAt)&&void 0!==Ht?Ht:void 0,Cc=null!==(sn=p.lastLoginAt)&&void 0!==sn?sn:void 0,{uid:Sc,emailVerified:Qh,isAnonymous:Hu,providerData:su,stsTokenManager:Sd}=p;ct(Sc&&Sd,h,"internal-error");const ka=tt.fromJSON(this.name,Sd);ct("string"==typeof Sc,h,"internal-error"),pt(Yn,h.name),pt(ki,h.name),ct("boolean"==typeof Qh,h,"internal-error"),ct("boolean"==typeof Hu,h,"internal-error"),pt(aa,h.name),pt(Dc,h.name),pt($u,h.name),pt(Ac,h.name),pt(ju,h.name),pt(Cc,h.name);const zu=new xt({uid:Sc,auth:h,email:ki,emailVerified:Qh,displayName:Yn,isAnonymous:Hu,photoURL:Dc,phoneNumber:aa,tenantId:$u,stsTokenManager:ka,createdAt:ju,lastLoginAt:Cc});return su&&Array.isArray(su)&&(zu.providerData=su.map(bd=>Object.assign({},bd))),Ac&&(zu._redirectEventId=Ac),zu}static _fromIdTokenResponse(h,p,D=!1){return(0,Y.Z)(function*(){const V=new tt;V.updateFromServerResponse(p);const Z=new xt({uid:p.localId,auth:h,stsTokenManager:V,isAnonymous:D});return yield or(Z),Z})()}}const en=new Map;function St(E){Nn(E instanceof Function,"Expected a class definition");let h=en.get(E);return h?(Nn(h instanceof E,"Instance stored in cache mismatched with class"),h):(h=new E,en.set(E,h),h)}const $n=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,Y.Z)(function*(){return!0})()}_set(p,D){var V=this;return(0,Y.Z)(function*(){V.storage[p]=D})()}_get(p){var D=this;return(0,Y.Z)(function*(){const V=D.storage[p];return void 0===V?null:V})()}_remove(p){var D=this;return(0,Y.Z)(function*(){delete D.storage[p]})()}_addListener(p,D){}_removeListener(p,D){}}return E.type="NONE",E})();function Zr(E,h,p){return`firebase:${E}:${h}:${p}`}class Li{constructor(h,p,D){this.persistence=h,this.auth=p,this.userKey=D;const{config:V,name:Z}=this.auth;this.fullUserKey=Zr(this.userKey,V.apiKey,Z),this.fullPersistenceKey=Zr("persistence",V.apiKey,Z),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,Y.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?xt._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,Y.Z)(function*(){if(p.persistence===h)return;const D=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,D?p.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,D="authUser"){return(0,Y.Z)(function*(){if(!p.length)return new Li(St($n),h,D);const V=(yield Promise.all(p.map(function(){var Ht=(0,Y.Z)(function*(sn){if(yield sn._isAvailable())return sn});return function(sn){return Ht.apply(this,arguments)}}()))).filter(Ht=>Ht);let Z=V[0]||St($n);const Te=Zr(D,h.config.apiKey,h.name);let Ke=null;for(const Ht of p)try{const sn=yield Ht._get(Te);if(sn){const Yn=xt._fromJSON(h,sn);Ht!==Z&&(Ke=Yn),Z=Ht;break}}catch{}const nt=V.filter(Ht=>Ht._shouldAllowMigration);return Z._shouldAllowMigration&&nt.length?(Z=nt[0],Ke&&(yield Z._set(Te,Ke.toJSON())),yield Promise.all(p.map(function(){var Ht=(0,Y.Z)(function*(sn){if(sn!==Z)try{yield sn._remove(Te)}catch{}});return function(sn){return Ht.apply(this,arguments)}}())),new Li(Z,h,D)):new Li(Z,h,D)})()}}function Pr(E){const h=E.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Ut(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(We(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(bt(h))return"Blackberry";if(Cn(h))return"Webos";if(Ne(h))return"Safari";if((h.includes("chrome/")||st(h))&&!h.includes("edge/"))return"Chrome";if(tn(h))return"Android";{const D=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function We(E=(0,ie.z$)()){return/firefox\//i.test(E)}function Ne(E=(0,ie.z$)()){const h=E.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function st(E=(0,ie.z$)()){return/crios\//i.test(E)}function Ut(E=(0,ie.z$)()){return/iemobile/i.test(E)}function tn(E=(0,ie.z$)()){return/android/i.test(E)}function bt(E=(0,ie.z$)()){return/blackberry/i.test(E)}function Cn(E=(0,ie.z$)()){return/webos/i.test(E)}function gr(E=(0,ie.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function Mr(E=(0,ie.z$)()){return gr(E)||tn(E)||Cn(E)||bt(E)||/windows phone/i.test(E)||Ut(E)}function ms(E,h=[]){let p;switch(E){case"Browser":p=Pr((0,ie.z$)());break;case"Worker":p=`${Pr((0,ie.z$)())}-${E}`;break;default:p=E}const D=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${Ae.Jn}/${D}`}class lo{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const D=Z=>new Promise((Te,Ke)=>{try{Te(h(Z))}catch(nt){Ke(nt)}});D.onAbort=p,this.queue.push(D);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,Y.Z)(function*(){if(p.auth.currentUser===h)return;const D=[];try{for(const V of p.queue)yield V(h),V.onAbort&&D.push(V.onAbort)}catch(V){D.reverse();for(const Z of D)try{Z()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:V?.message})}})()}}function ro(){return(ro=(0,Y.Z)(function*(E,h={}){return et(E,"GET","/v2/passwordPolicy",be(E,h))})).apply(this,arguments)}class Ri{constructor(h){var p,D,V,Z;const Te=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=Te.minPasswordLength)&&void 0!==p?p:6,Te.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Te.maxPasswordLength),void 0!==Te.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Te.containsLowercaseCharacter),void 0!==Te.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Te.containsUppercaseCharacter),void 0!==Te.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Te.containsNumericCharacter),void 0!==Te.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Te.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(V=null===(D=h.allowedNonAlphanumericCharacters)||void 0===D?void 0:D.join(""))&&void 0!==V?V:"",this.forceUpgradeOnSignin=null!==(Z=h.forceUpgradeOnSignin)&&void 0!==Z&&Z,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,D,V,Z,Te,Ke;const nt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,nt),this.validatePasswordCharacterOptions(h,nt),nt.isValid&&(nt.isValid=null===(p=nt.meetsMinPasswordLength)||void 0===p||p),nt.isValid&&(nt.isValid=null===(D=nt.meetsMaxPasswordLength)||void 0===D||D),nt.isValid&&(nt.isValid=null===(V=nt.containsLowercaseLetter)||void 0===V||V),nt.isValid&&(nt.isValid=null===(Z=nt.containsUppercaseLetter)||void 0===Z||Z),nt.isValid&&(nt.isValid=null===(Te=nt.containsNumericCharacter)||void 0===Te||Te),nt.isValid&&(nt.isValid=null===(Ke=nt.containsNonAlphanumericCharacter)||void 0===Ke||Ke),nt}validatePasswordLengthOptions(h,p){const D=this.customStrengthOptions.minPasswordLength,V=this.customStrengthOptions.maxPasswordLength;D&&(p.meetsMinPasswordLength=h.length>=D),V&&(p.meetsMaxPasswordLength=h.length<=V)}validatePasswordCharacterOptions(h,p){let D;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let V=0;V<h.length;V++)D=h.charAt(V),this.updatePasswordCharacterOptionsStatuses(p,D>="a"&&D<="z",D>="A"&&D<="Z",D>="0"&&D<="9",this.allowedNonAlphanumericCharacters.includes(D))}updatePasswordCharacterOptionsStatuses(h,p,D,V,Z){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=D)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=V)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=Z))}}class Vs{constructor(h,p,D,V){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=D,this.config=V,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cs(this),this.idTokenSubscription=new Cs(this),this.beforeStateQueue=new lo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=V.sdkClientVersion}_initializeWithPersistence(h,p){var D=this;return p&&(this._popupRedirectResolver=St(p)),this._initializationPromise=this.queue((0,Y.Z)(function*(){var V,Z;if(!D._deleted&&(D.persistenceManager=yield Li.create(D,h),!D._deleted)){if(null!==(V=D._popupRedirectResolver)&&void 0!==V&&V._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(p),D.lastNotifiedUid=(null===(Z=D.currentUser)||void 0===Z?void 0:Z.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,Y.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,Y.Z)(function*(){var D;const V=yield p.assertedPersistence.getCurrentUser();let Z=V,Te=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Ke=null===(D=p.redirectUser)||void 0===D?void 0:D._redirectEventId,nt=Z?._redirectEventId,Ht=yield p.tryRedirectSignIn(h);(!Ke||Ke===nt)&&Ht?.user&&(Z=Ht.user,Te=!0)}if(!Z)return p.directlySetCurrentUser(null);if(!Z._redirectEventId){if(Te)try{yield p.beforeStateQueue.runMiddleware(Z)}catch(Ke){Z=V,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Ke))}return Z?p.reloadAndSetCurrentUserOrClear(Z):p.directlySetCurrentUser(null)}return ct(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===Z._redirectEventId?p.directlySetCurrentUser(Z):p.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(h){var p=this;return(0,Y.Z)(function*(){let D=null;try{D=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,Y.Z)(function*(){try{yield or(h)}catch(D){if("auth/network-request-failed"!==D?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Ve(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var h=this;return(0,Y.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,Y.Z)(function*(){const D=h?(0,ie.m9)(h):null;return D&&ct(D.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(D&&D._clone(p))})()}_updateCurrentUser(h,p=!1){var D=this;return(0,Y.Z)(function*(){if(!D._deleted)return h&&ct(D.tenantId===h.tenantId,D,"tenant-id-mismatch"),p||(yield D.beforeStateQueue.runMiddleware(h)),D.queue((0,Y.Z)(function*(){yield D.directlySetCurrentUser(h),D.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,Y.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,Y.Z)(function*(){yield p.assertedPersistence.setPersistence(St(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,Y.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const D=p._getPasswordPolicyInternal();return D.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):D.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,Y.Z)(function*(){const p=yield function Fs(E){return ro.apply(this,arguments)}(h),D=new Ri(p);null===h.tenantId?h._projectPasswordPolicy=D:h._tenantPasswordPolicies[h.tenantId]=D})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new ie.LL("auth","Firebase",h())}onAuthStateChanged(h,p,D){return this.registerStateListener(this.authStateSubscription,h,p,D)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,D){return this.registerStateListener(this.idTokenSubscription,h,p,D)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const D=this.onAuthStateChanged(()=>{D(),h()},p)}})}revokeAccessToken(h){var p=this;return(0,Y.Z)(function*(){if(p.currentUser){const D=yield p.currentUser.getIdToken(),V={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:D};null!=p.tenantId&&(V.tenantId=p.tenantId),yield function q(E,h){return Re.apply(this,arguments)}(p,V)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var D=this;return(0,Y.Z)(function*(){const V=yield D.getOrInitRedirectPersistenceManager(p);return null===h?V.removeCurrentUser():V.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,Y.Z)(function*(){if(!p.redirectPersistenceManager){const D=h&&St(h)||p._popupRedirectResolver;ct(D,p,"argument-error"),p.redirectPersistenceManager=yield Li.create(p,[St(D._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,Y.Z)(function*(){var D,V;return p._isInitialized&&(yield p.queue((0,Y.Z)(function*(){}))),(null===(D=p._currentUser)||void 0===D?void 0:D._redirectEventId)===h?p._currentUser:(null===(V=p.redirectUser)||void 0===V?void 0:V._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,Y.Z)(function*(){if(h===p.currentUser)return p.queue((0,Y.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,D,V){if(this._deleted)return()=>{};const Z="function"==typeof p?p:p.next.bind(p);let Te=!1;const Ke=this._isInitialized?Promise.resolve():this._initializationPromise;if(ct(Ke,this,"internal-error"),Ke.then(()=>{Te||Z(this.currentUser)}),"function"==typeof p){const nt=h.addObserver(p,D,V);return()=>{Te=!0,nt()}}{const nt=h.addObserver(p);return()=>{Te=!0,nt()}}}directlySetCurrentUser(h){var p=this;return(0,Y.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=ms(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,Y.Z)(function*(){var p;const D={"X-Client-Version":h.clientVersion};h.app.options.appId&&(D["X-Firebase-gmpid"]=h.app.options.appId);const V=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();V&&(D["X-Firebase-Client"]=V);const Z=yield h._getAppCheckToken();return Z&&(D["X-Firebase-AppCheck"]=Z),D})()}_getAppCheckToken(){var h=this;return(0,Y.Z)(function*(){var p;const D=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return D?.error&&function Ce(E,...h){qe.logLevel<=ye.in.WARN&&qe.warn(`Auth (${Ae.Jn}): ${E}`,...h)}(`Error while retrieving App Check token: ${D.error}`),D?.token})()}}function On(E){return(0,ie.m9)(E)}class Cs{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,ie.ne)(p=>this.observer=p)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bs(E){return new Promise((h,p)=>{const D=document.createElement("script");D.setAttribute("src",E),D.onload=h,D.onerror=V=>{const Z=lt("internal-error");Z.customData=V,p(Z)},D.type="text/javascript",D.charset="UTF-8",function Ss(){var E,h;return null!==(h=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==h?h:document}().appendChild(D)})}function qn(E){return`__${E}${Math.floor(1e6*Math.random())}`}class mo{constructor(h){this.type="recaptcha-enterprise",this.auth=On(h)}verify(h="verify",p=!1){var D=this;return(0,Y.Z)(function*(){function Z(){return Z=(0,Y.Z)(function*(Ke){if(!p){if(null==Ke.tenantId&&null!=Ke._agentRecaptchaConfig)return Ke._agentRecaptchaConfig.siteKey;if(null!=Ke.tenantId&&void 0!==Ke._tenantRecaptchaConfigs[Ke.tenantId])return Ke._tenantRecaptchaConfigs[Ke.tenantId].siteKey}return new Promise(function(){var nt=(0,Y.Z)(function*(Ht,sn){Zt(Ke,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Yn=>{if(void 0!==Yn.recaptchaKey){const ki=new ji(Yn);return null==Ke.tenantId?Ke._agentRecaptchaConfig=ki:Ke._tenantRecaptchaConfigs[Ke.tenantId]=ki,Ht(ki.siteKey)}sn(new Error("recaptcha Enterprise site key undefined"))}).catch(Yn=>{sn(Yn)})});return function(Ht,sn){return nt.apply(this,arguments)}}())}),Z.apply(this,arguments)}function Te(Ke,nt,Ht){const sn=window.grecaptcha;Kr(sn)?sn.enterprise.ready(()=>{sn.enterprise.execute(Ke,{action:h}).then(Yn=>{nt(Yn)}).catch(()=>{nt("NO_RECAPTCHA")})}):Ht(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ke,nt)=>{(function V(Ke){return Z.apply(this,arguments)})(D.auth).then(Ht=>{if(!p&&Kr(window.grecaptcha))Te(Ht,Ke,nt);else{if(typeof window>"u")return void nt(new Error("RecaptchaVerifier is only supported in browser"));bs("https://www.google.com/recaptcha/enterprise.js?render="+Ht).then(()=>{Te(Ht,Ke,nt)}).catch(sn=>{nt(sn)})}}).catch(Ht=>{nt(Ht)})})})()}}function _o(E,h,p){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,Y.Z)(function*(E,h,p,D=!1){const V=new mo(E);let Z;try{Z=yield V.verify(p)}catch{Z=yield V.verify(p,!0)}const Te=Object.assign({},h);return Object.assign(Te,D?{captchaResp:Z}:{captchaResponse:Z}),Object.assign(Te,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Te,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Te})).apply(this,arguments)}function Bs(E,h,p,D){return ta.apply(this,arguments)}function ta(){return ta=(0,Y.Z)(function*(E,h,p,D){var V;if(null!==(V=E._getRecaptchaConfig())&&void 0!==V&&V.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Z=yield _o(E,h,p,"getOobCode"===p);return D(E,Z)}return D(E,h).catch(function(){var Z=(0,Y.Z)(function*(Te){if("auth/missing-recaptcha-token"===Te.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ke=yield _o(E,h,p,"getOobCode"===p);return D(E,Ke)}return Promise.reject(Te)});return function(Te){return Z.apply(this,arguments)}}())}),ta.apply(this,arguments)}function yo(E){const h=E.indexOf(":");return h<0?"":E.substr(0,h+1)}function _s(E){if(!E)return null;const h=Number(E);return isNaN(h)?null:h}class ys{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return En("not implemented")}_getIdTokenResponse(h){return En("not implemented")}_linkToIdToken(h,p){return En("not implemented")}_getReauthenticationResolver(h){return En("not implemented")}}function vs(E,h){return hi.apply(this,arguments)}function hi(){return(hi=(0,Y.Z)(function*(E,h){return et(E,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function Xi(E,h){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,Y.Z)(function*(E,h){return In(E,"POST","/v1/accounts:signInWithPassword",be(E,h))})).apply(this,arguments)}function Xn(){return(Xn=(0,Y.Z)(function*(E,h){return et(E,"POST","/v1/accounts:sendOobCode",be(E,h))})).apply(this,arguments)}function Mt(){return(Mt=(0,Y.Z)(function*(E,h){return function Es(E,h){return Xn.apply(this,arguments)}(E,h)})).apply(this,arguments)}function so(){return(so=(0,Y.Z)(function*(E,h){return In(E,"POST","/v1/accounts:signInWithEmailLink",be(E,h))})).apply(this,arguments)}function Wi(){return(Wi=(0,Y.Z)(function*(E,h){return In(E,"POST","/v1/accounts:signInWithEmailLink",be(E,h))})).apply(this,arguments)}class Fi extends ys{constructor(h,p,D,V=null){super("password",D),this._email=h,this._password=p,this._tenantId=V}static _fromEmailAndPassword(h,p){return new Fi(h,p,"password")}static _fromEmailAndCode(h,p,D=null){return new Fi(h,p,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,Y.Z)(function*(){switch(p.signInMethod){case"password":return Bs(h,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Xi);case"emailLink":return function es(E,h){return so.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:ut(h,"internal-error")}})()}_linkToIdToken(h,p){var D=this;return(0,Y.Z)(function*(){switch(D.signInMethod){case"password":return Bs(h,{idToken:p,returnSecureToken:!0,email:D._email,password:D._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vs);case"emailLink":return function ln(E,h){return Wi.apply(this,arguments)}(h,{idToken:p,email:D._email,oobCode:D._password});default:ut(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Tr(E,h){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,Y.Z)(function*(E,h){return In(E,"POST","/v1/accounts:signInWithIdp",be(E,h))})).apply(this,arguments)}class Ts{constructor(h){var p,D,V,Z,Te,Ke;const nt=(0,ie.zd)((0,ie.pd)(h)),Ht=null!==(p=nt.apiKey)&&void 0!==p?p:null,sn=null!==(D=nt.oobCode)&&void 0!==D?D:null,Yn=function mr(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=nt.mode)&&void 0!==V?V:null);ct(Ht&&sn&&Yn,"argument-error"),this.apiKey=Ht,this.operation=Yn,this.code=sn,this.continueUrl=null!==(Z=nt.continueUrl)&&void 0!==Z?Z:null,this.languageCode=null!==(Te=nt.languageCode)&&void 0!==Te?Te:null,this.tenantId=null!==(Ke=nt.tenantId)&&void 0!==Ke?Ke:null}static parseLink(h){const p=function Ni(E){const h=(0,ie.zd)((0,ie.pd)(E)).link,p=h?(0,ie.zd)((0,ie.pd)(h)).deep_link_id:null,D=(0,ie.zd)((0,ie.pd)(E)).deep_link_id;return(D?(0,ie.zd)((0,ie.pd)(D)).link:null)||D||p||h||E}(h);try{return new Ts(p)}catch{return null}}}let Os=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(p,D){return Fi._fromEmailAndPassword(p,D)}static credentialWithLink(p,D){const V=Ts.parseLink(D);return ct(V,"argument-error"),Fi._fromEmailAndCode(p,V.code,V.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class _r{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Bo extends _r{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function wa(E,h){return $o.apply(this,arguments)}function $o(){return($o=(0,Y.Z)(function*(E,h){return In(E,"POST","/v1/accounts:signUp",be(E,h))})).apply(this,arguments)}class qi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,D,V=!1){return(0,Y.Z)(function*(){const Z=yield xt._fromIdTokenResponse(h,D,V),Te=F(D);return new qi({user:Z,providerId:Te,_tokenResponse:D,operationType:p})})()}static _forOperation(h,p,D){return(0,Y.Z)(function*(){yield h._updateTokensIfNecessary(D,!0);const V=F(D);return new qi({user:h,providerId:V,_tokenResponse:D,operationType:p})})()}}function F(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}class ue extends ie.ZR{constructor(h,p,D,V){var Z;super(p.code,p.message),this.operationType=D,this.user=V,Object.setPrototypeOf(this,ue.prototype),this.customData={appName:h.name,tenantId:null!==(Z=h.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:p.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(h,p,D,V){return new ue(h,p,D,V)}}function Me(E,h,p,D){return("reauthenticate"===h?p._getReauthenticationResolver(E):p._getIdTokenResponse(E)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?ue._fromErrorAndOperation(E,Z,h,D):Z})}function wn(){return(wn=(0,Y.Z)(function*(E,h,p=!1){const D=yield Jn(E,h._linkToIdToken(E.auth,yield E.getIdToken()),p);return qi._forOperation(E,"link",D)})).apply(this,arguments)}function Nr(){return(Nr=(0,Y.Z)(function*(E,h,p=!1){const{auth:D}=E,V="reauthenticate";try{const Z=yield Jn(E,Me(D,V,h,E),p);ct(Z.idToken,D,"internal-error");const Te=Br(Z.idToken);ct(Te,D,"internal-error");const{sub:Ke}=Te;return ct(E.uid===Ke,D,"user-mismatch"),qi._forOperation(E,V,Z)}catch(Z){throw"auth/user-not-found"===Z?.code&&ut(D,"user-mismatch"),Z}})).apply(this,arguments)}function Ti(E,h){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,Y.Z)(function*(E,h,p=!1){const D="signIn",V=yield Me(E,D,h),Z=yield qi._fromIdTokenResponse(E,D,V);return p||(yield E._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function Xr(){return(Xr=(0,Y.Z)(function*(E,h){return Ti(On(E),h)})).apply(this,arguments)}function _e(E){return xe.apply(this,arguments)}function xe(){return(xe=(0,Y.Z)(function*(E){const h=On(E);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function ts(E,h,p){return ti.apply(this,arguments)}function ti(){return(ti=(0,Y.Z)(function*(E,h,p){const D=On(E),Te=yield Bs(D,{returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wa).catch(nt=>{throw"auth/password-does-not-meet-requirements"===nt.code&&_e(E),nt}),Ke=yield qi._fromIdTokenResponse(D,"signIn",Te);return yield D._updateCurrentUser(Ke.user),Ke})).apply(this,arguments)}function qs(E,h,p){return function Sr(E,h){return Xr.apply(this,arguments)}((0,ie.m9)(E),Os.credential(h,p)).catch(function(){var D=(0,Y.Z)(function*(V){throw"auth/password-does-not-meet-requirements"===V.code&&_e(E),V});return function(V){return D.apply(this,arguments)}}())}function M(E,h){return N.apply(this,arguments)}function N(){return N=(0,Y.Z)(function*(E,h){const p=(0,ie.m9)(E),V={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};h&&function me(E,h,p){var D;ct((null===(D=p.url)||void 0===D?void 0:D.length)>0,E,"invalid-continue-uri"),ct(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ct(p.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(ct(p.android.packageName.length>0,E,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}(p.auth,V,h);const{email:Z}=yield function Rt(E,h){return Mt.apply(this,arguments)}(p.auth,V);Z!==E.email&&(yield E.reload())}),N.apply(this,arguments)}function Zi(E){return(0,ie.m9)(E).signOut()}const ni="__sak";class Kt{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ni,"1"),this.storage.removeItem(ni),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ot=(()=>{class E extends Kt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,D)=>this.onStorageEvent(p,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Po(){const E=(0,ie.z$)();return Ne(E)||gr(E)}()&&function no(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Mr(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const D of Object.keys(this.listeners)){const V=this.storage.getItem(D),Z=this.localCache[D];V!==Z&&p(D,Z,V)}}onStorageEvent(p,D=!1){if(!p.key)return void this.forAllChangedKeys((Ke,nt,Ht)=>{this.notifyListeners(Ke,Ht)});const V=p.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ke=this.storage.getItem(V);if(p.newValue!==Ke)null!==p.newValue?this.storage.setItem(V,p.newValue):this.storage.removeItem(V);else if(this.localCache[V]===p.newValue&&!D)return}const Z=()=>{const Ke=this.storage.getItem(V);!D&&this.localCache[V]===Ke||this.notifyListeners(V,Ke)},Te=this.storage.getItem(V);!function di(){return(0,ie.w1)()&&10===document.documentMode}()||Te===p.newValue||p.newValue===p.oldValue?Z():setTimeout(Z,10)}notifyListeners(p,D){this.localCache[p]=D;const V=this.listeners[p];if(V)for(const Z of Array.from(V))Z(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,D,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:D,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,D){var V=()=>super._set,Z=this;return(0,Y.Z)(function*(){yield V().call(Z,p,D),Z.localCache[p]=JSON.stringify(D)})()}_get(p){var D=()=>super._get,V=this;return(0,Y.Z)(function*(){const Z=yield D().call(V,p);return V.localCache[p]=JSON.stringify(Z),Z})()}_remove(p){var D=()=>super._remove,V=this;return(0,Y.Z)(function*(){yield D().call(V,p),delete V.localCache[p]})()}}return E.type="LOCAL",E})(),ot=(()=>{class E extends Kt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,D){}_removeListener(p,D){}}return E.type="SESSION",E})();let el=(()=>{class E{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const D=this.receivers.find(Z=>Z.isListeningto(p));if(D)return D;const V=new E(p);return this.receivers.push(V),V}isListeningto(p){return this.eventTarget===p}handleEvent(p){var D=this;return(0,Y.Z)(function*(){const V=p,{eventId:Z,eventType:Te,data:Ke}=V.data,nt=D.handlersMap[Te];if(!nt?.size)return;V.ports[0].postMessage({status:"ack",eventId:Z,eventType:Te});const Ht=Array.from(nt).map(function(){var Yn=(0,Y.Z)(function*(ki){return ki(V.origin,Ke)});return function(ki){return Yn.apply(this,arguments)}}()),sn=yield function Gn(E){return Promise.all(E.map(function(){var h=(0,Y.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(D){return{fulfilled:!1,reason:D}}});return function(p){return h.apply(this,arguments)}}()))}(Ht);V.ports[0].postMessage({status:"done",eventId:Z,eventType:Te,response:sn})})()}_subscribe(p,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(D)}_unsubscribe(p,D){this.handlersMap[p]&&D&&this.handlersMap[p].delete(D),(!D||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Mo(E="",h=10){let p="";for(let D=0;D<h;D++)p+=Math.floor(10*Math.random());return E+p}class us{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,D=50){var V=this;return(0,Y.Z)(function*(){const Z=typeof MessageChannel<"u"?new MessageChannel:null;if(!Z)throw new Error("connection_unavailable");let Te,Ke;return new Promise((nt,Ht)=>{const sn=Mo("",20);Z.port1.start();const Yn=setTimeout(()=>{Ht(new Error("unsupported_event"))},D);Ke={messageChannel:Z,onMessage(ki){const aa=ki;if(aa.data.eventId===sn)switch(aa.data.status){case"ack":clearTimeout(Yn),Te=setTimeout(()=>{Ht(new Error("timeout"))},3e3);break;case"done":clearTimeout(Te),nt(aa.data.response);break;default:clearTimeout(Yn),clearTimeout(Te),Ht(new Error("invalid_response"))}}},V.handlers.add(Ke),Z.port1.addEventListener("message",Ke.onMessage),V.target.postMessage({eventType:h,eventId:sn,data:p},[Z.port2])}).finally(()=>{Ke&&V.removeMessageHandler(Ke)})})()}}function zr(){return window}function ao(){return typeof zr().WorkerGlobalScope<"u"&&"function"==typeof zr().importScripts}function ia(){return(ia=(0,Y.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const zo="firebaseLocalStorageDb",Oe="firebaseLocalStorage",qa="fbase_key";class Yi{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function I(E,h){return E.transaction([Oe],h?"readwrite":"readonly").objectStore(Oe)}function y(){const E=indexedDB.open(zo,1);return new Promise((h,p)=>{E.addEventListener("error",()=>{p(E.error)}),E.addEventListener("upgradeneeded",()=>{const D=E.result;try{D.createObjectStore(Oe,{keyPath:qa})}catch(V){p(V)}}),E.addEventListener("success",(0,Y.Z)(function*(){const D=E.result;D.objectStoreNames.contains(Oe)?h(D):(D.close(),yield function b(){const E=indexedDB.deleteDatabase(zo);return new Yi(E).toPromise()}(),h(yield y()))}))})}function S(E,h,p){return O.apply(this,arguments)}function O(){return(O=(0,Y.Z)(function*(E,h,p){const D=I(E,!0).put({[qa]:h,value:p});return new Yi(D).toPromise()})).apply(this,arguments)}function oe(){return(oe=(0,Y.Z)(function*(E,h){const p=I(E,!1).get(h),D=yield new Yi(p).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function ze(E,h){const p=I(E,!0).delete(h);return new Yi(p).toPromise()}const Er=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,Y.Z)(function*(){return p.db||(p.db=yield y()),p.db})()}_withRetries(p){var D=this;return(0,Y.Z)(function*(){let V=0;for(;;)try{const Z=yield D._openDb();return yield p(Z)}catch(Z){if(V++>3)throw Z;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,Y.Z)(function*(){return ao()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,Y.Z)(function*(){p.receiver=el._getInstance(function op(){return ao()?self:null}()),p.receiver._subscribe("keyChanged",function(){var D=(0,Y.Z)(function*(V,Z){return{keyProcessed:(yield p._poll()).includes(Z.key)}});return function(V,Z){return D.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var D=(0,Y.Z)(function*(V,Z){return["keyChanged"]});return function(V,Z){return D.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,Y.Z)(function*(){var D,V;if(p.activeServiceWorker=yield function ks(){return ia.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new us(p.activeServiceWorker);const Z=yield p.sender._send("ping",{},800);Z&&null!==(D=Z[0])&&void 0!==D&&D.fulfilled&&null!==(V=Z[0])&&void 0!==V&&V.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var D=this;return(0,Y.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function tl(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:p},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,Y.Z)(function*(){try{if(!indexedDB)return!1;const p=yield y();return yield S(p,ni,"1"),yield ze(p,ni),!0}catch{}return!1})()}_withPendingWrite(p){var D=this;return(0,Y.Z)(function*(){D.pendingWrites++;try{yield p()}finally{D.pendingWrites--}})()}_set(p,D){var V=this;return(0,Y.Z)(function*(){return V._withPendingWrite((0,Y.Z)(function*(){return yield V._withRetries(Z=>S(Z,p,D)),V.localCache[p]=D,V.notifyServiceWorker(p)}))})()}_get(p){var D=this;return(0,Y.Z)(function*(){const V=yield D._withRetries(Z=>function K(E,h){return oe.apply(this,arguments)}(Z,p));return D.localCache[p]=V,V})()}_remove(p){var D=this;return(0,Y.Z)(function*(){return D._withPendingWrite((0,Y.Z)(function*(){return yield D._withRetries(V=>ze(V,p)),delete D.localCache[p],D.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,Y.Z)(function*(){const D=yield p._withRetries(Te=>{const Ke=I(Te,!1).getAll();return new Yi(Ke).toPromise()});if(!D)return[];if(0!==p.pendingWrites)return[];const V=[],Z=new Set;for(const{fbase_key:Te,value:Ke}of D)Z.add(Te),JSON.stringify(p.localCache[Te])!==JSON.stringify(Ke)&&(p.notifyListeners(Te,Ke),V.push(Te));for(const Te of Object.keys(p.localCache))p.localCache[Te]&&!Z.has(Te)&&(p.notifyListeners(Te,null),V.push(Te));return V})()}notifyListeners(p,D){this.localCache[p]=D;const V=this.listeners[p];if(V)for(const Z of Array.from(V))Z(D)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,Y.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();qn("rcb"),new Ue(3e4,6e4);class il extends ys{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Tr(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Tr(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Tr(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function oi(E){return Ti(E.auth,new il(E),E.bypassAuthState)}function od(E){const{auth:h,user:p}=E;return ct(p,h,"internal-error"),function kr(E,h){return Nr.apply(this,arguments)}(p,new il(E),E.bypassAuthState)}function Js(E){return br.apply(this,arguments)}function br(){return(br=(0,Y.Z)(function*(E){const{auth:h,user:p}=E;return ct(p,h,"internal-error"),function $t(E,h){return wn.apply(this,arguments)}(p,new il(E),E.bypassAuthState)})).apply(this,arguments)}class Ru{constructor(h,p,D,V,Z=!1){this.auth=h,this.resolver=D,this.user=V,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,Y.Z)(function*(D,V){h.pendingPromise={resolve:D,reject:V};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(Z){h.reject(Z)}});return function(D,V){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,Y.Z)(function*(){const{urlResponse:D,sessionId:V,postBody:Z,tenantId:Te,error:Ke,type:nt}=h;if(Ke)return void p.reject(Ke);const Ht={auth:p.auth,requestUri:D,sessionId:V,tenantId:Te||void 0,postBody:Z||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(nt)(Ht))}catch(sn){p.reject(sn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return oi;case"linkViaPopup":case"linkViaRedirect":return Js;case"reauthViaPopup":case"reauthViaRedirect":return od;default:ut(this.auth,"internal-error")}}resolve(h){Nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Ue(2e3,1e4);const Ds="pendingRedirect",Ca=new Map;class Ya extends Ru{constructor(h,p,D=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,D),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,Y.Z)(function*(){let D=Ca.get(p.auth._key());if(!D){try{const Z=(yield function Ja(E,h){return sl.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;D=()=>Promise.resolve(Z)}catch(V){D=()=>Promise.reject(V)}Ca.set(p.auth._key(),D)}return p.bypassAuthState||Ca.set(p.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,D=this;return(0,Y.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(D,h);if("unknown"!==h.type){if(h.eventId){const V=yield D.auth._redirectUserForId(h.eventId);if(V)return D.user=V,p().call(D,h);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,Y.Z)(function*(){})()}cleanUp(){}}function sl(){return(sl=(0,Y.Z)(function*(E,h){const p=function Xa(E){return Zr(Ds,E.config.apiKey,E.name)}(h),D=function ko(E){return St(E._redirectPersistence)}(E);if(!(yield D._isAvailable()))return!1;const V="true"===(yield D._get(p));return yield D._remove(p),V})).apply(this,arguments)}function fa(E,h){Ca.set(E._key(),h)}function eu(E,h){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,Y.Z)(function*(E,h,p=!1){const D=On(E),V=function Ao(E,h){return h?St(h):(ct(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}(D,h),Te=yield new Ya(D,V,p).execute();return Te&&!p&&(delete Te.user._redirectEventId,yield D._persistUserIfCurrent(Te.user),yield D._setRedirectUser(null,h)),Te})).apply(this,arguments)}class tu{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(h,D)&&(p=!0,this.sendToConsumer(h,D),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function ai(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ra(E);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var D;if(h.error&&!Ra(h)){const V=(null===(D=h.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";p.onError(lt(this.auth,V))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const D=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&D}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xi(h))}saveEventToCache(h){this.cachedEventUids.add(xi(h)),this.lastProcessedEventTime=Date.now()}}function xi(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(h=>h).join("-")}function Ra({type:E,error:h}){return"unknown"===E&&"auth/no-auth-event"===h?.code}function ga(){return(ga=(0,Y.Z)(function*(E,h={}){return et(E,"GET","/v1/projects",h)})).apply(this,arguments)}const hp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pc=/^https?/;function cd(){return cd=(0,Y.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:h}=yield function oa(E){return ga.apply(this,arguments)}(E);for(const p of h)try{if(dr(p))return}catch{}ut(E,"unauthorized-domain")}),cd.apply(this,arguments)}function dr(E){const h=Et(),{protocol:p,hostname:D}=new URL(h);if(E.startsWith("chrome-extension://")){const Te=new URL(E);return""===Te.hostname&&""===D?"chrome-extension:"===p&&E.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Te.hostname===D}if(!pc.test(p))return!1;if(hp.test(E))return D===E;const V=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(D)}const Gr=new Ue(3e4,6e4);function Ou(){const E=zr().___jsl;if(E?.H)for(const h of Object.keys(E.H))if(E.H[h].r=E.H[h].r||[],E.H[h].L=E.H[h].L||[],E.H[h].r=[...E.H[h].L],E.CP)for(let p=0;p<E.CP.length;p++)E.CP[p]=null}let qo=null;const ld=new Ue(5e3,15e3),rs="__/auth/iframe",xh="emulator/auth/iframe",xu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lo(E){const h=E.config;ct(h.authDomain,E,"auth-domain-config-required");const p=h.emulator?fe(h,xh):`https://${E.config.authDomain}/${rs}`,D={apiKey:h.apiKey,appName:E.name,v:Ae.Jn},V=fp.get(E.config.apiHost);V&&(D.eid=V);const Z=E._getFrameworks();return Z.length&&(D.fw=Z.join(",")),`${p}?${(0,ie.xO)(D).slice(1)}`}function gc(){return gc=(0,Y.Z)(function*(E){const h=yield function Oh(E){return qo=qo||function Nh(E){return new Promise((h,p)=>{var D,V,Z;function Te(){Ou(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Ou(),p(lt(E,"network-request-failed"))},timeout:Gr.get()})}if(null!==(V=null===(D=zr().gapi)||void 0===D?void 0:D.iframes)&&void 0!==V&&V.Iframe)h(gapi.iframes.getContext());else{if(null===(Z=zr().gapi)||void 0===Z||!Z.load){const Ke=qn("iframefcb");return zr()[Ke]=()=>{gapi.load?Te():p(lt(E,"network-request-failed"))},bs(`https://apis.google.com/js/api.js?onload=${Ke}`).catch(nt=>p(nt))}Te()}}).catch(h=>{throw qo=null,h})}(E),qo}(E),p=zr().gapi;return ct(p,E,"internal-error"),h.open({where:document.body,url:Lo(E),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xu,dontclear:!0},D=>new Promise(function(){var V=(0,Y.Z)(function*(Z,Te){yield D.restyle({setHideOnLeave:!1});const Ke=lt(E,"network-request-failed"),nt=zr().setTimeout(()=>{Te(Ke)},ld.get());function Ht(){zr().clearTimeout(nt),Z(D)}D.ping(Ht).then(Ht,()=>{Te(Ke)})});return function(Z,Te){return V.apply(this,arguments)}}()))}),gc.apply(this,arguments)}const ll={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dd{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ma="__/auth/handler",hd="emulator/auth/handler",fd=encodeURIComponent("fac");function pd(E,h,p,D,V,Z){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,Y.Z)(function*(E,h,p,D,V,Z){ct(E.config.authDomain,E,"auth-domain-config-required"),ct(E.config.apiKey,E,"invalid-api-key");const Te={apiKey:E.config.apiKey,appName:E.name,authType:p,redirectUrl:D,v:Ae.Jn,eventId:V};if(h instanceof _r){h.setDefaultLanguage(E.languageCode),Te.providerId=h.providerId||"",(0,ie.xb)(h.getCustomParameters())||(Te.customParameters=JSON.stringify(h.getCustomParameters()));for(const[sn,Yn]of Object.entries(Z||{}))Te[sn]=Yn}if(h instanceof Bo){const sn=h.getScopes().filter(Yn=>""!==Yn);sn.length>0&&(Te.scopes=sn.join(","))}E.tenantId&&(Te.tid=E.tenantId);const Ke=Te;for(const sn of Object.keys(Ke))void 0===Ke[sn]&&delete Ke[sn];const nt=yield E._getAppCheckToken(),Ht=nt?`#${fd}=${encodeURIComponent(nt)}`:"";return`${function kh({config:E}){return E.emulator?fe(E,hd):`https://${E.authDomain}/${ma}`}(E)}?${(0,ie.xO)(Ke).slice(1)}${Ht}`})).apply(this,arguments)}const Pa="webStorageSupport",gd=class Lh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ot,this._completeRedirectFn=eu,this._overrideRedirectResult=fa}_openPopup(h,p,D,V){var Z=this;return(0,Y.Z)(function*(){var Te;Nn(null===(Te=Z.eventManagers[h._key()])||void 0===Te?void 0:Te.manager,"_initialize() not called before _openPopup()");const Ke=yield pd(h,p,D,Et(),V);return function ls(E,h,p,D=500,V=600){const Z=Math.max((window.screen.availHeight-V)/2,0).toString(),Te=Math.max((window.screen.availWidth-D)/2,0).toString();let Ke="";const nt=Object.assign(Object.assign({},ll),{width:D.toString(),height:V.toString(),top:Z,left:Te}),Ht=(0,ie.z$)().toLowerCase();p&&(Ke=st(Ht)?"_blank":p),We(Ht)&&(h=h||"http://localhost",nt.scrollbars="yes");const sn=Object.entries(nt).reduce((ki,[aa,Dc])=>`${ki}${aa}=${Dc},`,"");if(function As(E=(0,ie.z$)()){var h;return gr(E)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Ht)&&"_self"!==Ke)return function nu(E,h){const p=document.createElement("a");p.href=E,p.target=h;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(D)}(h||"",Ke),new dd(null);const Yn=window.open(h||"",Ke,sn);ct(Yn,E,"popup-blocked");try{Yn.focus()}catch{}return new dd(Yn)}(h,Ke,Mo())})()}_openRedirect(h,p,D,V){var Z=this;return(0,Y.Z)(function*(){return yield Z._originValidation(h),function Da(E){zr().location.href=E}(yield pd(h,p,D,Et(),V)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:V,promise:Z}=this.eventManagers[p];return V?Promise.resolve(V):(Nn(Z,"If manager is not set, promise should be"),Z)}const D=this.initAndGetManager(h);return this.eventManagers[p]={promise:D},D.catch(()=>{delete this.eventManagers[p]}),D}initAndGetManager(h){var p=this;return(0,Y.Z)(function*(){const D=yield function ku(E){return gc.apply(this,arguments)}(h),V=new tu(h);return D.register("authEvent",Z=>(ct(Z?.authEvent,h,"invalid-auth-event"),{status:V.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:V},p.iframes[h._key()]=D,V})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Pa,{type:Pa},V=>{var Z;const Te=null===(Z=V?.[0])||void 0===Z?void 0:Z[Pa];void 0!==Te&&p(!!Te),ut(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Am(E){return cd.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Mr()||Ne()||gr()}};var Ma="@firebase/auth";class yc{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,Y.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(D=>{h(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Vu=(0,ie.Pz)("authIdTokenMaxAge")||300;let hs=null;const Fh=E=>function(){var h=(0,Y.Z)(function*(p){const D=p&&(yield p.getIdTokenResult()),V=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(V&&V>Vu)return;const Z=D?.token;hs!==Z&&(hs=Z,yield fetch(E,{method:Z?"POST":"DELETE",headers:Z?{Authorization:`Bearer ${Z}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function dl(E=(0,Ae.Mq)()){const h=(0,Ae.qX)(E,"auth");if(h.isInitialized())return h.getImmediate();const p=function $s(E,h){const p=(0,Ae.qX)(E,"auth");if(p.isInitialized()){const V=p.getImmediate(),Z=p.getOptions();if((0,ie.vZ)(Z,h??{}))return V;ut(V,"already-initialized")}return p.initialize({options:h})}(E,{popupRedirectResolver:gd,persistence:[Er,Ot,ot]}),D=(0,ie.Pz)("authTokenSyncURL");if(D){const Z=Fh(D);(function Th(E,h,p){(0,ie.m9)(E).beforeAuthStateChanged(h,p)})(p,Z,()=>Z(p.currentUser)),function Ft(E,h,p,D){(0,ie.m9)(E).onIdTokenChanged(h,p,D)}(p,Te=>Z(Te))}const V=(0,ie.q4)("auth");return V&&function js(E,h,p){const D=On(E);ct(D._canInitEmulator,D,"emulator-config-failed"),ct(/^https?:\/\//.test(h),D,"invalid-emulator-scheme");const V=!!p?.disableWarnings,Z=yo(h),{host:Te,port:Ke}=function vo(E){const h=yo(E),p=/(\/\/)?([^?#/]+)/.exec(E.substr(h.length));if(!p)return{host:"",port:null};const D=p[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(D);if(V){const Z=V[1];return{host:Z,port:_s(D.substr(Z.length+1))}}{const[Z,Te]=D.split(":");return{host:Z,port:_s(Te)}}}(h);D.config.emulator={url:`${Z}//${Te}${null===Ke?"":`:${Ke}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:Te,port:Ke,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function Vo(){function E(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(p,`http://${V}`),p}!function _p(E){(0,Ae.Xd)(new ee.wA("auth",(h,{options:p})=>{const D=h.getProvider("app").getImmediate(),V=h.getProvider("heartbeat"),Z=h.getProvider("app-check-internal"),{apiKey:Te,authDomain:Ke}=D.options;ct(Te&&!Te.includes(":"),"invalid-api-key",{appName:D.name});const nt={apiKey:Te,authDomain:Ke,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ms(E)},Ht=new Vs(D,V,Z,nt);return function fo(E,h){const p=h?.persistence||[],D=(Array.isArray(p)?p:[p]).map(St);h?.errorMap&&E._updateErrorMap(h.errorMap),E._initializeWithPersistence(D,h?.popupRedirectResolver)}(Ht,p),Ht},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,D)=>{h.getProvider("auth-internal").initialize()})),(0,Ae.Xd)(new ee.wA("auth-internal",h=>{const p=On(h.getProvider("auth").getImmediate());return new yc(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ae.KN)(Ma,"1.4.0",function md(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,Ae.KN)(Ma,"1.4.0","esm2017")}("Browser");class Co{constructor(h){return h}}class Vh{constructor(){return(0,_.vb)("auth")}}const _d=new re.OlP("angularfire2.auth-instances");function xn(E){return(h,p)=>{const D=h.runOutsideAngular(()=>E(p));return new Co(D)}}const Uh={provide:Vh,deps:[[new re.FiY,_d]]},yd={provide:Co,useFactory:function yp(E,h){const p=(0,_.JM)("auth",E,h);return p&&new Co(p)},deps:[[new re.FiY,_d],he.Ot]};let vd=(()=>{class E{constructor(){(0,J.KN)("angularfire",_.q4.full,"auth")}static \u0275fac=function(D){return new(D||E)};static \u0275mod=re.oAB({type:E});static \u0275inj=re.cJS({providers:[yd,Uh]})}return E})();function vp(E,...h){return{ngModule:vd,providers:[{provide:_d,useFactory:xn(E),multi:!0,deps:[re.R0b,re.zs3,_.HU,he.z6,[new re.FiY,_.Rf],...h]}]}}const Uu=(0,_.u3)(ts,!0),Ep=(0,_.u3)(dl,!0),El=(0,_.u3)(M,!0),fs=(0,_.u3)(qs,!0),Il=(0,_.u3)(Zi,!0)},5349:(It,Fe,L)=>{L.d(Fe,{gg:()=>Xf,hJ:()=>py,BS:()=>hy,JU:()=>my,PL:()=>vE,ad:()=>EE,Cm:()=>dy,IO:()=>mm,pl:()=>bT,r7:()=>NE,ar:()=>Yl});var we,_=L(1920),re=L(5879),he=L(721),J=L(3435),Y=L(3182),ie=L(5861),Ae=L(534),ye=L(4537),ge=L(7879),ee=L(9058),ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ee={},Qe=Qe||{},Le=ce||self;function Ze(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function _t(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Jt="closure_uid_"+(1e9*Math.random()>>>0),Tt=0;function le(i,e,n){return i.call.apply(i.bind,arguments)}function qe(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Ce(i,e,n){return(Ce=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?le:qe).apply(null,arguments)}function Ye(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ut(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),A=2;A<arguments.length;A++)f[A-2]=arguments[A];return e.prototype[u].apply(o,f)}}function lt(){this.s=this.s,this.o=this.o}lt.prototype.s=!1,lt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ht(i){Object.prototype.hasOwnProperty.call(i,Jt)&&i[Jt]||(i[Jt]=++Tt)}(this)},lt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Kn(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function ct(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Ze(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function En(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}En.prototype.h=function(){this.defaultPrevented=!0};var Nn=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Le.addEventListener("test",()=>{},e),Le.removeEventListener("test",()=>{},e)}catch{}return i}();function Et(i){return/^[\s\xa0]*$/.test(i)}function nn(){var i=Le.navigator;return i&&(i=i.userAgent)?i:""}function qt(i){return-1!=nn().indexOf(i)}function Pe(i){return Pe[" "](i),i}Pe[" "]=function(){};var kt,i,Ue=qt("Opera"),fe=qt("Trident")||qt("MSIE"),Be=qt("Edge"),de=Be||fe,Se=qt("Gecko")&&!(-1!=nn().toLowerCase().indexOf("webkit")&&!qt("Edge"))&&!(qt("Trident")||qt("MSIE"))&&!qt("Edge"),be=-1!=nn().toLowerCase().indexOf("webkit")&&!qt("Edge");function et(){var i=Le.document;return i?i.documentMode:void 0}e:{var dn="",Vt=(i=nn(),Se?/rv:([^\);]+)(\)|;)/.exec(i):Be?/Edge\/([\d\.]+)/.exec(i):fe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):be?/WebKit\/(\S+)/.exec(i):Ue?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Vt&&(dn=Vt?Vt[1]:""),fe){var In=et();if(null!=In&&In>parseFloat(dn)){kt=String(In);break e}}kt=dn}var Ln=Le.document&&fe&&(et()||parseInt(kt,10))||void 0;function Fn(i,e){if(En.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Se){e:{try{Pe(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:sr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Fn.$.h.call(this)}}ut(Fn,En);var sr={2:"touch",3:"pen",4:"mouse"};Fn.prototype.h=function(){Fn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var qr="closure_listenable_"+(1e6*Math.random()|0),Kr=0;function ji(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++Kr,this.fa=this.ia=!1}function Fr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Ur(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function _n(i){const e={};for(const n in i)e[n]=i[n];return e}const on="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qn(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<on.length;l++)n=on[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Qr(i){this.src=i,this.g={},this.h=0}function Xt(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=fn(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(Fr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function An(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}Qr.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=An(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new ji(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var pr="closure_lm_"+(1e6*Math.random()|0),_i={};function Gt(i,e,n,o,u){if(o&&o.once)return Ji(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Gt(i,e[l],n,o,u);return null}return n=Vr(n),i&&i[qr]?i.O(e,n,_t(o)?!!o.capture:!!o,u):Hi(i,e,n,!1,o,u)}function Hi(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=_t(u)?!!u.capture:!!u,A=li(i);if(A||(i[pr]=A=new Qr(i)),(n=A.add(e,n,o,f,l)).proxy)return n;if(o=function an(){const e=yi;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)Nn||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Jn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Ji(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Ji(i,e[l],n,o,u);return null}return n=Vr(n),i&&i[qr]?i.P(e,n,_t(o)?!!o.capture:!!o,u):Hi(i,e,n,!0,o,u)}function Br(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)Br(i,e[l],n,o,u);else o=_t(o)?!!o.capture:!!o,n=Vr(n),i&&i[qr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=An(l=i.g[e],n,o,u))&&(Fr(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=li(i))&&(e=i.g[e.toString()],i=-1,e&&(i=An(e,n,o,u)),(n=-1<i?e[i]:null)&&ci(n))}function ci(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[qr])Xt(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Jn(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=li(e))?(Xt(n,i),0==n.h&&(n.src=null,e[pr]=null)):Fr(i)}}}function Jn(i){return i in _i?_i[i]:_i[i]="on"+i}function yi(i,e){if(i.fa)i=!0;else{e=new Fn(e,this);var n=i.listener,o=i.la||i.src;i.ia&&ci(i),i=n.call(o,e)}return i}function li(i){return(i=i[pr])instanceof Qr?i:null}var bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vr(i){return"function"==typeof i?i:(i[bi]||(i[bi]=function(e){return i.handleEvent(e)}),i[bi])}function or(){lt.call(this),this.i=new Qr(this),this.S=this,this.J=null}function cn(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new En(e,i);else if(e instanceof En)e.target=e.target||i;else{var u=e;Qn(e=new En(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=vi(f,o,!0,e)&&u}if(u=vi(f=e.g=i,o,!0,e)&&u,u=vi(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=vi(f=e.g=n[l],o,!1,e)&&u}function vi(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var A=f.listener,R=f.la||f.src;f.ia&&Xt(i.i,f),u=!1!==A.call(R,o)&&u}}return u&&!o.defaultPrevented}ut(or,lt),or.prototype[qr]=!0,or.prototype.removeEventListener=function(i,e,n,o){Br(this,i,e,n,o)},or.prototype.N=function(){if(or.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Fr(n[o]);delete i.g[e],i.h--}}this.J=null},or.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},or.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var zi=Le.JSON.stringify;function G(){var i=en;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var W=new class pe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new q,i=>i.reset());class q{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Re(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function tt(i){Le.setTimeout(()=>{throw i},0)}let pt,xt=!1,en=new class Q{constructor(){this.h=this.g=null}add(e,n){const o=W.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},St=()=>{const i=Le.Promise.resolve(void 0);pt=()=>{i.then(Qt)}};var Qt=()=>{for(var i;i=G();){try{i.h.call(i.g)}catch(n){tt(n)}var e=W;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}xt=!1};function $n(i,e){or.call(this),this.h=i||1,this.g=e||Le,this.j=Ce(this.qb,this),this.l=Date.now()}function Zr(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Li(i,e,n){if("function"==typeof i)n&&(i=Ce(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ce(i.handleEvent,i)}return 2147483647<Number(e)?-1:Le.setTimeout(i,e||0)}function Pr(i){i.g=Li(()=>{i.g=null,i.i&&(i.i=!1,Pr(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ut($n,or),(we=$n.prototype).ga=!1,we.T=null,we.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),cn(this,"tick"),this.ga&&(Zr(this),this.start()))}},we.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},we.N=function(){$n.$.N.call(this),Zr(this),delete this.g};class We extends lt{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Pr(this)}N(){super.N(),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ne(i){lt.call(this),this.h=i,this.g={}}ut(Ne,lt);var st=[];function Ut(i,e,n,o){Array.isArray(n)||(n&&(st[0]=n.toString()),n=st);for(var u=0;u<n.length;u++){var l=Gt(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function tn(i){Ur(i.g,function(e,n){this.g.hasOwnProperty(n)&&ci(e)},i),i.g={}}function bt(){this.g=!0}function ar(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function di(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return zi(n)}catch{return e}}(i,n)+(o?" "+o:"")})}Ne.prototype.N=function(){Ne.$.N.call(this),tn(this)},Ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bt.prototype.Ea=function(){this.g=!1},bt.prototype.info=function(){};var Mr={},no=null;function ms(){return no=no||new or}function lo(i){En.call(this,Mr.Ta,i)}function Fs(i){const e=ms();cn(e,new lo(e))}function ro(i,e){En.call(this,Mr.STAT_EVENT,i),this.stat=e}function Pn(i){const e=ms();cn(e,new ro(e,i))}function Ri(i,e){En.call(this,Mr.Ua,i),this.size=e}function Vs(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){i()},e)}Mr.Ta="serverreachability",ut(lo,En),Mr.STAT_EVENT="statevent",ut(ro,En),Mr.Ua="timingevent",ut(Ri,En);var On={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Cs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ss(){}function qn(){}Ss.prototype.h=null;var mo,Us={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function io(){En.call(this,"d")}function go(){En.call(this,"c")}function _o(){}function Gi(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new Ne(this),this.P=ta,this.V=new $n(i=de?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Bs}function Bs(){this.i=null,this.g="",this.h=!1}ut(io,En),ut(go,En),ut(_o,Ss),_o.prototype.g=function(){return new XMLHttpRequest},_o.prototype.i=function(){return{}},mo=new _o;var ta=45e3,Ei={},ho={};function $s(i,e,n){i.L=1,i.v=er(Pi(e)),i.s=n,i.S=!0,fo(i,null)}function fo(i,e){i.G=Date.now(),_s(i),i.A=Pi(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),Ps(n.i,"t",o),i.C=0,n=i.l.J,i.h=new Bs,i.g=X(i.l,n?e:null,!i.s),0<i.O&&(i.M=new We(Ce(i.Pa,i,i.g),i.O)),Ut(i.U,i.g,"readystatechange",i.nb),e=i.I?_n(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Fs(),function Cn(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",A=l.split("&"),R=0;R<A.length;R++){var k=A[R].split("=");if(1<k.length){var H=k[0];k=k[1];var ne=H.split("_");f=2<=ne.length&&"type"==ne[1]?f+(H+"=")+k+"&":f+(H+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function js(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function yo(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=vo(i,n),u==ho){4==e&&(i.o=4,Pn(14),o=!1),ar(i.j,i.m,null,"[Incomplete Response]");break}if(u==Ei){i.o=4,Pn(15),ar(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}ar(i.j,i.m,u,null),wr(i,u)}js(i)&&u!=ho&&u!=Ei&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Pn(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ei(e),e.M=!0,Pn(11))):(ar(i.j,i.m,n,"[Invalid Chunked Response]"),rn(i),Hs(i))}function vo(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?ho:(n=Number(e.substring(n,o)),isNaN(n)?Ei:(o+=1)+n>e.length?ho:(e=e.slice(o,o+n),i.C=o+n,e))}function _s(i){i.Y=Date.now()+i.P,Vo(i,i.P)}function Vo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Vs(Ce(i.lb,i),e)}function ys(i){i.B&&(Le.clearTimeout(i.B),i.B=null)}function Hs(i){0==i.l.H||i.J||B(i.l,i)}function rn(i){ys(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Zr(i.V),tn(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function wr(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Io(n.i,i)))if(!i.K&&Io(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;Ui(n),yr(n)}ur(n),Pn(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=Vs(Ce(n.ib,n),6e3));if(1>=Mi(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else T(n,11)}else if((i.K||n.g==i)&&Ui(n),!Et(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let k=u[e];if(n.V=k[0],k=k[1],2==n.H)if("c"==k[0]){n.K=k[1],n.pa=k[2];const H=k[3];null!=H&&(n.ra=H,n.l.info("VER="+n.ra));const ne=k[4];null!=ne&&(n.Ga=ne,n.l.info("SVER="+n.Ga));const ve=k[5];null!=ve&&"number"==typeof ve&&0<ve&&(n.L=o=1.5*ve,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const He=i.g;if(He){const ft=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ft){var l=o.i;l.g||-1==ft.indexOf("spdy")&&-1==ft.indexOf("quic")&&-1==ft.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Sn(l,l.h),l.h=null))}if(o.F){const Dt=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;Dt&&(o.Da=Dt,Mt(o.I,o.F,Dt))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=j(o,o.J?o.pa:null,o.Y),f.K){bo(o.i,f);var A=f,R=o.L;R&&A.setTimeout(R),A.B&&(ys(A),_s(A)),o.g=f}else jr(o);0<n.j.length&&Nr(n)}else"stop"!=k[0]&&"close"!=k[0]||T(n,7);else 3==n.H&&("stop"==k[0]||"close"==k[0]?"stop"==k[0]?T(n,7):Un(n):"noop"!=k[0]&&n.h&&n.h.Aa(k),n.A=0)}Fs()}catch{}}function hi(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ze(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function vs(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Ze(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function Yr(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Ze(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(we=Gi.prototype).setTimeout=function(i){this.P=i},we.nb=function(i){i=i.target;const e=this.M;e&&3==ue(i)?e.l():this.Pa(i)},we.Pa=function(i){try{if(i==this.g)e:{const H=ue(this.g);var e=this.g.Ia();if(this.g.da(),!(3>H)&&(3!=H||de||this.g&&(this.h.h||this.g.ja()||Me(this.g)))){this.J||4!=H||7==e||Fs(),ys(this);var n=this.g.da();this.ca=n;t:if(js(this)){var o=Me(this.g);i="";var u=o.length,l=4==ue(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),Hs(this);var f="";break t}this.h.i=new Le.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function gr(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,H,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var A,R=this.g;if((A=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Et(A)){var k=A;break t}}k=null}if(!(n=k)){this.i=!1,this.o=3,Pn(12),rn(this),Hs(this);break e}ar(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wr(this,n)}this.S?(yo(this,H,f),de&&this.i&&3==H&&(Ut(this.U,this.V,"tick",this.mb),this.V.start())):(ar(this.j,this.m,f,null),wr(this,f)),4==H&&rn(this),this.i&&!this.J&&(4==H?B(this.l,this):(this.i=!1,_s(this)))}else(function Je(i){const e={};i=(i.g&&2<=ue(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(Et(i[o]))continue;var n=Re(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function Zt(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,Pn(12)):(this.o=0,Pn(13)),rn(this),Hs(this)}}}catch{}},we.mb=function(){if(this.g){var i=ue(this.g),e=this.g.ja();this.C<e.length&&(ys(this),yo(this,i,e),this.i&&4!=i&&_s(this))}},we.cancel=function(){this.J=!0,rn(this)},we.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function As(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Fs(),Pn(17)),rn(this),this.o=2,Hs(this)):Vo(this,this.Y-i)};var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xi(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Xi){this.h=i.h,Es(this,i.j),this.s=i.s,this.g=i.g,Xn(this,i.m),this.l=i.l;var e=i.i,n=new Wi;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Rt(this,n),this.o=i.o}else i&&(e=String(i).match(zs))?(this.h=!1,Es(this,e[1]||"",!0),this.s=$r(e[2]||""),this.g=$r(e[3]||"",!0),Xn(this,e[4]),this.l=$r(e[5]||"",!0),Rt(this,e[6]||"",!0),this.o=$r(e[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}function Pi(i){return new Xi(i)}function Es(i,e,n){i.j=n?$r(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Xn(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Rt(i,e,n){e instanceof Wi?(i.i=e,function Is(i,e){e&&!i.j&&(Fi(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(Tr(this,o),Ps(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Gs(e,so)),i.i=new Wi(e,i.h))}function Mt(i,e,n){i.i.set(e,n)}function er(i){return Mt(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function $r(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Gs(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Jr),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Jr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Xi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Gs(e,Rs,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Gs(e,Rs,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Gs(n,"/"==n.charAt(0)?es:Dr,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Gs(n,ln)),i.join("")};var Rs=/[#\/\?@]/g,Dr=/[#\?:]/g,es=/[#\?]/g,so=/[#\?@]/g,ln=/#/g;function Wi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Fi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Eo(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Tr(i,e){Fi(i),e=ii(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Ar(i,e){return Fi(i),e=ii(i,e),i.g.has(e)}function Ps(i,e,n){Tr(i,e),0<n.length&&(i.i=null,i.g.set(ii(i,e),Kn(n)),i.h+=n.length)}function ii(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function So(i){this.l=i||Ns,i=Le.PerformanceNavigationTiming?0<(i=Le.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Le.g&&Le.g.Ka&&Le.g.Ka()&&Le.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(we=Wi.prototype).add=function(i,e){Fi(this),this.i=null,i=ii(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},we.forEach=function(i,e){Fi(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},we.ta=function(){Fi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},we.Z=function(i){Fi(this);let e=[];if("string"==typeof i)Ar(this,i)&&(e=e.concat(this.g.get(ii(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},we.set=function(i,e){return Fi(this),this.i=null,Ar(this,i=ii(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},we.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},we.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var Ns=10;function oo(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Mi(i){return i.h?1:i.g?i.g.size:0}function Io(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Sn(i,e){i.g?i.g.add(e):i.h=e}function bo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function os(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Kn(i.i)}So.prototype.cancel=function(){if(this.i=os(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var mr=class{stringify(i){return Le.JSON.stringify(i,void 0)}parse(i){return Le.JSON.parse(i,void 0)}};function Ni(){this.g=new mr}function Ts(i,e,n){const o=n||"";try{hi(i,function(u,l){let f=u;_t(u)&&(f=zi(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Os(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function _r(i){this.l=i.ec||null,this.j=i.ob||!1}function Bo(i,e){or.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Cr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ut(_r,Ss),_r.prototype.g=function(){return new Bo(this.l,this.j)},_r.prototype.i=function(i){return function(){return i}}({}),ut(Bo,or);var Cr=0;function Oi(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function To(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ii(i)}function Ii(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(we=Bo.prototype).open=function(i,e){if(this.readyState!=Cr)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ii(this)},we.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},we.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,To(this)),this.readyState=Cr},we.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ii(this)),this.g&&(this.readyState=3,Ii(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Oi(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},we.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?To(this):Ii(this),3==this.readyState&&Oi(this)}},we.Za=function(i){this.g&&(this.response=this.responseText=i,To(this))},we.Ya=function(i){this.g&&(this.response=i,To(this))},we.ka=function(){this.g&&To(this)},we.setRequestHeader=function(i,e){this.v.append(i,e)},we.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},we.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Bo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var po=Le.JSON.parse;function Vn(i){or.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ro,this.L=this.M=!1}ut(Vn,or);var Ro="",Ws=/^https?$/i,na=["POST","PUT"];function $o(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,qi(i),U(i)}function qi(i){i.F||(i.F=!0,cn(i,"complete"),cn(i,"error"))}function F(i){if(i.h&&typeof Qe<"u"&&(!i.C[1]||4!=ue(i)||2!=i.da()))if(i.v&&4==ue(i))Li(i.La,0,i);else if(cn(i,"readystatechange"),4==ue(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(zs)[1]||null;!u&&Le.self&&Le.self.location&&(u=Le.self.location.protocol.slice(0,-1)),o=!Ws.test(u?u.toLowerCase():"")}n=o}if(n)cn(i,"complete"),cn(i,"success");else{i.m=6;try{var l=2<ue(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",qi(i)}}finally{U(i)}}}function U(i,e){if(i.g){ae(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||cn(i,"ready");try{n.onreadystatechange=o}catch{}}}function ae(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Le.clearTimeout(i.A),i.A=null)}function ue(i){return i.g?i.g.readyState:0}function Me(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Ro:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function mt(i){let e="";return Ur(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function Bt(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=mt(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Mt(i,e,n))}function $t(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function wn(i){this.Ga=0,this.j=[],this.l=new bt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$t("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$t("baseRetryDelayMs",5e3,i),this.hb=$t("retryDelaySeedMs",1e4,i),this.eb=$t("forwardChannelMaxRetries",2,i),this.xa=$t("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new So(i&&i.concurrentRequestLimit),this.Ja=new Ni,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Un(i){if(kr(i),3==i.H){var e=i.W++,n=Pi(i.I);if(Mt(n,"SID",i.K),Mt(n,"RID",e),Mt(n,"TYPE","terminate"),Sr(i,n),(e=new Gi(i,i.l,e)).L=2,e.v=er(Pi(n)),n=!1,Le.navigator&&Le.navigator.sendBeacon)try{n=Le.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Le.Image&&((new Image).src=e.v,n=!0),n||(e.g=X(e.l,null),e.g.ha(e.v)),e.G=Date.now(),_s(e)}P(i)}function yr(i){i.g&&(ei(i),i.g.cancel(),i.g=null)}function kr(i){yr(i),i.u&&(Le.clearTimeout(i.u),i.u=null),Ui(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Le.clearTimeout(i.m),i.m=null)}function Nr(i){if(!oo(i.i)&&!i.m){i.m=!0;var e=i.Na;pt||St(),xt||(pt(),xt=!0),en.add(e,i),i.C=0}}function Vi(i,e){var n;n=e?e.m:i.W++;const o=Pi(i.I);Mt(o,"SID",i.K),Mt(o,"RID",n),Mt(o,"AID",i.V),Sr(i,o),i.o&&i.s&&Bt(o,i.o,i.s),n=new Gi(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Xr(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Sn(i.i,n),$s(n,o,e)}function Sr(i,e){i.na&&Ur(i.na,function(n,o){Mt(e,o,n)}),i.h&&hi({},function(n,o){Mt(e,o,n)})}function Xr(i,e,n){n=Math.min(i.j.length,n);var o=i.h?Ce(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let A=!0;for(let R=0;R<n;R++){let k=u[R].g;const H=u[R].map;if(k-=l,0>k)l=Math.max(0,u[R].g-100),A=!1;else try{Ts(H,f,"req"+k+"_")}catch{o&&o(H)}}if(A){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function jr(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;pt||St(),xt||(pt(),xt=!0),en.add(e,i),i.A=0}}function ur(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Vs(Ce(i.Ma,i),m(i,i.A)),i.A++,0))}function ei(i){null!=i.B&&(Le.clearTimeout(i.B),i.B=null)}function tr(i){i.g=new Gi(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Pi(i.wa);Mt(e,"RID","rpc"),Mt(e,"SID",i.K),Mt(e,"AID",i.V),Mt(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Mt(e,"TO",i.qa),Mt(e,"TYPE","xmlhttp"),Sr(i,e),i.o&&i.s&&Bt(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=er(Pi(e)),n.s=null,n.S=!0,fo(n,i)}function Ui(i){null!=i.v&&(Le.clearTimeout(i.v),i.v=null)}function B(i,e){var n=null;if(i.g==e){Ui(i),ei(i),i.g=null;var o=2}else{if(!Io(i.i,e))return;n=e.F,bo(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;cn(o=ms(),new Ri(o,n)),Nr(i)}else jr(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function Ti(i,e){return!(Mi(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Vs(Ce(i.Na,i,e),m(i,i.C)),i.C++,0)))}(i,e)||2==o&&ur(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:T(i,5);break;case 4:T(i,10);break;case 3:T(i,6);break;default:T(i,2)}}function m(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function T(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=Ce(i.pb,i);n||(n=new Xi("//www.google.com/images/cleardot.gif"),Le.location&&"http"==Le.location.protocol||Es(n,"https"),er(n)),function Uo(i,e){const n=new bt;if(Le.Image){const o=new Image;o.onload=Ye(Os,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Ye(Os,n,o,"TestLoadImage: error",!1,e),o.onabort=Ye(Os,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Ye(Os,n,o,"TestLoadImage: timeout",!1,e),Le.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Pn(2);i.H=0,i.h&&i.h.za(e),P(i),kr(i)}function P(i){if(i.H=0,i.ma=[],i.h){const e=os(i.i);(0!=e.length||0!=i.j.length)&&(ct(i.ma,e),ct(i.ma,i.j),i.i.i.length=0,Kn(i.j),i.j.length=0),i.h.ya()}}function j(i,e,n){var o=n instanceof Xi?Pi(n):new Xi(n);if(""!=o.g)e&&(o.g=e+"."+o.g),Xn(o,o.m);else{var u=Le.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new Xi(null);o&&Es(l,o),e&&(l.g=e),u&&Xn(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&Mt(o,n,e),Mt(o,"VER",i.ra),Sr(i,o),o}function X(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vn(n&&i.Ha&&!i.va?new _r({ob:!0}):i.va)).Oa(i.J),e}function me(){}function _e(){if(fe&&!(10<=Number(Ln)))throw Error("Environmental error: no available transport.")}function xe(i,e){or.call(this),this.g=new wn(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Et(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Et(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Pt(this)}function Xe(i){io.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function wt(){go.call(this),this.status=1}function Pt(i){this.g=i}function Yt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Wt(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function Nt(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(we=Vn.prototype).Oa=function(i){this.M=i},we.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mo.g(),this.C=function bs(i){return i.h||(i.h=i.i())}(this.u?this.u:mo),this.g.onreadystatechange=Ce(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void $o(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=Le.FormData&&i instanceof Le.FormData,!(0<=fn(na,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ae(this),0<this.B&&((this.L=function wa(i){return fe&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ce(this.ua,this)):this.A=Li(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){$o(this,l)}},we.ua=function(){typeof Qe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,cn(this,"timeout"),this.abort(8))},we.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,cn(this,"complete"),cn(this,"abort"),U(this))},we.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),U(this,!0)),Vn.$.N.call(this)},we.La=function(){this.s||(this.G||this.v||this.l?F(this):this.kb())},we.kb=function(){F(this)},we.isActive=function(){return!!this.g},we.da=function(){try{return 2<ue(this)?this.g.status:-1}catch{return-1}},we.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},we.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),po(e)}},we.Ia=function(){return this.m},we.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(we=wn.prototype).ra=8,we.H=1,we.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new Gi(this,this.l,i);let l=this.s;if(this.U&&(l?(l=_n(l),Qn(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Xr(this,u,e),Mt(n=Pi(this.I),"RID",i),Mt(n,"CVER",22),this.F&&Mt(n,"X-HTTP-Session-Id",this.F),Sr(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(mt(l)))+"&"+e:this.o&&Bt(n,this.o,l)),Sn(this.i,u),this.bb&&Mt(n,"TYPE","init"),this.P?(Mt(n,"$req",e),Mt(n,"SID","null"),u.aa=!0,$s(u,n,null)):$s(u,n,e),this.H=2}}else 3==this.H&&(i?Vi(this,i):0==this.j.length||oo(this.i)||Vi(this))},we.Ma=function(){if(this.u=null,tr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Vs(Ce(this.jb,this),i)}},we.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pn(10),yr(this),tr(this))},we.ib=function(){null!=this.v&&(this.v=null,yr(this),ur(this),Pn(19))},we.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Pn(2)):(this.l.info("Failed to ping google.com"),Pn(1))},we.isActive=function(){return!!this.h&&this.h.isActive(this)},(we=me.prototype).Ba=function(){},we.Aa=function(){},we.za=function(){},we.ya=function(){},we.isActive=function(){return!0},we.Va=function(){},_e.prototype.g=function(i,e){return new xe(i,e)},ut(xe,or),xe.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Pn(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=j(i,null,i.Y),Nr(i)},xe.prototype.close=function(){Un(this.g)},xe.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=zi(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Nr(e)},xe.prototype.N=function(){this.g.h=null,delete this.j,Un(this.g),delete this.g,xe.$.N.call(this)},ut(Xe,io),ut(wt,go),ut(Pt,me),Pt.prototype.Ba=function(){cn(this.g,"a")},Pt.prototype.Aa=function(i){cn(this.g,new Xe(i))},Pt.prototype.za=function(i){cn(this.g,new wt)},Pt.prototype.ya=function(){cn(this.g,"b")},ut(Yt,function Mn(){this.blockSize=-1}),Yt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Yt.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)Wt(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){Wt(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){Wt(this,o),u=0;break}}this.h=u,this.i+=e},Yt.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var Or={};function wi(i){return-128<=i&&128>i?function Ve(i,e){var n=Or;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new Nt([0|e],0>e?-1:0)}):new Nt([0|i],0>i?-1:0)}function vr(i){if(isNaN(i)||!isFinite(i))return qs;if(0>i)return xr(vr(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=ti;return new Nt(e,0)}var ti=4294967296,qs=wi(0),xs=wi(1),fi=wi(16777216);function Ki(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function si(i){return-1==i.h}function xr(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new Nt(n,~i.h).add(xs)}function wo(i,e){return i.add(xr(e))}function Ks(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function w(i,e){this.g=i,this.h=e}function $(i,e){if(Ki(e))throw Error("division by zero");if(Ki(i))return new w(qs,qs);if(si(i))return e=$(xr(i),e),new w(xr(e.g),xr(e.h));if(si(e))return e=$(i,xr(e)),new w(xr(e.g),e.h);if(30<i.g.length){if(si(i)||si(e))throw Error("slowDivide_ only works with positive integers.");for(var n=xs,o=e;0>=o.X(i);)n=M(n),o=M(o);var u=N(n,1),l=N(o,1);for(o=N(o,2),n=N(n,2);!Ki(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=N(o,1),n=N(n,1)}return e=wo(i,u.R(e)),new w(u,e)}for(u=qs;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=vr(n)).R(e);si(f)||0<f.X(i);)f=(l=vr(n-=o)).R(e);Ki(l)&&(l=xs),u=u.add(l),i=wo(i,f)}return new w(u,i)}function M(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new Nt(n,i.h)}function N(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new Nt(u,i.h)}(we=Nt.prototype).ea=function(){if(si(this))return-xr(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:ti+o)*e,e*=ti}return i},we.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Ki(this))return"0";if(si(this))return"-"+xr(this).toString(i);for(var e=vr(Math.pow(i,6)),n=this,o="";;){var u=$(n,e).g,l=((0<(n=wo(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(Ki(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},we.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},we.X=function(i){return si(i=wo(this,i))?-1:Ki(i)?0:1},we.abs=function(){return si(this)?xr(this):this},we.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new Nt(n,-2147483648&n[n.length-1]?-1:0)},we.R=function(i){if(Ki(this)||Ki(i))return qs;if(si(this))return si(i)?xr(this).R(xr(i)):xr(xr(this).R(i));if(si(i))return xr(this.R(xr(i)));if(0>this.X(fi)&&0>i.X(fi))return vr(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),A=i.D(u)>>>16,R=65535&i.D(u);n[2*o+2*u]+=f*R,Ks(n,2*o+2*u),n[2*o+2*u+1]+=l*R,Ks(n,2*o+2*u+1),n[2*o+2*u+1]+=f*A,Ks(n,2*o+2*u+1),n[2*o+2*u+2]+=l*A,Ks(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new Nt(n,0)},we.gb=function(i){return $(this,i).h},we.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new Nt(n,this.h&i.h)},we.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new Nt(n,this.h|i.h)},we.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new Nt(n,this.h^i.h)},_e.prototype.createWebChannel=_e.prototype.g,xe.prototype.send=xe.prototype.u,xe.prototype.open=xe.prototype.m,xe.prototype.close=xe.prototype.close,On.NO_ERROR=0,On.TIMEOUT=8,On.HTTP_ERROR=6,Cs.COMPLETE="complete",qn.EventType=Us,Us.OPEN="a",Us.CLOSE="b",Us.ERROR="c",Us.MESSAGE="d",or.prototype.listen=or.prototype.O,Vn.prototype.listenOnce=Vn.prototype.P,Vn.prototype.getLastError=Vn.prototype.Sa,Vn.prototype.getLastErrorCode=Vn.prototype.Ia,Vn.prototype.getStatus=Vn.prototype.da,Vn.prototype.getResponseJson=Vn.prototype.Wa,Vn.prototype.getResponseText=Vn.prototype.ja,Vn.prototype.send=Vn.prototype.ha,Vn.prototype.setWithCredentials=Vn.prototype.Oa,Yt.prototype.digest=Yt.prototype.l,Yt.prototype.reset=Yt.prototype.reset,Yt.prototype.update=Yt.prototype.j,Nt.prototype.add=Nt.prototype.add,Nt.prototype.multiply=Nt.prototype.R,Nt.prototype.modulo=Nt.prototype.gb,Nt.prototype.compare=Nt.prototype.X,Nt.prototype.toNumber=Nt.prototype.ea,Nt.prototype.toString=Nt.prototype.toString,Nt.prototype.getBits=Nt.prototype.D,Nt.fromNumber=vr,Nt.fromString=function ts(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return xr(ts(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=vr(Math.pow(e,8)),o=qs,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=vr(Math.pow(e,l)),o=o.R(l).add(vr(f))):o=(o=o.R(n)).add(vr(f))}return o};var te=Ee.createWebChannelTransport=function(){return new _e},Ie=Ee.getStatEventTarget=function(){return ms()},je=Ee.ErrorCode=On,vt=Ee.EventType=Cs,Hn=Ee.Event=Mr,bn=Ee.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zn=Ee.FetchXmlHttpFactory=_r,zt=Ee.WebChannel=qn,Lr=Ee.XhrIo=Vn,nr=Ee.Md5=Yt,Bn=Ee.Integer=Nt;const Di="@firebase/firestore";class Rn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");let Qi="10.5.2";const Hr=new ge.Yd("@firebase/firestore");function Qs(){return Hr.logLevel}function at(i,...e){if(Hr.logLevel<=ge.in.DEBUG){const n=e.map(Wa);Hr.debug(`Firestore (${Qi}): ${i}`,...n)}}function cr(i,...e){if(Hr.logLevel<=ge.in.ERROR){const n=e.map(Wa);Hr.error(`Firestore (${Qi}): ${i}`,...n)}}function Zn(i,...e){if(Hr.logLevel<=ge.in.WARN){const n=e.map(Wa);Hr.warn(`Firestore (${Qi}): ${i}`,...n)}}function Wa(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Lt(i="Unexpected state"){const e=`FIRESTORE (${Qi}) INTERNAL ASSERTION FAILED: `+i;throw cr(e),new Error(e)}function Ft(i,e){i||Lt()}function At(i,e){return i}const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends ee.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class dc{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rn.UNAUTHENTICATED))}shutdown(){}}class jo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ho{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=k=>this.i!==u?(u=this.i,n(k)):Promise.resolve();let f=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Zi,e.enqueueRetryable(()=>l(this.currentUser))};const A=()=>{const k=f;e.enqueueRetryable((0,ie.Z)(function*(){yield k.promise,yield l(o.currentUser)}))},R=k=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=k,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(k=>R(k)),setTimeout(()=>{if(!this.auth){const k=this.t.getImmediate({optional:!0});k?R(k):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Zi)}},0),A()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ft("string"==typeof o.accessToken),new dc(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ft(null===e||"string"==typeof e),new Rn(e)}}class Do{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ed{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new Do(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class td{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const o=l=>{null!=l.error&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.R;return this.R=l.token,at("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?u(l):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ft("string"==typeof n.token),this.R=n.token,new Xc(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function pn(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class Du{static newId(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=pn(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function gn(i,e){return i<e?-1:i>e?1:0}function ra(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class ni{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new it(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new it(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ni.fromMillis(Date.now())}static fromDate(e){return ni.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new ni(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gn(this.nanoseconds,e.nanoseconds):gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Kt(e)}static min(){return new Kt(new ni(0,0))}static max(){return new Kt(new ni(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Po{constructor(e,n,o){void 0===n?n=0:n>e.length&&Lt(),void 0===o?o=e.length-n:o>e.length-n&&Lt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Po.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Po?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lr extends Po{construct(e,n,o){return new lr(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new it(Ge.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new lr(n)}static emptyPath(){return new lr([])}}const wh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends Po{construct(e,n,o){return new Ai(e,n,o)}static isValidIdentifier(e){return wh.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ai(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new it(Ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const A=e[u];if("\\"===A){if(u+1===e.length)throw new it(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[u+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new it(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=R,u+=2}else"`"===A?(f=!f,u++):"."!==A||f?(o+=A,u++):(l(),u++)}if(l(),f)throw new it(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ai(n)}static emptyPath(){return new Ai([])}}class Ot{constructor(e){this.path=e}static fromPath(e){return new Ot(lr.fromString(e))}static fromName(e){return new Ot(lr.fromString(e).popFirst(5))}static empty(){return new Ot(lr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===lr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return lr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ot(new lr(e.slice()))}}function ao(i){return new ks(i.readTime,i.key,-1)}class ks{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new ks(Kt.min(),Ot.empty(),-1)}static max(){return new ks(Kt.max(),Ot.empty(),-1)}}function ia(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ot.comparator(i.documentKey,e.documentKey),0!==n?n:gn(i.largestBatchId,e.largestBatchId))}const tl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class op{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function zo(i){return ws.apply(this,arguments)}function ws(){return ws=(0,ie.Z)(function*(i){if(i.code!==Ge.FAILED_PRECONDITION||i.message!==tl)throw i;at("LocalStore","Unexpectedly lost primary lease")}),ws.apply(this,arguments)}class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Oe((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Oe?n:Oe.resolve(n)}catch(n){return Oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Oe.reject(n)}static resolve(e){return new Oe((n,o)=>{n(e)})}static reject(e){return new Oe((n,o)=>{o(e)})}static waitFor(e){return new Oe((n,o)=>{let u=0,l=0,f=!1;e.forEach(A=>{++u,A.next(()=>{++l,f&&l===u&&n()},R=>o(R))}),f=!0,l===u&&n()})}static or(e){let n=Oe.resolve(!1);for(const o of e)n=n.next(u=>u?Oe.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Oe((o,u)=>{const l=e.length,f=new Array(l);let A=0;for(let R=0;R<l;R++){const k=R;n(e[k]).next(H=>{f[k]=H,++A,A===l&&o(f)},H=>u(H))}})}static doWhile(e,n){return new Oe((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function y(i){return"IndexedDbTransactionError"===i.name}let yt=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.se(u),this.oe=u=>o.writeSequenceNumber(u))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function Dn(i){return null==i}function Er(i){return 0===i&&1/i==-1/0}function sd(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ao(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function il(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class oi{constructor(e,n){this.comparator=e,this.root=n||Js.EMPTY}insert(e,n){return new oi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Js.BLACK,null,null))}remove(e){return new oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Js.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Js{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??Js.RED,this.left=u??Js.EMPTY,this.right=l??Js.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new Js(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Js.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Js.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Js.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Js.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Lt();const e=this.left.check();if(e!==this.right.check())throw Lt();return e+(this.isRed()?0:1)}}Js.EMPTY=null,Js.RED=!0,Js.BLACK=!1,Js.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt()}get value(){throw Lt()}get color(){throw Lt()}get left(){throw Lt()}get right(){throw Lt()}copy(e,n,o,u,l){return this}insert(e,n,o){return new Js(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class br{constructor(e){this.comparator=e,this.data=new oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ru(this.data.getIterator())}getIteratorFrom(e){return new Ru(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof br)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new br(this.comparator);return n.data=e,n}}class Ru{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ls{constructor(e){this.fields=e,e.sort(Ai.comparator)}static empty(){return new Ls([])}unionWith(e){let n=new br(Ai.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Ls(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class Pu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ns{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(u){try{return atob(u)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Pu("Invalid base64 string: "+l):l}}(e);return new ns(n)}static fromUint8Array(e){const n=function(u){let l="";for(let f=0;f<u.length;++f)l+=String.fromCharCode(u[f]);return l}(e);return new ns(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let u=0;u<n.length;u++)o[u]=n.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ns.EMPTY_BYTE_STRING=new ns("");const dp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Go(i){if(Ft(!!i),"string"==typeof i){let e=0;const n=dp.exec(i);if(Ft(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ci(i.seconds),nanos:Ci(i.nanos)}}function Ci(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ds(i){return"string"==typeof i?ns.fromBase64String(i):ns.fromUint8Array(i)}function Ca(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ya(i){const e=i.mapValue.fields.__previous_value__;return Ca(e)?Ya(e):e}function Ja(i){const e=Go(i.mapValue.fields.__local_write_time__.timestampValue);return new ni(e.seconds,e.nanos)}class sl{constructor(e,n,o,u,l,f,A,R,k){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=A,this.longPollingOptions=R,this.useFetchStreams=k}}class Oo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Oo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Oo&&e.projectId===this.projectId&&e.database===this.database}}const xo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ca(i)?4:Nu(i)?9007199254740991:10:Lt()}function ko(i,e){if(i===e)return!0;const n=fa(i);if(n!==fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ja(i).isEqual(Ja(e));case 3:return function(u,l){if("string"==typeof u.timestampValue&&"string"==typeof l.timestampValue&&u.timestampValue.length===l.timestampValue.length)return u.timestampValue===l.timestampValue;const f=Go(u.timestampValue),A=Go(l.timestampValue);return f.seconds===A.seconds&&f.nanos===A.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Ds(i.bytesValue).isEqual(Ds(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,l){return Ci(u.geoPointValue.latitude)===Ci(l.geoPointValue.latitude)&&Ci(u.geoPointValue.longitude)===Ci(l.geoPointValue.longitude)}(i,e);case 2:return function(u,l){if("integerValue"in u&&"integerValue"in l)return Ci(u.integerValue)===Ci(l.integerValue);if("doubleValue"in u&&"doubleValue"in l){const f=Ci(u.doubleValue),A=Ci(l.doubleValue);return f===A?Er(f)===Er(A):isNaN(f)&&isNaN(A)}return!1}(i,e);case 9:return ra(i.arrayValue.values||[],e.arrayValue.values||[],ko);case 10:return function(u,l){const f=u.mapValue.fields||{},A=l.mapValue.fields||{};if(sd(f)!==sd(A))return!1;for(const R in f)if(f.hasOwnProperty(R)&&(void 0===A[R]||!ko(f[R],A[R])))return!1;return!0}(i,e);default:return Lt()}var l}function Xa(i,e){return void 0!==(i.values||[]).find(n=>ko(n,e))}function Sa(i,e){if(i===e)return 0;const n=fa(i),o=fa(e);if(n!==o)return gn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return gn(i.booleanValue,e.booleanValue);case 2:return function(l,f){const A=Ci(l.integerValue||l.doubleValue),R=Ci(f.integerValue||f.doubleValue);return A<R?-1:A>R?1:A===R?0:isNaN(A)?isNaN(R)?0:-1:1}(i,e);case 3:return Ph(i.timestampValue,e.timestampValue);case 4:return Ph(Ja(i),Ja(e));case 5:return gn(i.stringValue,e.stringValue);case 6:return function(l,f){const A=Ds(l),R=Ds(f);return A.compareTo(R)}(i.bytesValue,e.bytesValue);case 7:return function(l,f){const A=l.split("/"),R=f.split("/");for(let k=0;k<A.length&&k<R.length;k++){const H=gn(A[k],R[k]);if(0!==H)return H}return gn(A.length,R.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,f){const A=gn(Ci(l.latitude),Ci(f.latitude));return 0!==A?A:gn(Ci(l.longitude),Ci(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,f){const A=l.values||[],R=f.values||[];for(let k=0;k<A.length&&k<R.length;++k){const H=Sa(A[k],R[k]);if(H)return H}return gn(A.length,R.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,f){if(l===xo.mapValue&&f===xo.mapValue)return 0;if(l===xo.mapValue)return 1;if(f===xo.mapValue)return-1;const A=l.fields||{},R=Object.keys(A),k=f.fields||{},H=Object.keys(k);R.sort(),H.sort();for(let ne=0;ne<R.length&&ne<H.length;++ne){const ve=gn(R[ne],H[ne]);if(0!==ve)return ve;const He=Sa(A[R[ne]],k[H[ne]]);if(0!==He)return He}return gn(R.length,H.length)}(i.mapValue,e.mapValue);default:throw Lt()}}function Ph(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return gn(i,e);const n=Go(i),o=Go(e),u=gn(n.seconds,o.seconds);return 0!==u?u:gn(n.nanos,o.nanos)}function Wo(i){return ba(i)}function ba(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const o=Go(n);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ds(i.bytesValue).toBase64():"referenceValue"in i?Ot.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let o="[",u=!0;for(const l of n.values||[])u?u=!1:o+=",",o+=ba(l);return o+"]"}(i.arrayValue):"mapValue"in i?function(n){const o=Object.keys(n.fields||{}).sort();let u="{",l=!0;for(const f of o)l?l=!1:u+=",",u+=`${f}:${ba(n.fields[f])}`;return u+"}"}(i.mapValue):Lt()}function sa(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ud(i){return!!i&&"integerValue"in i}function pa(i){return!!i&&"arrayValue"in i}function al(i){return!!i&&"nullValue"in i}function uo(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Mu(i){return!!i&&"mapValue"in i}function eu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ao(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=eu(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eu(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Nu(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class xi{constructor(e){this.value=e}static empty(){return new xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Mu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(n)}setAll(e){let n=Ai.emptyPath(),o={},u=[];e.forEach((f,A)=>{if(!n.isImmediateParentOf(A)){const R=this.getFieldsMap(n);this.applyChanges(R,o,u),o={},u=[],n=A.popLast()}f?o[A.lastSegment()]=eu(f):u.push(A.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());Mu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ko(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Mu(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Ao(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new xi(eu(this.value))}}function Ra(i){const e=[];return Ao(i.fields,(n,o)=>{const u=new Ai([n]);if(Mu(o)){const l=Ra(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new Ls(e)}class ai{constructor(e,n,o,u,l,f,A){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=A}static newInvalidDocument(e){return new ai(e,0,Kt.min(),Kt.min(),Kt.min(),xi.empty(),0)}static newFoundDocument(e,n,o,u){return new ai(e,1,n,Kt.min(),o,u,0)}static newNoDocument(e,n){return new ai(e,2,n,Kt.min(),Kt.min(),xi.empty(),0)}static newUnknownDocument(e,n){return new ai(e,3,n,Kt.min(),Kt.min(),xi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Kt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ai&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oa{constructor(e,n){this.position=e,this.inclusive=n}}function ga(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?Ot.comparator(Ot.fromName(f.referenceValue),n.key):Sa(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function hp(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ko(i.position[n],e.position[n]))return!1;return!0}class pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Am(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class cd{}class dr extends cd{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new fp(e,n,o):"array-contains"===n?new ll(e,o):"in"===n?new Lu(e,o):"not-in"===n?new pp(e,o):"array-contains-any"===n?new Cm(e,o):new dr(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new Lo(e,o):new ku(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Sa(n,this.value)):null!==n&&fa(this.value)===fa(n)&&this.matchesComparison(Sa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gr extends cd{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Gr(e,n)}matches(e){return Ou(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ou(i){return"and"===i.op}function qo(i){return function Oh(i){for(const e of i.filters)if(e instanceof Gr)return!1;return!0}(i)&&Ou(i)}function ld(i){if(i instanceof dr)return i.field.canonicalString()+i.op.toString()+Wo(i.value);if(qo(i))return i.filters.map(e=>ld(e)).join(",");{const e=i.filters.map(n=>ld(n)).join(",");return`${i.op}(${e})`}}function rs(i,e){return i instanceof dr?(o=i,(u=e)instanceof dr&&o.op===u.op&&o.field.isEqual(u.field)&&ko(o.value,u.value)):i instanceof Gr?function(o,u){return u instanceof Gr&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((l,f,A)=>l&&rs(f,u.filters[A]),!0)}(i,e):void Lt();var o,u}function xu(i){return i instanceof dr?`${(n=i).field.canonicalString()} ${n.op} ${Wo(n.value)}`:i instanceof Gr?function(n){return n.op.toString()+" {"+n.getFilters().map(xu).join(" ,")+"}"}(i):"Filter";var n}class fp extends dr{constructor(e,n,o){super(e,n,o),this.key=Ot.fromName(o.referenceValue)}matches(e){const n=Ot.comparator(e.key,this.key);return this.matchesComparison(n)}}class Lo extends dr{constructor(e,n){super(e,"in",n),this.keys=gc(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ku extends dr{constructor(e,n){super(e,"not-in",n),this.keys=gc(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gc(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Ot.fromName(o.referenceValue))}class ll extends dr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pa(n)&&Xa(n.arrayValue,this.value)}}class Lu extends dr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Xa(this.value.arrayValue,n)}}class pp extends dr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Xa(this.value.arrayValue,n)}}class Cm extends dr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pa(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Xa(this.value.arrayValue,o))}}class gp{constructor(e,n=null,o=[],u=[],l=null,f=null,A=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=A,this.ce=null}}function dd(i,e=null,n=[],o=[],u=null,l=null,f=null){return new gp(i,e,n,o,u,l,f)}function ls(i){const e=At(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>ld(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),Dn(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Wo(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Wo(o)).join(",")),e.ce=n}return e.ce}function nu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Am(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!rs(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!hp(i.startAt,e.startAt)&&hp(i.endAt,e.endAt)}function ma(i){return Ot.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Ko{constructor(e,n=null,o=[],u=[],l=null,f="F",A=null,R=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=A,this.endAt=R,this.le=null,this.he=null,this.Pe=null}}function Pa(i){return new Ko(i)}function Lh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function gd(i){return null!==i.collectionGroup}function ru(i){const e=At(i);if(null===e.le){e.le=[];const n=new Set;for(const l of e.explicitOrderBy)e.le.push(l),n.add(l.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let A=new br(Ai.comparator);return f.filters.forEach(R=>{R.getFlattenedFilters().forEach(k=>{k.isInequality()&&(A=A.add(k.field))})}),A})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.le.push(new pc(l,o))}),n.has(Ai.keyField().canonicalString())||e.le.push(new pc(Ai.keyField(),o))}return e.le}function ds(i){const e=At(i);return e.he||(e.he=function mp(i,e){if("F"===i.limitType)return dd(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(u=>new pc(u.field,"desc"===u.dir?"asc":"desc"));const n=i.endAt?new oa(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new oa(i.startAt.position,i.startAt.inclusive):null;return dd(i.path,i.collectionGroup,e,i.filters,i.limit,n,o)}}(e,ru(i))),e.he}function mc(i,e){const n=i.filters.concat([e]);return new Ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Fu(i,e,n){return new Ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function _a(i,e){return nu(ds(i),ds(e))&&i.limitType===e.limitType}function _c(i){return`${ls(ds(i))}|lt:${i.limitType}`}function Ma(i){return`Query(target=${function(n){let o=n.path.canonicalString();return null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(u=>xu(u)).join(", ")}]`),Dn(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(u=>{return`${(f=u).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(u=>Wo(u)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(u=>Wo(u)).join(",")),`Target(${o})`}(ds(i))}; limitType=${i.limitType})`}function Na(i,e){return e.isFoundDocument()&&function(o,u){const l=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(l):Ot.isDocumentKey(o.path)?o.path.isEqual(l):o.path.isImmediateParentOf(l)}(i,e)&&function(o,u){for(const l of ru(o))if(!l.field.isKeyField()&&null===u.data.field(l.field))return!1;return!0}(i,e)&&function(o,u){for(const l of o.filters)if(!l.matches(u))return!1;return!0}(i,e)&&(u=e,!((o=i).startAt&&!function(f,A,R){const k=ga(f,A,R);return f.inclusive?k<=0:k<0}(o.startAt,ru(o),u)||o.endAt&&!function(f,A,R){const k=ga(f,A,R);return f.inclusive?k>=0:k>0}(o.endAt,ru(o),u)));var o,u}function md(i){return(e,n)=>{let o=!1;for(const u of ru(i)){const l=_p(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function _p(i,e,n){const o=i.field.isKeyField()?Ot.comparator(e.key,n.key):function(l,f,A){const R=f.data.field(l),k=A.data.field(l);return null!==R&&null!==k?Sa(R,k):Lt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Lt()}}class ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return il(this.inner)}size(){return this.innerSize}}const Vu=new oi(Ot.comparator);function hs(){return Vu}const Fh=new oi(Ot.comparator);function dl(...i){let e=Fh;for(const n of i)e=e.insert(n.key,n);return e}function hl(i){let e=Fh;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Co(){return fl()}function Vh(){return fl()}function fl(){return new ya(i=>i.toString(),(i,e)=>i.isEqual(e))}const _d=new oi(Ot.comparator),yp=new br(Ot.comparator);function xn(...i){let e=yp;for(const n of i)e=e.add(n);return e}const Uh=new br(gn);function vd(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Er(e)?"-0":e}}function vp(i){return{integerValue:""+i}}function Bh(i,e){return function rr(i){return"number"==typeof i&&Number.isInteger(i)&&!Er(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?vp(e):vd(i,e)}class $h{constructor(){this._=void 0}}function Sm(i,e,n){return i instanceof pl?function(u,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return l&&Ca(l)&&(l=Ya(l)),l&&(f.fields.__previous_value__=l),{mapValue:f}}(n,e):i instanceof vc?Id(i,e):i instanceof Uu?Rm(i,e):function(u,l){const f=Ed(u,l),A=Pm(f)+Pm(u.Ie);return ud(f)&&ud(u.Ie)?vp(A):vd(u.serializer,A)}(i,e)}function bm(i,e,n){return i instanceof vc?Id(i,e):i instanceof Uu?Rm(i,e):n}function Ed(i,e){return i instanceof gl?ud(o=e)||(l=o)&&"doubleValue"in l?e:{integerValue:0}:null;var o,l}class pl extends $h{}class vc extends $h{constructor(e){super(),this.elements=e}}function Id(i,e){const n=Ep(e);for(const o of i.elements)n.some(u=>ko(u,o))||n.push(o);return{arrayValue:{values:n}}}class Uu extends $h{constructor(e){super(),this.elements=e}}function Rm(i,e){let n=Ep(e);for(const o of i.elements)n=n.filter(u=>!ko(u,o));return{arrayValue:{values:n}}}class gl extends $h{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Pm(i){return Ci(i.integerValue||i.doubleValue)}function Ep(i){return pa(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class wd{constructor(e,n){this.version=e,this.transformResults=n}}class Si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Si}static exists(e){return new Si(void 0,e)}static updateTime(e){return new Si(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _l(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class yl{}function Bu(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new iu(i.key,Si.none()):new Oa(i.key,i.data,Si.none());{const n=i.data,o=xi.empty();let u=new br(Ai.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new xa(i.key,o,new Ls(u.toArray()),Si.none())}}function Ip(i,e,n){i instanceof Oa?function(u,l,f){const A=u.value.clone(),R=wp(u.fieldTransforms,l,f.transformResults);A.setAll(R),l.convertToFoundDocument(f.version,A).setHasCommittedMutations()}(i,e,n):i instanceof xa?function(u,l,f){if(!_l(u.precondition,l))return void l.convertToUnknownDocument(f.version);const A=wp(u.fieldTransforms,l,f.transformResults),R=l.data;R.setAll(Tp(u)),R.setAll(A),l.convertToFoundDocument(f.version,R).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ec(i,e,n,o){return i instanceof Oa?function(l,f,A,R){if(!_l(l.precondition,f))return A;const k=l.value.clone(),H=jh(l.fieldTransforms,R,f);return k.setAll(H),f.convertToFoundDocument(f.version,k).setHasLocalMutations(),null}(i,e,n,o):i instanceof xa?function(l,f,A,R){if(!_l(l.precondition,f))return A;const k=jh(l.fieldTransforms,R,f),H=f.data;return H.setAll(Tp(l)),H.setAll(k),f.convertToFoundDocument(f.version,H).setHasLocalMutations(),null===A?null:A.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(ne=>ne.field))}(i,e,n,o):(A=n,_l(i.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):A);var f,A}function Dd(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Ed(o.transform,u||null);null!=l&&(null===n&&(n=xi.empty()),n.set(o.field,l))}return n||null}function vl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=i.fieldTransforms)&&void 0===u||o&&u&&ra(o,u,(l,f)=>function Td(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(o=i.transform)instanceof vc&&u instanceof vc||o instanceof Uu&&u instanceof Uu?ra(o.elements,u.elements,ko):o instanceof gl&&u instanceof gl?ko(o.Ie,u.Ie):o instanceof pl&&u instanceof pl);var o,u}(l,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var o,u}class Oa extends yl{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class xa extends yl{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Tp(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function wp(i,e,n){const o=new Map;Ft(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,A=e.data.field(l.field);o.set(l.field,bm(f,A,n[u]))}return o}function jh(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,Sm(l,f,e))}return o}class iu extends yl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hh extends yl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zh{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Ip(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Ec(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Ec(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Vh();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let A=this.applyToLocalView(f,l.mutatedFields);A=n.has(u.key)?null:A;const R=Bu(f,A);null!==R&&o.set(u.key,R),f.isValidDocument()||f.convertToNoDocument(Kt.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xn())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,(n,o)=>vl(n,o))&&ra(this.baseMutations,e.baseMutations,(n,o)=>vl(n,o))}}class Gh{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Ft(e.mutations.length===o.length);let u=_d;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new Gh(e,n,o,u)}}class El{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nm{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rr,hr;function Ad(i){if(void 0===i)return cr("GRPC error has no .code"),Ge.UNKNOWN;switch(i){case Rr.OK:return Ge.OK;case Rr.CANCELLED:return Ge.CANCELLED;case Rr.UNKNOWN:return Ge.UNKNOWN;case Rr.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case Rr.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case Rr.INTERNAL:return Ge.INTERNAL;case Rr.UNAVAILABLE:return Ge.UNAVAILABLE;case Rr.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case Rr.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case Rr.NOT_FOUND:return Ge.NOT_FOUND;case Rr.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case Rr.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case Rr.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case Rr.ABORTED:return Ge.ABORTED;case Rr.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case Rr.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case Rr.DATA_LOSS:return Ge.DATA_LOSS;default:return Lt()}}(hr=Rr||(Rr={}))[hr.OK=0]="OK",hr[hr.CANCELLED=1]="CANCELLED",hr[hr.UNKNOWN=2]="UNKNOWN",hr[hr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hr[hr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hr[hr.NOT_FOUND=5]="NOT_FOUND",hr[hr.ALREADY_EXISTS=6]="ALREADY_EXISTS",hr[hr.PERMISSION_DENIED=7]="PERMISSION_DENIED",hr[hr.UNAUTHENTICATED=16]="UNAUTHENTICATED",hr[hr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hr[hr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hr[hr.ABORTED=10]="ABORTED",hr[hr.OUT_OF_RANGE=11]="OUT_OF_RANGE",hr[hr.UNIMPLEMENTED=12]="UNIMPLEMENTED",hr[hr.INTERNAL=13]="INTERNAL",hr[hr.UNAVAILABLE=14]="UNAVAILABLE",hr[hr.DATA_LOSS=15]="DATA_LOSS";const Dp=new Bn([4294967295,4294967295],0);function qh(i){const e=function Ic(){return new TextEncoder}().encode(i),n=new nr;return n.update(e),new Uint8Array(n.digest())}function Ap(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Bn([n,o],0),new Bn([u,l],0)]}class Il{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new Tl(`Invalid padding: ${n}`);if(o<0)throw new Tl(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Tl(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new Tl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Bn.fromNumber(this.Te)}de(e,n,o){let u=e.add(n.multiply(Bn.fromNumber(o)));return 1===u.compare(Dp)&&(u=new Bn([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=qh(e),[o,u]=Ap(n);for(let l=0;l<this.hashCount;l++){const f=this.de(o,u,l);if(!this.Ae(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new Il(l,u,n);return o.forEach(A=>f.insert(A)),f}insert(e){if(0===this.Te)return;const n=qh(e),[o,u]=Ap(n);for(let l=0;l<this.hashCount;l++){const f=this.de(o,u,l);this.Re(f)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tc{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,wl.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Tc(Kt.min(),u,new oi(gn),hs(),xn())}}class wl{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new wl(o,n,xn(),xn(),xn())}}class Dl{constructor(e,n,o,u){this.Ve=e,this.removedTargetIds=n,this.key=o,this.me=u}}class Cp{constructor(e,n){this.targetId=e,this.fe=n}}class Sp{constructor(e,n,o=ns.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Cd{constructor(){this.ge=0,this.pe=wc(),this.ye=ns.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=xn(),n=xn(),o=xn();return this.pe.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:Lt()}}),new wl(this.ye,this.we,e,n,o)}Fe(){this.Se=!1,this.pe=wc()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Kh{constructor(e){this.Le=e,this.ke=new Map,this.qe=hs(),this.Qe=bp(),this.Ke=new oi(gn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const o=this.ze(n);switch(e.state){case 0:this.je(n)&&o.Ce(e.resumeToken);break;case 1:o.Ne(),o.be||o.Fe(),o.Ce(e.resumeToken);break;case 2:o.Ne(),o.be||this.removeTarget(n);break;case 3:this.je(n)&&(o.Be(),o.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),o.Ce(e.resumeToken));break;default:Lt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((o,u)=>{this.je(u)&&n(u)})}Je(e){const n=e.targetId,o=e.fe.count,u=this.Ye(n);if(u){const l=u.target;if(ma(l))if(0===o){const f=new Ot(l.path);this.We(n,f,ai.newNoDocument(f,Kt.min()))}else Ft(1===o);else{const f=this.Ze(n);if(f!==o){const A=this.Xe(e),R=A?this.et(A,e,f):1;0!==R&&(this.He(n),this.Ke=this.Ke.insert(n,2===R?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:l=0}=n;let f,A;try{f=Ds(o).toUint8Array()}catch(R){if(R instanceof Pu)return Zn("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw R}try{A=new Il(f,u,l)}catch(R){return Zn(R instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",R),null}return 0===A.Te?null:A}et(e,n,o){return n.fe.count===o-this.rt(e,n.targetId)?0:2}rt(e,n){const o=this.Le.getRemoteKeysForTarget(n);let u=0;return o.forEach(l=>{const f=this.Le.nt(),A=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;e.mightContain(A)||(this.We(n,l,null),u++)}),u}it(e){const n=new Map;this.ke.forEach((l,f)=>{const A=this.Ye(f);if(A){if(l.current&&ma(A.target)){const R=new Ot(A.target.path);null!==this.qe.get(R)||this.st(f,R)||this.We(f,R,ai.newNoDocument(R,e))}l.De&&(n.set(f,l.ve()),l.Fe())}});let o=xn();this.Qe.forEach((l,f)=>{let A=!0;f.forEachWhile(R=>{const k=this.Ye(R);return!k||"TargetPurposeLimboResolution"===k.purpose||(A=!1,!1)}),A&&(o=o.add(l))}),this.qe.forEach((l,f)=>f.setReadTime(e));const u=new Tc(e,n,this.Ke,this.qe,o);return this.qe=hs(),this.Qe=bp(),this.Ke=new oi(gn),u}Ue(e,n){if(!this.je(e))return;const o=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,o),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,o){if(!this.je(e))return;const u=this.ze(e);this.st(e,n)?u.Me(n,1):u.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),o&&(this.qe=this.qe.insert(n,o))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Cd,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new br(gn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||at("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Cd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function bp(){return new oi(Ot.comparator)}function wc(){return new oi(Ot.comparator)}const E={asc:"ASCENDING",desc:"DESCENDING"},h={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p={and:"AND",or:"OR"};class D{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function V(i,e){return i.useProto3Json||Dn(e)?e:{value:e}}function Z(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Te(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Ke(i,e){return Z(i,e.toTimestamp())}function nt(i){return Ft(!!i),Kt.fromTimestamp(function(n){const o=Go(n);return new ni(o.seconds,o.nanos)}(i))}function Ht(i,e){return(o=i,new lr(["projects",o.projectId,"databases",o.database])).child("documents").child(e).canonicalString();var o}function sn(i){const e=lr.fromString(i);return Ft(Rd(e)),e}function Yn(i,e){return Ht(i.databaseId,e.path)}function ki(i,e){const n=sn(e);if(n.get(1)!==i.databaseId.projectId)throw new it(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new it(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ot(Ac(n))}function aa(i,e){return Ht(i.databaseId,e)}function $u(i){return new lr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ac(i){return Ft(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function ju(i,e,n){return{name:Yn(i,e),fields:n.value.mapValue.fields}}function ka(i,e){return{documents:[aa(i,e.path)]}}function zu(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=aa(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=aa(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(R){if(0!==R.length)return Yh(Gr.create(R,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(R){if(0!==R.length)return R.map(k=>{return{field:ou((ne=k).field),direction:Zh(ne.dir)};var ne})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=V(i,e.limit);return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(n.structuredQuery.endAt=function(R){return{before:!R.inclusive,values:R.position}}(e.endAt)),n;var R}function bd(i){let e=function Dc(i){const e=sn(i);return 4===e.length?lr.emptyPath():Ac(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Ft(1===o);const H=n.from[0];H.allDescendants?u=H.collectionId:e=e.child(H.collectionId)}let l=[];n.where&&(l=function(ne){const ve=Oy(ne);return ve instanceof Gr&&qo(ve)?ve.getFilters():[ve]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(ve=>{return new pc(bc((ft=ve).field),function(Ct){switch(Ct){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ft.direction));var ft}));let A=null;n.limit&&(A=function(ne){let ve;return ve="object"==typeof ne?ne.value:ne,Dn(ve)?null:ve}(n.limit));let R=null;var ne;n.startAt&&(R=new oa((ne=n.startAt).values||[],!!ne.before));let k=null;return n.endAt&&(k=function(ne){return new oa(ne.values||[],!ne.before)}(n.endAt)),function kh(i,e,n,o,u,l,f,A){return new Ko(i,e,n,o,u,l,f,A)}(e,u,f,l,A,"F",R,k)}function Oy(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=bc(n.unaryFilter.field);return dr.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=bc(n.unaryFilter.field);return dr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=bc(n.unaryFilter.field);return dr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=bc(n.unaryFilter.field);return dr.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Lt()}}(i):void 0!==i.fieldFilter?dr.create(bc((n=i).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return Gr.create(n.compositeFilter.filters.map(o=>Oy(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Lt()}}(n.compositeFilter.op))}(i):Lt();var n}function Zh(i){return E[i]}function xy(i){return h[i]}function Om(i){return p[i]}function ou(i){return{fieldPath:i.canonicalString()}}function bc(i){return Ai.fromServerFormat(i.fieldPath)}function Yh(i){return i instanceof dr?function(n){if("=="===n.op){if(uo(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NAN"}};if(al(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(uo(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NOT_NAN"}};if(al(n.value))return{unaryFilter:{field:ou(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ou(n.field),op:xy(n.op),value:n.value}}}(i):i instanceof Gr?function(n){const o=n.getFilters().map(u=>Yh(u));return 1===o.length?o[0]:{compositeFilter:{op:Om(n.op),filters:o}}}(i):Lt()}function xm(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Rd(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Qo{constructor(e,n,o,u,l=Kt.min(),f=Kt.min(),A=ns.EMPTY_BYTE_STRING,R=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=A,this.expectedCount=R}withSequenceNumber(e){return new Qo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Rp{constructor(e){this.ut=e}}function Mp(i){const e=bd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Fu(e,e.limit,"L"):e}class Cl{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Ci(e.integerValue));else if("doubleValue"in e){const o=Ci(e.doubleValue);isNaN(o)?this.Tt(n,13):(this.Tt(n,15),Er(o)?n.Et(0):n.Et(o))}else if("timestampValue"in e){const o=e.timestampValue;this.Tt(n,20),"string"==typeof o?n.dt(o):(n.dt(`${o.seconds||""}`),n.Et(o.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Ds(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.Tt(n,45),n.Et(o.latitude||0),n.Et(o.longitude||0)}else"mapValue"in e?Nu(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Lt()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const o=e.fields||{};this.Tt(n,55);for(const u of Object.keys(o))this.At(u,n),this.Pt(o[u],n)}yt(e,n){const o=e.values||[];this.Tt(n,50);for(const u of o)this.Pt(u,n)}ft(e,n){this.Tt(n,37),Ot.fromName(e).path.forEach(o=>{this.Tt(n,60),this.wt(o,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Cl.St=new Cl;class Vy{constructor(){this.on=new Vp}addToCollectionParentIndex(e,n){return this.on.add(n),Oe.resolve()}getCollectionParents(e,n){return Oe.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Oe.resolve()}deleteFieldIndex(e,n){return Oe.resolve()}deleteAllFieldIndexes(e){return Oe.resolve()}createTargetIndexes(e,n){return Oe.resolve()}getDocumentsMatchingTarget(e,n){return Oe.resolve(null)}getIndexType(e,n){return Oe.resolve(0)}getFieldIndexes(e,n){return Oe.resolve([])}getNextCollectionGroupToUpdate(e){return Oe.resolve(null)}getMinOffset(e,n){return Oe.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,n){return Oe.resolve(ks.min())}updateCollectionGroup(e,n,o){return Oe.resolve()}updateIndexEntries(e,n){return Oe.resolve()}}class Vp{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new br(lr.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new br(lr.comparator)).toArray()}}new Uint8Array(0);class Bi{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Bi(e,Bi.DEFAULT_COLLECTION_PERCENTILE,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Bi.DEFAULT_COLLECTION_PERCENTILE=10,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bi.DEFAULT=new Bi(41943040,Bi.DEFAULT_COLLECTION_PERCENTILE,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bi.DISABLED=new Bi(-1,0,0);class cu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new cu(0)}static Nn(){return new cu(-1)}}class Hp{constructor(){this.changes=new ya(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ai.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Oe.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Gy{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Wm{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&Ec(o.mutation,u,Ls.empty(),ni.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,xn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=xn()){const u=Co();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=dl();return l.forEach((A,R)=>{f=f.insert(A,R.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=Co();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,xn()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,A)=>{n.set(f,A)})})}computeViews(e,n,o,u){let l=hs();const f=fl(),A=fl();return n.forEach((R,k)=>{const H=o.get(k.key);u.has(k.key)&&(void 0===H||H.mutation instanceof xa)?l=l.insert(k.key,k):void 0!==H?(f.set(k.key,H.mutation.getFieldMask()),Ec(H.mutation,k,H.mutation.getFieldMask(),ni.now())):f.set(k.key,Ls.empty())}),this.recalculateAndSaveOverlays(e,l).next(R=>(R.forEach((k,H)=>f.set(k,H)),n.forEach((k,H)=>{var ne;return A.set(k,new Gy(H,null!==(ne=f.get(k))&&void 0!==ne?ne:null))}),A))}recalculateAndSaveOverlays(e,n){const o=fl();let u=new oi((f,A)=>f-A),l=xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const A of f)A.keys().forEach(R=>{const k=n.get(R);if(null===k)return;let H=o.get(R)||Ls.empty();H=A.applyToLocalView(k,H),o.set(R,H);const ne=(u.get(A.batchId)||xn()).add(R);u=u.insert(A.batchId,ne)})}).next(()=>{const f=[],A=u.getReverseIterator();for(;A.hasNext();){const R=A.getNext(),k=R.key,H=R.value,ne=Vh();H.forEach(ve=>{if(!l.has(ve)){const He=Bu(n.get(ve),o.get(ve));null!==He&&ne.set(ve,He),l=l.add(ve)}}),f.push(this.documentOverlayCache.saveOverlays(e,k,ne))}return Oe.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,u){return Ot.isDocumentKey((f=n).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):gd(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,u):this.getDocumentsMatchingCollectionQuery(e,n,o,u);var f}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Oe.resolve(Co());let A=-1,R=l;return f.next(k=>Oe.forEach(k,(H,ne)=>(A<ne.largestBatchId&&(A=ne.largestBatchId),l.get(H)?Oe.resolve():this.remoteDocumentCache.getEntry(e,H).next(ve=>{R=R.insert(H,ve)}))).next(()=>this.populateOverlays(e,k,l)).next(()=>this.computeViews(e,R,k,xn())).next(H=>({batchId:A,changes:hl(H)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ot(n)).next(o=>{let u=dl();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o,u){const l=n.collectionGroup;let f=dl();return this.indexManager.getCollectionParents(e,l).next(A=>Oe.forEach(A,R=>{const k=(ne=n,ve=R.child(l),new Ko(ve,null,ne.explicitOrderBy.slice(),ne.filters.slice(),ne.limit,ne.limitType,ne.startAt,ne.endAt));var ne,ve;return this.getDocumentsMatchingCollectionQuery(e,k,o,u).next(H=>{H.forEach((ne,ve)=>{f=f.insert(ne,ve)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,o,u){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(f=>(l=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,l,u))).next(f=>{l.forEach((R,k)=>{const H=k.getKey();null===f.get(H)&&(f=f.insert(H,ai.newInvalidDocument(H)))});let A=dl();return f.forEach((R,k)=>{const H=l.get(R);void 0!==H&&Ec(H.mutation,k,Ls.empty(),ni.now()),Na(n,k)&&(A=A.insert(R,k))}),A})}}class qm{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Oe.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(u=n).id,version:u.version,createTime:nt(u.createTime)}),Oe.resolve();var u}getNamedQuery(e,n){return Oe.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(u=n).name,query:Mp(u.bundledQuery),readTime:nt(u.readTime)}),Oe.resolve();var u}}class gI{constructor(){this.overlays=new oi(Ot.comparator),this.lr=new Map}getOverlay(e,n){return Oe.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Co();return Oe.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.lt(e,n,l)}),Oe.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.lr.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.lr.delete(o)),Oe.resolve()}getOverlaysForCollection(e,n,o){const u=Co(),l=n.length+1,f=new Ot(n.child("")),A=this.overlays.getIteratorFrom(f);for(;A.hasNext();){const R=A.getNext().value,k=R.getKey();if(!n.isPrefixOf(k.path))break;k.path.length===l&&R.largestBatchId>o&&u.set(R.getKey(),R)}return Oe.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new oi((k,H)=>k-H);const f=this.overlays.getIterator();for(;f.hasNext();){const k=f.getNext().value;if(k.getKey().getCollectionGroup()===n&&k.largestBatchId>o){let H=l.get(k.largestBatchId);null===H&&(H=Co(),l=l.insert(k.largestBatchId,H)),H.set(k.getKey(),k)}}const A=Co(),R=l.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((k,H)=>A.set(k,H)),!(A.size()>=u)););return Oe.resolve(A)}lt(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.lr.get(u.largestBatchId).delete(o.key);this.lr.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new El(n,o));let l=this.lr.get(n);void 0===l&&(l=xn(),this.lr.set(n,l)),this.lr.set(n,l.add(o.key))}}class Km{constructor(){this.hr=new br(is.Pr),this.Ir=new br(is.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const o=new is(e,n);this.hr=this.hr.add(o),this.Ir=this.Ir.add(o)}Er(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.dr(new is(e,n))}Ar(e,n){e.forEach(o=>this.removeReference(o,n))}Rr(e){const n=new Ot(new lr([])),o=new is(n,e),u=new is(n,e+1),l=[];return this.Ir.forEachInRange([o,u],f=>{this.dr(f),l.push(f.key)}),l}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Ot(new lr([])),o=new is(n,e),u=new is(n,e+1);let l=xn();return this.Ir.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new is(e,0),o=this.hr.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class is{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Ot.comparator(e.key,n.key)||gn(e.gr,n.gr)}static Tr(e,n){return gn(e.gr,n.gr)||Ot.comparator(e.key,n.key)}}class Bd{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new br(is.Pr)}checkEmpty(e){return Oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.pr;this.pr++;const f=new zh(l,n,o,u);this.mutationQueue.push(f);for(const A of u)this.yr=this.yr.add(new is(A.key,l)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return Oe.resolve(f)}lookupMutationBatch(e,n){return Oe.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.Sr(n+1),l=u<0?0:u;return Oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new is(n,0),u=new is(n,Number.POSITIVE_INFINITY),l=[];return this.yr.forEachInRange([o,u],f=>{const A=this.wr(f.gr);l.push(A)}),Oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new br(gn);return n.forEach(u=>{const l=new is(u,0),f=new is(u,Number.POSITIVE_INFINITY);this.yr.forEachInRange([l,f],A=>{o=o.add(A.gr)})}),Oe.resolve(this.br(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;Ot.isDocumentKey(l)||(l=l.child(""));const f=new is(new Ot(l),0);let A=new br(gn);return this.yr.forEachWhile(R=>{const k=R.key.path;return!!o.isPrefixOf(k)&&(k.length===u&&(A=A.add(R.gr)),!0)},f),Oe.resolve(this.br(A))}br(e){const n=[];return e.forEach(o=>{const u=this.wr(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Ft(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let o=this.yr;return Oe.forEach(n.mutations,u=>{const l=new is(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.yr=o})}Fn(e){}containsKey(e,n){const o=new is(n,0),u=this.yr.firstAfterOrEqual(o);return Oe.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Oe.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Qm{constructor(e){this.Cr=e,this.docs=new oi(Ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Cr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Oe.resolve(o?o.document.mutableCopy():ai.newInvalidDocument(n))}getEntries(e,n){let o=hs();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():ai.newInvalidDocument(u))}),Oe.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=hs();const f=n.path,A=new Ot(f.child("")),R=this.docs.getIteratorFrom(A);for(;R.hasNext();){const{key:k,value:{document:H}}=R.getNext();if(!f.isPrefixOf(k.path))break;k.path.length>f.length+1||ia(ao(H),o)<=0||(u.has(H.key)||Na(n,H))&&(l=l.insert(H.key,H.mutableCopy()))}return Oe.resolve(l)}getAllFromCollectionGroup(e,n,o,u){Lt()}vr(e,n){return Oe.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Zm(this)}getSize(e){return Oe.resolve(this.size)}}class Zm extends Hp{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this._r.addEntry(e,u)):this._r.removeEntry(o)}),Oe.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class zp{constructor(e){this.persistence=e,this.Fr=new ya(n=>ls(n),nu),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Km,this.targetCount=0,this.Nr=cu.On()}forEachTarget(e,n){return this.Fr.forEach((o,u)=>n(u)),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Mr&&(this.Mr=n),Oe.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new cu(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Oe.resolve()}updateTargetData(e,n){return this.kn(n),Oe.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.Fr.forEach((f,A)=>{A.sequenceNumber<=n&&null===o.get(A.targetId)&&(this.Fr.delete(f),l.push(this.removeMatchingKeysForTargetId(e,A.targetId)),u++)}),Oe.waitFor(l).next(()=>u)}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,n){const o=this.Fr.get(n)||null;return Oe.resolve(o)}addMatchingKeys(e,n,o){return this.Or.Er(n,o),Oe.resolve()}removeMatchingKeys(e,n,o){this.Or.Ar(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),Oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Oe.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Or.mr(n);return Oe.resolve(o)}containsKey(e,n){return Oe.resolve(this.Or.containsKey(n))}}class $d{constructor(e,n){this.Br={},this.overlays={},this.Lr=new yt(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new zp(this),this.indexManager=new Vy,this.remoteDocumentCache=new Qm(o=>this.referenceDelegate.Qr(o)),this.serializer=new Rp(n),this.Kr=new qm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Br[e.toKey()];return o||(o=new Bd(n,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,o){at("MemoryPersistence","Starting transaction:",e);const u=new Wy(this.Lr.next());return this.referenceDelegate.$r(),o(u).next(l=>this.referenceDelegate.Ur(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Wr(e,n){return Oe.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,n)))}}class Wy extends op{constructor(e){super(),this.currentSequenceNumber=e}}class jd{constructor(e){this.persistence=e,this.Gr=new Km,this.zr=null}static jr(e){return new jd(e)}get Hr(){if(this.zr)return this.zr;throw Lt()}addReference(e,n,o){return this.Gr.addReference(o,n),this.Hr.delete(o.toString()),Oe.resolve()}removeReference(e,n,o){return this.Gr.removeReference(o,n),this.Hr.add(o.toString()),Oe.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Oe.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(u=>this.Hr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Hr.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.Hr,o=>{const u=Ot.fromPath(o);return this.Jr(e,u).next(l=>{l||n.removeEntry(u,Kt.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(o=>{o?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Oe.or([()=>Oe.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class hu{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.ki=o,this.qi=u}static Qi(e,n){let o=xn(),u=xn();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new hu(e,n.fromCache,o,u)}}class Ky{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lf{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,o,u){const l={result:null};return this.zi(e,n).next(f=>{l.result=f}).next(()=>{if(!l.result)return this.ji(e,n,u,o).next(f=>{l.result=f})}).next(()=>{if(l.result)return;const f=new Ky;return this.Hi(e,n,f).next(A=>{if(l.result=A,this.$i)return this.Ji(e,n,f,A.size)})}).next(()=>l.result)}Ji(e,n,o,u){return o.documentReadCount<this.Ui?(Qs()<=ge.in.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ma(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Oe.resolve()):(Qs()<=ge.in.DEBUG&&at("QueryEngine","Query:",Ma(n),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Wi*u?(Qs()<=ge.in.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ma(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ds(n))):Oe.resolve())}zi(e,n){if(Lh(n))return Oe.resolve(null);let o=ds(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Fu(n,null,"F"),o=ds(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=xn(...l);return this.Gi.getDocuments(e,f).next(A=>this.indexManager.getMinOffset(e,o).next(R=>{const k=this.Yi(n,A);return this.Zi(n,k,f,R.readTime)?this.zi(e,Fu(n,null,"F")):this.Xi(e,k,n,R)}))})))}ji(e,n,o,u){return Lh(n)||u.isEqual(Kt.min())?Oe.resolve(null):this.Gi.getDocuments(e,o).next(l=>{const f=this.Yi(n,l);return this.Zi(n,f,o,u)?Oe.resolve(null):(Qs()<=ge.in.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Ma(n)),this.Xi(e,f,n,function Da(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Kt.fromTimestamp(1e9===o?new ni(n+1,0):new ni(n,o));return new ks(u,Ot.empty(),e)}(u,-1)).next(A=>A))})}Yi(e,n){let o=new br(md(e));return n.forEach((u,l)=>{Na(e,l)&&(o=o.add(l))}),o}Zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Hi(e,n,o){return Qs()<=ge.in.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ma(n)),this.Gi.getDocumentsMatchingQuery(e,n,ks.min(),o)}Xi(e,n,o,u){return this.Gi.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class df{constructor(e,n,o,u){this.persistence=e,this.es=n,this.serializer=u,this.ts=new oi(gn),this.ns=new ya(l=>ls(l),nu),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(o)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wm(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function hf(i,e){return Nl.apply(this,arguments)}function Nl(){return Nl=(0,ie.Z)(function*(i,e){const n=At(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.os(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],A=[];let R=xn();for(const k of u){f.push(k.batchId);for(const H of k.mutations)R=R.add(H.key)}for(const k of l){A.push(k.batchId);for(const H of k.mutations)R=R.add(H.key)}return n.localDocuments.getDocuments(o,R).next(k=>({_s:k,removedBatchIds:f,addedBatchIds:A}))})})}),Nl.apply(this,arguments)}function xc(i){const e=At(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Qy(i,e){const n=At(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Ia(i,e,n){return qp.apply(this,arguments)}function qp(){return qp=(0,ie.Z)(function*(i,e,n){const o=At(i),u=o.ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!y(f))throw f;at("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.ts=o.ts.remove(e),o.ns.delete(u.target)}),qp.apply(this,arguments)}function ff(i,e,n){const o=At(i);let u=Kt.min(),l=xn();return o.persistence.runTransaction("Execute query","readwrite",f=>function(R,k,H){const ne=At(R),ve=ne.ns.get(H);return void 0!==ve?Oe.resolve(ne.ts.get(ve)):ne.qr.getTargetData(k,H)}(o,f,ds(e)).next(A=>{if(A)return u=A.lastLimboFreeSnapshotVersion,o.qr.getMatchingKeysForTargetId(f,A.targetId).next(R=>{l=R})}).next(()=>o.es.getDocumentsMatchingQuery(f,e,n?u:Kt.min(),n?l:xn())).next(A=>(function Kp(i,e,n){let o=i.rs.get(e)||Kt.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.rs.set(e,o)}(o,function yc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),A),{documents:A,ls:l})))}class Wd{constructor(){this.activeTargetIds=function yd(){return Uh}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fc{constructor(){this.eo=new Wd,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,o){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Wd,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xp{ro(e){}shutdown(){}}class _f{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){at("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){at("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qu=null;function Ol(){return null===Qu?Qu=268435456+Math.round(2147483648*Math.random()):Qu++,"0x"+Qu.toString(16)}const xl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eg{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Xs="WebChannelConnection";class yf extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.mo=o+"://"+n.host,this.fo=`projects/${u}/databases/${l}`,this.po="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${l}`}get yo(){return!1}wo(n,o,u,l,f){const A=Ol(),R=this.So(n,o);at("RestConnection",`Sending RPC '${n}' ${A}:`,R,u);const k={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(k,l,f),this.Do(n,R,k,u).then(H=>(at("RestConnection",`Received RPC '${n}' ${A}: `,H),H),H=>{throw Zn("RestConnection",`RPC '${n}' ${A} failed with error: `,H,"url: ",R,"request:",u),H})}Co(n,o,u,l,f,A){return this.wo(n,o,u,l,f)}bo(n,o,u){n["X-Goog-Api-Client"]="gl-js/ fire/"+Qi,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((l,f)=>n[f]=l),u&&u.headers.forEach((l,f)=>n[f]=l)}So(n,o){return`${this.mo}/v1/${o}:${xl[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,o,u){const l=Ol();return new Promise((f,A)=>{const R=new Lr;R.setWithCredentials(!0),R.listenOnce(vt.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case je.NO_ERROR:const H=R.getResponseJson();at(Xs,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(H)),f(H);break;case je.TIMEOUT:at(Xs,`RPC '${e}' ${l} timed out`),A(new it(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case je.HTTP_ERROR:const ne=R.getStatus();if(at(Xs,`RPC '${e}' ${l} failed with status:`,ne,"response text:",R.getResponseText()),ne>0){let ve=R.getResponseJson();Array.isArray(ve)&&(ve=ve[0]);const He=ve?.error;if(He&&He.status&&He.message){const ft=function(Ct){const mn=Ct.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(mn)>=0?mn:Ge.UNKNOWN}(He.status);A(new it(ft,He.message))}else A(new it(Ge.UNKNOWN,"Server responded with status "+R.getStatus()))}else A(new it(Ge.UNAVAILABLE,"Connection failed."));break;default:Lt()}}finally{at(Xs,`RPC '${e}' ${l} completed.`)}});const k=JSON.stringify(u);at(Xs,`RPC '${e}' ${l} sending request:`,u),R.send(n,"POST",k,o,15)})}vo(e,n,o){const u=Ol(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=te(),A=Ie(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},k=this.longPollingOptions.timeoutSeconds;void 0!==k&&(R.longPollingTimeout=Math.round(1e3*k)),this.useFetchStreams&&(R.xmlHttpFactory=new zn({})),this.bo(R.initMessageHeaders,n,o),R.encodeInitMessageHeaders=!0;const H=l.join("");at(Xs,`Creating RPC '${e}' stream ${u}: ${H}`,R);const ne=f.createWebChannel(H,R);let ve=!1,He=!1;const ft=new eg({co:Ct=>{He?at(Xs,`Not sending because RPC '${e}' stream ${u} is closed:`,Ct):(ve||(at(Xs,`Opening RPC '${e}' stream ${u} transport.`),ne.open(),ve=!0),at(Xs,`RPC '${e}' stream ${u} sending:`,Ct),ne.send(Ct))},lo:()=>ne.close()}),Dt=(Ct,mn,yn)=>{Ct.listen(mn,vn=>{try{yn(vn)}catch(fr){setTimeout(()=>{throw fr},0)}})};return Dt(ne,zt.EventType.OPEN,()=>{He||at(Xs,`RPC '${e}' stream ${u} transport opened.`)}),Dt(ne,zt.EventType.CLOSE,()=>{He||(He=!0,at(Xs,`RPC '${e}' stream ${u} transport closed`),ft.Ro())}),Dt(ne,zt.EventType.ERROR,Ct=>{He||(He=!0,Zn(Xs,`RPC '${e}' stream ${u} transport errored:`,Ct),ft.Ro(new it(Ge.UNAVAILABLE,"The operation could not be completed")))}),Dt(ne,zt.EventType.MESSAGE,Ct=>{var mn;if(!He){const yn=Ct.data[0];Ft(!!yn);const fr=yn.error||(null===(mn=yn[0])||void 0===mn?void 0:mn.error);if(fr){at(Xs,`RPC '${e}' stream ${u} received error:`,fr);const ui=fr.status;let Wr=function(OE){const vy=Rr[OE];if(void 0!==vy)return Ad(vy)}(ui),ss=fr.message;void 0===Wr&&(Wr=Ge.INTERNAL,ss="Unknown error status: "+ui+" with message "+fr.message),He=!0,ft.Ro(new it(Wr,ss)),ne.close()}else at(Xs,`RPC '${e}' stream ${u} received:`,yn),ft.Vo(yn)}}),Dt(A,Hn.STAT_EVENT,Ct=>{Ct.stat===bn.PROXY?at(Xs,`RPC '${e}' stream ${u} detected buffering proxy`):Ct.stat===bn.NOPROXY&&at(Xs,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{ft.Ao()},0),ft}}function kl(){return typeof document<"u"?document:null}function fu(i){return new D(i,!0)}class tg{constructor(e,n,o=1e3,u=1.5,l=6e4){this.si=e,this.timerId=n,this.Fo=o,this.Mo=u,this.xo=l,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),o=Math.max(0,Date.now()-this.Bo),u=Math.max(0,n-o);u>0&&at("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,u,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class ng{constructor(e,n,o,u,l,f,A,R){this.si=e,this.Ko=o,this.$o=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=A,this.listener=R,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new tg(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,ie.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,ie.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var o=this;return(0,ie.Z)(function*(){o.t_(),o.n_(),o.zo.cancel(),o.Uo++,4!==e?o.zo.reset():n&&n.code===Ge.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),o.zo.Lo()):n&&n.code===Ge.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.r_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Uo===n&&this.s_(o,u)},o=>{e(()=>{const u=new it(Ge.UNKNOWN,"Fetching auth token failed: "+o.message);return this.o_(u)})})}s_(e,n){const o=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{o(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(u=>{o(()=>this.o_(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Jo(){var e=this;this.state=5,this.zo.ko((0,ie.Z)(function*(){e.state=0,e.start()}))}o_(e){return at("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(at("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jy extends ng{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Qh(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(k=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===k?1:"REMOVE"===k?2:"CURRENT"===k?3:"RESET"===k?4:Lt(),u=e.targetChange.targetIds||[],l=function(k,H){return k.useProto3Json?(Ft(void 0===H||"string"==typeof H),ns.fromBase64String(H||"")):(Ft(void 0===H||H instanceof Uint8Array),ns.fromUint8Array(H||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,A=f&&function(k){const H=void 0===k.code?Ge.UNKNOWN:Ad(k.code);return new it(H,k.message||"")}(f);n=new Sp(o,u,l,A||null)}else if("documentChange"in e){const o=e.documentChange,u=ki(i,o.document.name),l=nt(o.document.updateTime),f=o.document.createTime?nt(o.document.createTime):Kt.min(),A=new xi({mapValue:{fields:o.document.fields}}),R=ai.newFoundDocument(u,l,f,A);n=new Dl(o.targetIds||[],o.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const o=e.documentDelete,u=ki(i,o.document),l=o.readTime?nt(o.readTime):Kt.min(),f=ai.newNoDocument(u,l);n=new Dl([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=ki(i,o.document);n=new Dl([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Lt();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new Nm(u,l);n=new Cp(o.targetId,f)}}var k;return n}(this.serializer,e),o=function(l){if(!("targetChange"in l))return Kt.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?Kt.min():f.readTime?nt(f.readTime):Kt.min()}(e);return this.listener.a_(n,o)}u_(e){const n={};n.database=$u(this.serializer),n.addTarget=function(l,f){let A;const R=f.target;if(A=ma(R)?{documents:ka(l,R)}:{query:zu(l,R)},A.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){A.resumeToken=Te(l,f.resumeToken);const k=V(l,f.expectedCount);null!==k&&(A.expectedCount=k)}else if(f.snapshotVersion.compareTo(Kt.min())>0){A.readTime=Z(l,f.snapshotVersion.toTimestamp());const k=V(l,f.expectedCount);null!==k&&(A.expectedCount=k)}return A}(this.serializer,e);const o=function Ny(i,e){const n=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Lt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.e_(n)}c_(e){const n={};n.database=$u(this.serializer),n.removeTarget=e,this.e_(n)}}class Xy extends ng{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Sd(i,e){return i&&i.length>0?(Ft(void 0!==e),i.map(n=>function(u,l){let f=nt(u.updateTime?u.updateTime:l);return f.isEqual(Kt.min())&&(f=nt(l)),new wd(f,u.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=nt(e.commitTime);return this.listener.I_(o,n)}return Ft(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=$u(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function Hu(i,e){let n;if(e instanceof Oa)n={update:ju(i,e.key,e.value)};else if(e instanceof iu)n={delete:Yn(i,e.key)};else if(e instanceof xa)n={update:ju(i,e.key,e.data),updateMask:xm(e.fieldMask)};else{if(!(e instanceof Hh))return Lt();n={verify:Yn(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(l,f){const A=f.transform;if(A instanceof pl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(A instanceof vc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:A.elements}};if(A instanceof Uu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:A.elements}};if(A instanceof gl)return{fieldPath:f.field.canonicalString(),increment:A.Ie};throw Lt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:Ke(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Lt()),n;var l}(this.serializer,o))};this.e_(n)}}class rg extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.d_=!1}A_(){if(this.d_)throw new it(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.wo(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new it(Ge.UNKNOWN,u.toString())})}Co(e,n,o,u){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.Co(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new it(Ge.UNKNOWN,l.toString())})}terminate(){this.d_=!0}}class ev{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(cr(n),this.f_=!1):at("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class mI{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=l,this.F_.ro(A=>{o.enqueueAndForget((0,ie.Z)(function*(){var R;pu(f)&&(at("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,ie.Z)(function*(H){const ne=At(H);ne.C_.add(4),yield Zu(ne),ne.M_.set("Unknown"),ne.C_.delete(4),yield Kd(ne)}),function k(H){return R.apply(this,arguments)})(f))}))}),this.M_=new ev(o,u)}}function Kd(i){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,ie.Z)(function*(i){if(pu(i))for(const e of i.v_)yield e(!0)}),Ll.apply(this,arguments)}function Zu(i){return sg.apply(this,arguments)}function sg(){return sg=(0,ie.Z)(function*(i){for(const e of i.v_)yield e(!1)}),sg.apply(this,arguments)}function Qd(i,e){const n=At(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),og(n)?vf(n):Bc(n).Ho()&&Fl(n,e))}function Vc(i,e){const n=At(i),o=Bc(n);n.D_.delete(e),o.Ho()&&i_(n,e),0===n.D_.size&&(o.Ho()?o.Zo():pu(n)&&n.M_.set("Unknown"))}function Fl(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Kt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bc(i).u_(e)}function i_(i,e){i.x_.Oe(e),Bc(i).c_(e)}function vf(i){i.x_=new Kh({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Bc(i).start(),i.M_.g_()}function og(i){return pu(i)&&!Bc(i).jo()&&i.D_.size>0}function pu(i){return 0===At(i).C_.size}function tv(i){i.x_=void 0}function nv(i){return Uc.apply(this,arguments)}function Uc(){return Uc=(0,ie.Z)(function*(i){i.D_.forEach((e,n)=>{Fl(i,e)})}),Uc.apply(this,arguments)}function rv(i,e){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,ie.Z)(function*(i,e){tv(i),og(i)?(i.M_.w_(e),vf(i)):i.M_.set("Unknown")}),Yu.apply(this,arguments)}function Zd(i,e,n){return ag.apply(this,arguments)}function ag(){return ag=(0,ie.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof Sp&&2===e.state&&e.cause)try{yield(o=(0,ie.Z)(function*(l,f){const A=f.cause;for(const R of f.targetIds)l.D_.has(R)&&(yield l.remoteSyncer.rejectListen(R,A),l.D_.delete(R),l.x_.removeTarget(R))}),function u(l,f){return o.apply(this,arguments)})(i,e)}catch(o){at("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Yd(i,o)}else if(e instanceof Dl?i.x_.$e(e):e instanceof Cp?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(Kt.min()))try{const o=yield xc(i.localStore);n.compareTo(o)>=0&&(yield function(l,f){const A=l.x_.it(f);return A.targetChanges.forEach((R,k)=>{if(R.resumeToken.approximateByteSize()>0){const H=l.D_.get(k);H&&l.D_.set(k,H.withResumeToken(R.resumeToken,f))}}),A.targetMismatches.forEach((R,k)=>{const H=l.D_.get(R);if(!H)return;l.D_.set(R,H.withResumeToken(ns.EMPTY_BYTE_STRING,H.snapshotVersion)),i_(l,R);const ne=new Qo(H.target,R,k,H.sequenceNumber);Fl(l,ne)}),l.remoteSyncer.applyRemoteEvent(A)}(i,n))}catch(o){at("RemoteStore","Failed to raise snapshot:",o),yield Yd(i,o)}var o}),ag.apply(this,arguments)}function Yd(i,e,n){return ug.apply(this,arguments)}function ug(){return ug=(0,ie.Z)(function*(i,e,n){if(!y(e))throw e;i.C_.add(1),yield Zu(i),i.M_.set("Offline"),n||(n=()=>xc(i.localStore)),i.asyncQueue.enqueueRetryable((0,ie.Z)(function*(){at("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield Kd(i)}))}),ug.apply(this,arguments)}function s_(i,e){return e().catch(n=>Yd(i,n,e))}function Vl(i){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,ie.Z)(function*(i){const e=At(i),n=$c(e);let o=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;o_(e);)try{const u=yield Qy(e.localStore,o);if(null===u){0===e.b_.length&&n.Zo();break}o=u.batchId,cg(e,u)}catch(u){yield Yd(e,u)}iv(e)&&If(e)}),Ef.apply(this,arguments)}function o_(i){return pu(i)&&i.b_.length<10}function cg(i,e){i.b_.push(e);const n=$c(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function iv(i){return pu(i)&&!$c(i).jo()&&i.b_.length>0}function If(i){$c(i).start()}function a_(i){return lg.apply(this,arguments)}function lg(){return lg=(0,ie.Z)(function*(i){$c(i).E_()}),lg.apply(this,arguments)}function sv(i){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,ie.Z)(function*(i){const e=$c(i);for(const n of i.b_)e.P_(n.mutations)}),Tf.apply(this,arguments)}function ov(i,e,n){return wf.apply(this,arguments)}function wf(){return wf=(0,ie.Z)(function*(i,e,n){const o=i.b_.shift(),u=Gh.from(o,e,n);yield s_(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Vl(i)}),wf.apply(this,arguments)}function av(i,e){return dg.apply(this,arguments)}function dg(){return dg=(0,ie.Z)(function*(i,e){var n;e&&$c(i).h_&&(yield(n=(0,ie.Z)(function*(u,l){if(function Wh(i){switch(i){default:return Lt();case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0}}(A=l.code)&&A!==Ge.ABORTED){const f=u.b_.shift();$c(u).Yo(),yield s_(u,()=>u.remoteSyncer.rejectFailedWrite(f.batchId,l)),yield Vl(u)}var A}),function o(u,l){return n.apply(this,arguments)})(i,e)),iv(i)&&If(i)}),dg.apply(this,arguments)}function uv(i,e){return Df.apply(this,arguments)}function Df(){return Df=(0,ie.Z)(function*(i,e){const n=At(i);n.asyncQueue.verifyOperationInProgress(),at("RemoteStore","RemoteStore received new credentials");const o=pu(n);n.C_.add(3),yield Zu(n),o&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Kd(n)}),Df.apply(this,arguments)}function Zo(){return Zo=(0,ie.Z)(function*(i,e){const n=At(i);e?(n.C_.delete(2),yield Kd(n)):e||(n.C_.add(2),yield Zu(n),n.M_.set("Unknown"))}),Zo.apply(this,arguments)}function Bc(i){return i.O_||(i.O_=function(n,o,u){const l=At(n);return l.A_(),new Jy(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(i.datastore,i.asyncQueue,{ho:nv.bind(null,i),Io:rv.bind(null,i),a_:Zd.bind(null,i)}),i.v_.push(function(){var e=(0,ie.Z)(function*(n){n?(i.O_.Yo(),og(i)?vf(i):i.M_.set("Unknown")):(yield i.O_.stop(),tv(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function $c(i){return i.N_||(i.N_=function(n,o,u){const l=At(n);return l.A_(),new Xy(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(i.datastore,i.asyncQueue,{ho:a_.bind(null,i),Io:av.bind(null,i),T_:sv.bind(null,i),I_:ov.bind(null,i)}),i.v_.push(function(){var e=(0,ie.Z)(function*(n){n?(i.N_.Yo(),yield Vl(i)):(yield i.N_.stop(),i.b_.length>0&&(at("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class Jd{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,A=new Jd(e,n,f,u,l);return A.start(o),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new it(Ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yo(i,e){if(cr("AsyncQueue",`${e}: ${i}`),y(i))return new it(Ge.UNAVAILABLE,`${e}: ${i}`);throw i}class Ju{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Ot.comparator(n.key,o.key):(n,o)=>Ot.comparator(n.key,o.key),this.keyedMap=dl(),this.sortedSet=new oi(this.comparator)}static emptySet(e){return new Ju(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ju)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Ju;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class u_{constructor(){this.B_=new oi(Ot.comparator)}track(e){const n=e.doc.key,o=this.B_.get(n);o?0!==e.type&&3===o.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==o.type?this.B_=this.B_.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.B_=this.B_.remove(n):1===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Lt():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,o)=>{e.push(o)}),e}}class Xd{constructor(e,n,o,u,l,f,A,R,k){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=A,this.excludesMetadataChanges=R,this.hasCachedResults=k}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(A=>{f.push({type:0,doc:A})}),new Xd(e,n,Ju.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_a(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class cv{constructor(){this.k_=void 0,this.listeners=[]}}class hg{constructor(){this.queries=new ya(e=>_c(e),_a),this.onlineState="Unknown",this.q_=new Set}}function ua(i,e){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,ie.Z)(function*(i,e){const n=At(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new cv),u)try{l.k_=yield n.onListen(o)}catch(f){const A=Yo(f,`Initialization of query '${Ma(e.query)}' failed`);return void e.onError(A)}n.queries.set(o,l),l.listeners.push(e),e.Q_(n.onlineState),l.k_&&e.K_(l.k_)&&eh(n)}),Cf.apply(this,arguments)}function fg(i,e){return c_.apply(this,arguments)}function c_(){return c_=(0,ie.Z)(function*(i,e){const n=At(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),c_.apply(this,arguments)}function eo(i,e){const n=At(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const A of f.listeners)A.K_(u)&&(o=!0);f.k_=u}}o&&eh(n)}function lv(i,e,n){const o=At(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function eh(i){i.q_.forEach(e=>{e.next()})}class pg{constructor(e,n,o){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=o||{}}K_(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Xd(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Xd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class d_{constructor(e){this.key=e}}class mg{constructor(e){this.key=e}}class _g{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=xn(),this.mutatedKeys=xn(),this._a=md(e),this.aa=new Ju(this._a)}get ua(){return this.ia}ca(e,n){const o=n?n.la:new u_,u=n?n.aa:this.aa;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,A=!1;const R="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,k="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((H,ne)=>{const ve=u.get(H),He=Na(this.query,ne)?ne:null,ft=!!ve&&this.mutatedKeys.has(ve.key),Dt=!!He&&(He.hasLocalMutations||this.mutatedKeys.has(He.key)&&He.hasCommittedMutations);let Ct=!1;ve&&He?ve.data.isEqual(He.data)?ft!==Dt&&(o.track({type:3,doc:He}),Ct=!0):this.ha(ve,He)||(o.track({type:2,doc:He}),Ct=!0,(R&&this._a(He,R)>0||k&&this._a(He,k)<0)&&(A=!0)):!ve&&He?(o.track({type:0,doc:He}),Ct=!0):ve&&!He&&(o.track({type:1,doc:ve}),Ct=!0,(R||k)&&(A=!0)),Ct&&(He?(f=f.add(He),l=Dt?l.add(H):l.delete(H)):(f=f.delete(H),l=l.delete(H)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const H="F"===this.query.limitType?f.last():f.first();f=f.delete(H.key),l=l.delete(H.key),o.track({type:1,doc:H})}return{aa:f,la:o,Zi:A,mutatedKeys:l}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const l=e.la.L_();l.sort((k,H)=>function(ve,He){const ft=Dt=>{switch(Dt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt()}};return ft(ve)-ft(He)}(k.type,H.type)||this._a(k.doc,H.doc)),this.Pa(o);const f=n?this.Ia():[],A=0===this.oa.size&&this.current?1:0,R=A!==this.sa;return this.sa=A,0!==l.length||R?{snapshot:new Xd(this.query,e.aa,u,l,e.mutatedKeys,0===A,R,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ta:f}:{Ta:f}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new u_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=xn(),this.aa.forEach(o=>{this.Ea(o.key)&&(this.oa=this.oa.add(o.key))});const n=[];return e.forEach(o=>{this.oa.has(o)||n.push(new mg(o))}),this.oa.forEach(o=>{e.has(o)||n.push(new d_(o))}),n}da(e){this.ia=e.ls,this.oa=xn();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Xd.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class hv{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class fv{constructor(e){this.key=e,this.Ra=!1}}class pv{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.Va={},this.ma=new ya(A=>_c(A),_a),this.fa=new Map,this.ga=new Set,this.pa=new oi(Ot.comparator),this.ya=new Map,this.wa=new Km,this.Sa={},this.ba=new Map,this.Da=cu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function h_(i,e){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,ie.Z)(function*(i,e){const n=function Sg(i){const e=At(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p_.bind(null,e),e.Va.a_=eo.bind(null,e.eventManager),e.Va.Fa=lv.bind(null,e.eventManager),e}(i);let o,u;const l=n.ma.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.Aa();else{const f=yield function kc(i,e){const n=At(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.qr.getTargetData(o,e).next(l=>l?(u=l,Oe.resolve(u)):n.qr.allocateTargetId(o).next(f=>(u=new Qo(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.qr.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.ts.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ts=n.ts.insert(o.targetId,o),n.ns.set(e,o.targetId)),o})}(n.localStore,ds(e)),A=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function Ta(i,e,n,o,u){return ec.apply(this,arguments)}(n,e,o,"current"===A,f.resumeToken),n.isPrimaryClient&&Qd(n.remoteStore,f)}return u}),Xu.apply(this,arguments)}function ec(){return ec=(0,ie.Z)(function*(i,e,n,o,u){i.va=(ne,ve,He)=>{return(ft=(0,ie.Z)(function*(Ct,mn,yn,vn){let fr=mn.view.ca(yn);fr.Zi&&(fr=yield ff(Ct.localStore,mn.query,!1).then(({documents:ss})=>mn.view.ca(ss,fr)));const ui=vn&&vn.targetChanges.get(mn.targetId),Wr=mn.view.applyChanges(fr,Ct.isPrimaryClient,ui);return Mf(Ct,mn.targetId,Wr.Ta),Wr.snapshot}),function Dt(Ct,mn,yn,vn){return ft.apply(this,arguments)})(i,ne,ve,He);var ft};const l=yield ff(i.localStore,e,!0),f=new _g(e,l.ls),A=f.ca(l.documents),R=wl.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),k=f.applyChanges(A,i.isPrimaryClient,R);Mf(i,n,k.Ta);const H=new hv(e,n,f);return i.ma.set(e,H),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),k.snapshot}),ec.apply(this,arguments)}function gv(i,e){return yg.apply(this,arguments)}function yg(){return yg=(0,ie.Z)(function*(i,e){const n=At(i),o=n.ma.get(e),u=n.fa.get(o.targetId);if(u.length>1)return n.fa.set(o.targetId,u.filter(l=>!_a(l,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Ia(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Vc(n.remoteStore,o.targetId),nh(n,o.targetId)}).catch(zo))):(nh(n,o.targetId),yield Ia(n.localStore,o.targetId,!0))}),yg.apply(this,arguments)}function bf(){return bf=(0,ie.Z)(function*(i,e,n){const o=function bg(i){const e=At(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_v.bind(null,e),e}(i);try{const u=yield function(f,A){const R=At(f),k=ni.now(),H=A.reduce((He,ft)=>He.add(ft.key),xn());let ne,ve;return R.persistence.runTransaction("Locally write mutations","readwrite",He=>{let ft=hs(),Dt=xn();return R.ss.getEntries(He,H).next(Ct=>{ft=Ct,ft.forEach((mn,yn)=>{yn.isValidDocument()||(Dt=Dt.add(mn))})}).next(()=>R.localDocuments.getOverlayedDocuments(He,ft)).next(Ct=>{ne=Ct;const mn=[];for(const yn of A){const vn=Dd(yn,ne.get(yn.key).overlayedDocument);null!=vn&&mn.push(new xa(yn.key,vn,Ra(vn.value.mapValue),Si.exists(!0)))}return R.mutationQueue.addMutationBatch(He,k,mn,A)}).next(Ct=>{ve=Ct;const mn=Ct.applyToLocalDocumentSet(ne,Dt);return R.documentOverlayCache.saveOverlays(He,Ct.batchId,mn)})}).then(()=>({batchId:ve.batchId,changes:hl(ne)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(f,A,R){let k=f.Sa[f.currentUser.toKey()];k||(k=new oi(gn)),k=k.insert(A,R),f.Sa[f.currentUser.toKey()]=k}(o,u.batchId,n),yield Fa(o,u.changes),yield Vl(o.remoteStore)}catch(u){const l=Yo(u,"Failed to persist write");n.reject(l)}}),bf.apply(this,arguments)}function Rf(i,e){return jc.apply(this,arguments)}function jc(){return jc=(0,ie.Z)(function*(i,e){const n=At(i);try{const o=yield function Wp(i,e){const n=At(i),o=e.snapshotVersion;let u=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.ss.newChangeBuffer({trackRemovals:!0});u=n.ts;const A=[];e.targetChanges.forEach((H,ne)=>{const ve=u.get(ne);if(!ve)return;A.push(n.qr.removeMatchingKeys(l,H.removedDocuments,ne).next(()=>n.qr.addMatchingKeys(l,H.addedDocuments,ne)));let He=ve.withSequenceNumber(l.currentSequenceNumber);var Dt,Ct,mn;null!==e.targetMismatches.get(ne)?He=He.withResumeToken(ns.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):H.resumeToken.approximateByteSize()>0&&(He=He.withResumeToken(H.resumeToken,o)),u=u.insert(ne,He),Ct=He,mn=H,(0===(Dt=ve).resumeToken.approximateByteSize()||Ct.snapshotVersion.toMicroseconds()-Dt.snapshotVersion.toMicroseconds()>=3e8||mn.addedDocuments.size+mn.modifiedDocuments.size+mn.removedDocuments.size>0)&&A.push(n.qr.updateTargetData(l,He))});let R=hs(),k=xn();if(e.documentUpdates.forEach(H=>{e.resolvedLimboDocuments.has(H)&&A.push(n.persistence.referenceDelegate.updateLimboDocument(l,H))}),A.push(function Jm(i,e,n){let o=xn(),u=xn();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=hs();return n.forEach((A,R)=>{const k=l.get(A);R.isFoundDocument()!==k.isFoundDocument()&&(u=u.add(A)),R.isNoDocument()&&R.version.isEqual(Kt.min())?(e.removeEntry(A,R.readTime),f=f.insert(A,R)):!k.isValidDocument()||R.version.compareTo(k.version)>0||0===R.version.compareTo(k.version)&&k.hasPendingWrites?(e.addEntry(R),f=f.insert(A,R)):at("LocalStore","Ignoring outdated watch update for ",A,". Current version:",k.version," Watch version:",R.version)}),{us:f,cs:u}})}(l,f,e.documentUpdates).next(H=>{R=H.us,k=H.cs})),!o.isEqual(Kt.min())){const H=n.qr.getLastRemoteSnapshotVersion(l).next(ne=>n.qr.setTargetsMetadata(l,l.currentSequenceNumber,o));A.push(H)}return Oe.waitFor(A).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,R,k)).next(()=>R)}).then(l=>(n.ts=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.ya.get(l);f&&(Ft(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.Ra=!0:u.modifiedDocuments.size>0?Ft(f.Ra):u.removedDocuments.size>0&&(Ft(f.Ra),f.Ra=!1))}),yield Fa(n,o,e)}catch(o){yield zo(o)}}),jc.apply(this,arguments)}function th(i,e,n){const o=At(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ma.forEach((l,f)=>{const A=f.view.Q_(e);A.snapshot&&u.push(A.snapshot)}),function(f,A){const R=At(f);R.onlineState=A;let k=!1;R.queries.forEach((H,ne)=>{for(const ve of ne.listeners)ve.Q_(A)&&(k=!0)}),k&&eh(R)}(o.eventManager,e),u.length&&o.Va.a_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function p_(i,e,n){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,ie.Z)(function*(i,e,n){const o=At(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.ya.get(e),l=u&&u.key;if(l){let f=new oi(Ot.comparator);f=f.insert(l,ai.newNoDocument(l,Kt.min()));const A=xn().add(l),R=new Tc(Kt.min(),new Map,new oi(gn),f,A);yield Rf(o,R),o.pa=o.pa.remove(l),o.ya.delete(e),Ul(o)}else yield Ia(o.localStore,e,!1).then(()=>nh(o,e,n)).catch(zo)}),Pf.apply(this,arguments)}function mv(i,e){return vg.apply(this,arguments)}function vg(){return vg=(0,ie.Z)(function*(i,e){const n=At(i),o=e.batch.batchId;try{const u=yield function La(i,e){const n=At(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.ss.newChangeBuffer({trackRemovals:!0});return function(A,R,k,H){const ne=k.batch,ve=ne.keys();let He=Oe.resolve();return ve.forEach(ft=>{He=He.next(()=>H.getEntry(R,ft)).next(Dt=>{const Ct=k.docVersions.get(ft);Ft(null!==Ct),Dt.version.compareTo(Ct)<0&&(ne.applyToRemoteDocument(Dt,k),Dt.isValidDocument()&&(Dt.setReadTime(k.commitVersion),H.addEntry(Dt)))})}),He.next(()=>A.mutationQueue.removeMutationBatch(R,ne))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(A){let R=xn();for(let k=0;k<A.mutationResults.length;++k)A.mutationResults[k].transformResults.length>0&&(R=R.add(A.batch.mutations[k].key));return R}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);__(n,o,null),Ig(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Fa(n,u)}catch(u){yield zo(u)}}),vg.apply(this,arguments)}function _v(i,e,n){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,ie.Z)(function*(i,e,n){const o=At(i);try{const u=yield function(f,A){const R=At(f);return R.persistence.runTransaction("Reject batch","readwrite-primary",k=>{let H;return R.mutationQueue.lookupMutationBatch(k,A).next(ne=>(Ft(null!==ne),H=ne.keys(),R.mutationQueue.removeMutationBatch(k,ne))).next(()=>R.mutationQueue.performConsistencyCheck(k)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(k,H,A)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(k,H)).next(()=>R.localDocuments.getDocuments(k,H))})}(o.localStore,e);__(o,e,n),Ig(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Fa(o,u)}catch(u){yield zo(u)}}),Eg.apply(this,arguments)}function Ig(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function __(i,e,n){const o=At(i);let u=o.Sa[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Sa[o.currentUser.toKey()]=u}}function nh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.fa.get(e))i.ma.delete(o),n&&i.Va.Fa(o,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(o=>{i.wa.containsKey(o)||Tg(i,o)})}function Tg(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(Vc(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),Ul(i))}function Mf(i,e,n){for(const o of n)o instanceof d_?(i.wa.addReference(o.key,e),_I(i,o)):o instanceof mg?(at("SyncEngine","Document no longer in limbo: "+o.key),i.wa.removeReference(o.key,e),i.wa.containsKey(o.key)||Tg(i,o.key)):Lt()}function _I(i,e){const n=e.key,o=n.path.canonicalString();i.pa.get(n)||i.ga.has(o)||(at("SyncEngine","New document in limbo: "+n),i.ga.add(o),Ul(i))}function Ul(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new Ot(lr.fromString(e)),o=i.Da.next();i.ya.set(o,new fv(n)),i.pa=i.pa.insert(n,o),Qd(i.remoteStore,new Qo(ds(Pa(n.path)),o,"TargetPurposeLimboResolution",yt._e))}}function Fa(i,e,n){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,ie.Z)(function*(i,e,n){const o=At(i),u=[],l=[],f=[];var A;o.ma.isEmpty()||(o.ma.forEach((A,R)=>{f.push(o.va(R,e,n).then(k=>{if((k||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(R.targetId,k?.fromCache?"not-current":"current"),k){u.push(k);const H=hu.Qi(R.targetId,k);l.push(H)}}))}),yield Promise.all(f),o.Va.a_(u),yield(A=(0,ie.Z)(function*(k,H){const ne=At(k);try{yield ne.persistence.runTransaction("notifyLocalViewChanges","readwrite",ve=>Oe.forEach(H,He=>Oe.forEach(He.ki,ft=>ne.persistence.referenceDelegate.addReference(ve,He.targetId,ft)).next(()=>Oe.forEach(He.qi,ft=>ne.persistence.referenceDelegate.removeReference(ve,He.targetId,ft)))))}catch(ve){if(!y(ve))throw ve;at("LocalStore","Failed to update sequence numbers: "+ve)}for(const ve of H){const He=ve.targetId;if(!ve.fromCache){const ft=ne.ts.get(He),Ct=ft.withLastLimboFreeSnapshotVersion(ft.snapshotVersion);ne.ts=ne.ts.insert(He,Ct)}}}),function R(k,H){return A.apply(this,arguments)})(o.localStore,l))}),Nf.apply(this,arguments)}function yv(i,e){return Of.apply(this,arguments)}function Of(){return Of=(0,ie.Z)(function*(i,e){const n=At(i);if(!n.currentUser.isEqual(e)){at("SyncEngine","User change. New user:",e.toKey());const o=yield hf(n.localStore,e);n.currentUser=e,(l=n).ba.forEach(A=>{A.forEach(R=>{R.reject(new it(Ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.ba.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Fa(n,o._s)}var l}),Of.apply(this,arguments)}function y_(i,e){const n=At(i),o=n.ya.get(e);if(o&&o.Ra)return xn().add(o.key);{let u=xn();const l=n.fa.get(e);if(!l)return u;for(const f of l){const A=n.ma.get(f);u=u.unionWith(A.view.ua)}return u}}class sh{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,ie.Z)(function*(){n.serializer=fu(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Ym(i,e,n,o){return new df(i,e,n,o)}(this.persistence,new lf,e.initialUser,this.serializer)}createPersistence(e){return new $d(jd.jr,this.serializer)}createSharedClientState(e){return new Fc}terminate(){var e=this;return(0,ie.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bl{initialize(e,n){var o=this;return(0,ie.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>th(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=yv.bind(null,o.syncEngine),yield function Af(i,e){return Zo.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hg}createDatastore(e){const n=fu(e.databaseInfo.databaseId),o=new yf(e.databaseInfo);return new rg(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return o=this.localStore,u=this.datastore,l=e.asyncQueue,f=n=>th(this.syncEngine,n,0),A=_f.D()?new _f:new Xp,new mI(o,u,l,f,A);var o,u,l,f,A}createSyncEngine(e,n){return function(u,l,f,A,R,k,H){const ne=new pv(u,l,f,A,R,k);return H&&(ne.Ca=!0),ne}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,ie.Z)(function*(o){const u=At(o);at("RemoteStore","RemoteStore shutting down."),u.C_.add(5),yield Zu(u),u.F_.shutdown(),u.M_.set("Unknown")}),function n(o){return e.apply(this,arguments)})(this.remoteStore);var e}}class oh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class wv{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Rn.UNAUTHENTICATED,this.clientId=Du.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,ie.Z)(function*(A){at("FirestoreClient","Received user=",A.uid),yield l.authCredentialListener(A),l.user=A});return function(A){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(at("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,ie.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new it(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ie.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=Yo(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Ff(i,e){return D_.apply(this,arguments)}function D_(){return D_=(0,ie.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),at("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,ie.Z)(function*(l){o.isEqual(l)||(yield hf(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),D_.apply(this,arguments)}function ah(i,e){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,ie.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Pg(i){return Mg.apply(this,arguments)}(i);at("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>uv(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>uv(e.remoteStore,l)),i._onlineComponents=e}),Vf.apply(this,arguments)}function Mg(){return Mg=(0,ie.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){at("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ff(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function A_(i){return"FirebaseError"===i.name?i.code===Ge.FAILED_PRECONDITION||i.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;Zn("Error using user provided cache. Falling back to memory cache: "+n),yield Ff(i,new sh)}}else at("FirestoreClient","Using default OfflineComponentProvider"),yield Ff(i,new sh);return i._offlineComponents}),Mg.apply(this,arguments)}function uh(i){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,ie.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(at("FirestoreClient","Using user provided OnlineComponentProvider"),yield ah(i,i._uninitializedComponentsProvider._online)):(at("FirestoreClient","Using default OnlineComponentProvider"),yield ah(i,new Bl))),i._onlineComponents}),Ng.apply(this,arguments)}function $l(i){return xg.apply(this,arguments)}function xg(){return xg=(0,ie.Z)(function*(i){const e=yield uh(i),n=e.eventManager;return n.onListen=h_.bind(null,e.syncEngine),n.onUnlisten=gv.bind(null,e.syncEngine),n}),xg.apply(this,arguments)}function Ug(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Bg=new Map;function ch(i,e,n){if(!n)throw new it(Ge.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function N_(i){if(!Ot.isDocumentKey(i))throw new it(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function O_(i){if(Ot.isDocumentKey(i))throw new it(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function jl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(o=i).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof i?"a function":Lt()}function Ir(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new it(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jl(i);throw new it(Ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class x_{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new it(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new it(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function gu(i,e,n,o){if(!0===e&&!0===o)throw new it(Ge.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ug(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new it(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new it(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new it(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ic{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new it(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new it(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x_(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new Xl;switch(o.type){case"firstParty":return new ed(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new it(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=Bg.get(n);o&&(at("ComponentProvider","Removing Datastore"),Bg.delete(n),o.terminate())}(this),Promise.resolve()}}class to{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class $i{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $i(this.firestore,e,this._key)}}class mu extends to{constructor(e,n,o){super(e,n,Pa(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $i(this.firestore,null,new Ot(e))}withConverter(e){return new mu(this.firestore,e,this._path)}}function Cv(i,e,...n){if(i=(0,ee.m9)(i),ch("collection","path",e),i instanceof ic){const o=lr.fromString(e,...n);return O_(o),new mu(i,null,o)}{if(!(i instanceof $i||i instanceof mu))throw new it(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(lr.fromString(e,...n));return O_(o),new mu(i.firestore,null,o)}}function jg(i,e,...n){if(i=(0,ee.m9)(i),1===arguments.length&&(e=Du.newId()),ch("doc","path",e),i instanceof ic){const o=lr.fromString(e,...n);return N_(o),new $i(i,null,new Ot(o))}{if(!(i instanceof $i||i instanceof mu))throw new it(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(lr.fromString(e,...n));return N_(o),new $i(i.firestore,i instanceof mu?i.converter:null,new Ot(o))}}class L_{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new tg(this,"async_queue_retry"),this.iu=()=>{const n=kl();n&&at("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=kl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=kl();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Zi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,ie.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!y(n))throw n;at("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(o=>{throw this.eu=o,this.tu=!1,cr("INTERNAL UNHANDLED ERROR: ",function(f){let A=f.message||"";return f.stack&&(A=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),A}(o)),o}).then(o=>(this.tu=!1,o))));return this.Ja=n,n}enqueueAfterDelay(e,n,o){this.su(),this.ru.indexOf(e)>-1&&(n=0);const u=Jd.createAndSchedule(this,e,n,o,l=>this.au(l));return this.Xa.push(u),u}su(){this.eu&&Lt()}verifyOperationInProgress(){}uu(){var e=this;return(0,ie.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Bf(i){return function(n,o){if("object"!=typeof n||null===n)return!1;const u=n;for(const l of["next","error","complete"])if(l in u&&"function"==typeof u[l])return!0;return!1}(i)}class gi extends ic{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new L_,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Hl(this),this._firestoreClient.terminate()}}function Rv(i,e){const n="object"==typeof i?i:(0,Ae.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,Ae.qX)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,ee.P0)("firestore");l&&function lh(i,e,n,o={}){var u;const l=(i=Ir(i,ic))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Zn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let A,R;if("string"==typeof o.mockUserToken)A=o.mockUserToken,R=Rn.MOCK_USER;else{A=(0,ee.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const k=o.mockUserToken.sub||o.mockUserToken.user_id;if(!k)throw new it(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Rn(k)}i._authCredentials=new jo(new dc(A,R))}}(u,...l)}return u}function ps(i){return i._firestoreClient||Hl(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Hl(i){var e,n,o;const u=i._freezeSettings(),l=(R=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new sl(i._databaseId,R,i._persistenceKey,(H=u).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,Ug(H.experimentalLongPollingOptions),H.useFetchStreams));var R,H;i._firestoreClient=new wv(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.localCache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}class zc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zc(ns.fromBase64String(e))}catch(n){throw new it(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zc(ns.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class zl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new it(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hg{constructor(e){this._methodName=e}}class zg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new it(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new it(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gn(this._lat,e._lat)||gn(this._long,e._long)}}const Nv=/^__.*__$/;class B_{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new xa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oa(e,this.data,n,this.fieldTransforms)}}class Gg{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new xa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lt()}}class Wg{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.Pu(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Wg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:o,du:!1});return u.Au(e),u}Ru(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:o,du:!1});return u.Pu(),u}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return yu(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if($_(this.Iu)&&Nv.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class j_{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||fu(e)}pu(e,n,o,u=!1){return new Wg({Iu:e,methodName:n,gu:o,path:Ai.emptyPath(),du:!1,fu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gc(i){const e=i._freezeSettings(),n=fu(i._databaseId);return new j_(i._databaseId,!!e.ignoreUndefinedProperties,n)}function H_(i,e,n,o,u,l={}){const f=i.pu(l.merge||l.mergeFields?2:0,e,n,u);uc("Data must be an object, but it was:",f,o);const A=Xo(o,f);let R,k;if(l.merge)R=new Ls(f.fieldMask),k=f.fieldTransforms;else if(l.mergeFields){const H=[];for(const ne of l.mergeFields){const ve=$a(e,ne,n);if(!f.contains(ve))throw new it(Ge.INVALID_ARGUMENT,`Field '${ve}' is specified in your field mask but missing from your input data.`);Wc(H,ve)||H.push(ve)}R=new Ls(H),k=f.fieldTransforms.filter(ne=>R.covers(ne.field))}else R=null,k=f.fieldTransforms;return new B_(new xi(A),R,k)}class oc extends Hg{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oc}}function Ba(i,e){if($f(i=(0,ee.m9)(i)))return uc("Unsupported field value:",e,i),Xo(i,e);if(i instanceof Hg)return function(o,u){if(!$_(u.Iu))throw u.mu(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.mu(`${o._methodName}() is not currently supported inside arrays`);const l=o._toFieldTransform(u);l&&u.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(o,u){const l=[];let f=0;for(const A of o){let R=Ba(A,u.Vu(f));null==R&&(R={nullValue:"NULL_VALUE"}),l.push(R),f++}return{arrayValue:{values:l}}}(i,e)}return function(o,u){if(null===(o=(0,ee.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Bh(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const l=ni.fromDate(o);return{timestampValue:Z(u.serializer,l)}}if(o instanceof ni){const l=new ni(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Z(u.serializer,l)}}if(o instanceof zg)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof zc)return{bytesValue:Te(u.serializer,o._byteString)};if(o instanceof $i){const l=u.databaseId,f=o.firestore._databaseId;if(!f.isEqual(l))throw u.mu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ht(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.mu(`Unsupported field value: ${jl(o)}`)}(i,e)}function Xo(i,e){const n={};return il(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(i,(o,u)=>{const l=Ba(u,e.Eu(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function $f(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ni||i instanceof zg||i instanceof zc||i instanceof $i||i instanceof Hg)}function uc(i,e,n){if(!$f(n)||"object"!=typeof(u=n)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=jl(n);throw e.mu("an object"===o?i+" a custom object":i+" "+o)}var u}function $a(i,e,n){if((e=(0,ee.m9)(e))instanceof zl)return e._internalPath;if("string"==typeof e)return _u(i,e);throw yu("Field path arguments must be of type string or ",i,!1,void 0,n)}const Wl=new RegExp("[~\\*/\\[\\]]");function _u(i,e,n){if(e.search(Wl)>=0)throw yu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new zl(...e.split("."))._internalPath}catch{throw yu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function yu(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let A=`Function ${e}() called with invalid data`;n&&(A+=" (via `toFirestore()`)"),A+=". ";let R="";return(l||f)&&(R+=" (found",l&&(R+=` in field ${o}`),f&&(R+=` in document ${u}`),R+=")"),new it(Ge.INVALID_ARGUMENT,A+i+R)}function Wc(i,e){return i.some(n=>n.isEqual(e))}class cc{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new $i(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ql(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class ql extends cc{data(){return super.data()}}function vu(i,e){return"string"==typeof e?_u(i,e):e instanceof zl?e._internalPath:e._delegate._internalPath}function Qg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new it(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jf{}class G_ extends jf{}function W_(i,e,...n){let o=[];e instanceof jf&&o.push(e),o=o.concat(n),function(l){const f=l.filter(R=>R instanceof qc).length,A=l.filter(R=>R instanceof Kl).length;if(f>1||f>0&&A>0)throw new it(Ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Kl extends G_{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Kl(e,n,o)}_apply(e){const n=this._parse(e);return Gf(e._query,n),new to(e.firestore,e.converter,mc(e._query,n))}_parse(e){const n=Gc(e.firestore);return function(l,f,A,R,k,H,ne){let ve;if(k.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new it(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){Ql(ne,H);const He=[];for(const ft of ne)He.push(zf(R,l,ft));ve={arrayValue:{values:He}}}else ve=zf(R,l,ne)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||Ql(ne,H),ve=function ac(i,e,n,o=!1){return Ba(n,i.pu(o?4:3,e))}(A,"where",ne,"in"===H||"not-in"===H);return dr.create(k,H,ve)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function q_(i,e,n){const o=e,u=vu("where",i);return Kl._create(u,o,n)}class qc extends jf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qc(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:Gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(u,l){let f=u;const A=l.getFlattenedFilters();for(const R of A)Gf(f,R),f=mc(f,R)}(e._query,n),new to(e.firestore,e.converter,mc(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function zf(i,e,n){if("string"==typeof(n=(0,ee.m9)(n))){if(""===n)throw new it(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gd(e)&&-1!==n.indexOf("/"))throw new it(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(lr.fromString(n));if(!Ot.isDocumentKey(o))throw new it(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return sa(i,new Ot(o))}if(n instanceof $i)return sa(i,n._key);throw new it(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jl(n)}.`)}function Ql(i,e){if(!Array.isArray(i)||0===i.length)throw new it(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gf(i,e){const n=function(u,l){for(const f of u)for(const A of f.getFlattenedFilters())if(l.indexOf(A.op)>=0)return A.op;return null}(i.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new it(Ge.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Q_{convertValue(e,n="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Lt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Ao(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new zg(Ci(e.latitude),Ci(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Ya(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Ja(e));default:return null}}convertTimestamp(e){const n=Go(e);return new ni(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=lr.fromString(e);Ft(Rd(o));const u=new Oo(o.get(1),o.get(3)),l=new Ot(o.popFirst(5));return u.isEqual(n)||cr(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Qc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lc extends cc{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(vu("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Zc extends lc{data(e={}){return super.data(e)}}class Eu{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Qc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Zc(this._firestore,this._userDataWriter,o.key,o,new Qc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(u,l){if(u._snapshot.oldDocs.isEmpty()){let f=0;return u._snapshot.docChanges.map(A=>({type:"added",doc:new Zc(u._firestore,u._userDataWriter,A.doc.key,A.doc,new Qc(u._snapshot.mutatedKeys.has(A.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:f++}))}{let f=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(A=>l||3!==A.type).map(A=>{const R=new Zc(u._firestore,u._userDataWriter,A.doc.key,A.doc,new Qc(u._snapshot.mutatedKeys.has(A.doc.key),u._snapshot.fromCache),u.query.converter);let k=-1,H=-1;return 0!==A.type&&(k=f.indexOf(A.doc.key),f=f.delete(A.doc.key)),1!==A.type&&(f=f.add(A.doc),H=f.indexOf(A.doc.key)),{type:FI(A.type),doc:R,oldIndex:k,newIndex:H}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function FI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt()}}class ja extends Q_{constructor(e){super(),this.firestore=e}convertBytes(e){return new zc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $i(this.firestore,null,n)}}function Uv(i){i=Ir(i,to);const e=Ir(i.firestore,gi),n=ps(e),o=new ja(e);return Qg(i._query),function Fg(i,e,n={}){const o=new Zi;return i.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function(l,f,A,R,k){const H=new oh({next:ve=>{f.enqueueAndForget(()=>fg(l,ne)),ve.fromCache&&"server"===R.source?k.reject(new it(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):k.resolve(ve)},error:ve=>k.reject(ve)}),ne=new pg(A,H,{includeMetadataChanges:!0,J_:!0});return ua(l,ne)}(yield $l(i),i.asyncQueue,e,n,o)})),o.promise}(n,i._query).then(u=>new Eu(e,o,i,u))}function Z_(i,e,n){i=Ir(i,$i);const o=Ir(i.firestore,gi),u=function Kc(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e,n);return Yc(o,[H_(Gc(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Si.none())])}function Y_(i,e,n,...o){i=Ir(i,$i);const u=Ir(i.firestore,gi),l=Gc(u);let f;return f="string"==typeof(e=(0,ee.m9)(e))||e instanceof zl?function co(i,e,n,o,u,l){const f=i.pu(1,e,n),A=[$a(e,o,n)],R=[u];if(l.length%2!=0)throw new it(Ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ve=0;ve<l.length;ve+=2)A.push($a(e,l[ve])),R.push(l[ve+1]);const k=[],H=xi.empty();for(let ve=A.length-1;ve>=0;--ve)if(!Wc(k,A[ve])){const He=A[ve];let ft=R[ve];ft=(0,ee.m9)(ft);const Dt=f.Ru(He);if(ft instanceof oc)k.push(He);else{const Ct=Ba(ft,Dt);null!=Ct&&(k.push(He),H.set(He,Ct))}}const ne=new Ls(k);return new Gg(H,ne,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,o):function Gl(i,e,n,o){const u=i.pu(1,e,n);uc("Data must be an object, but it was:",u,o);const l=[],f=xi.empty();Ao(o,(R,k)=>{const H=_u(e,R,n);k=(0,ee.m9)(k);const ne=u.Ru(H);if(k instanceof oc)l.push(H);else{const ve=Ba(k,ne);null!=ve&&(l.push(H),f.set(H,ve))}});const A=new Ls(l);return new Gg(f,A,u.fieldTransforms)}(l,"updateDoc",i._key,e),Yc(u,[f.toMutation(i._key,Si.exists(!0))])}function Yc(i,e){return function(o,u){const l=new Zi;return o.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return function f_(i,e,n){return bf.apply(this,arguments)}(yield function Og(i){return uh(i).then(e=>e.syncEngine)}(o),u,l)})),l.promise}(ps(i),e)}!function(e,n=!0){Qi=Ae.Jn,(0,Ae.Xd)(new ye.wA("firestore",(o,{instanceIdentifier:u,options:l})=>{const f=o.getProvider("app").getImmediate(),A=new gi(new Ho(o.getProvider("auth-internal")),new td(o.getProvider("app-check-internal")),function(k,H){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new it(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oo(k.options.projectId,H)}(f,u),f);return l=Object.assign({useFetchStreams:n},l),A._setSettings(l),A},"PUBLIC").setMultipleInstances(!0)),(0,Ae.KN)(Di,"4.3.2",e),(0,Ae.KN)(Di,"4.3.2","esm2017")}();var Zf=L(5592),Iu=L(7398),Yf=function(){return Yf=Object.assign||function(e){for(var n,o=1,u=arguments.length;o<u;o++)for(var l in n=arguments[o])Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l]);return e},Yf.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var cm={includeMetadataChanges:!1};function Tu(i,e){return void 0===e&&(e=cm),new Zf.y(function(n){var o=function $v(i,...e){var n,o,u;i=(0,ee.m9)(i);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Bf(e[f])||(l=e[f],f++);const A={includeMetadataChanges:l.includeMetadataChanges};if(Bf(e[f])){const ne=e[f];e[f]=null===(n=ne.next)||void 0===n?void 0:n.bind(ne),e[f+1]=null===(o=ne.error)||void 0===o?void 0:o.bind(ne),e[f+2]=null===(u=ne.complete)||void 0===u?void 0:u.bind(ne)}let R,k,H;if(i instanceof $i)k=Ir(i.firestore,gi),H=Pa(i._key.path),R={next:ne=>{e[f]&&e[f](function ph(i,e,n){const o=n.docs.get(e._key),u=new ja(i);return new lc(i,u,e._key,o,new Qc(n.hasPendingWrites,n.fromCache),e.converter)}(k,i,ne))},error:e[f+1],complete:e[f+2]};else{const ne=Ir(i,to);k=Ir(ne.firestore,gi),H=ne._query;const ve=new ja(k);R={next:He=>{e[f]&&e[f](new Eu(k,ve,ne,He))},error:e[f+1],complete:e[f+2]},Qg(i._query)}return function(ve,He,ft,Dt){const Ct=new oh(Dt),mn=new pg(He,Ct,ft);return ve.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return ua(yield $l(ve),mn)})),()=>{Ct.Na(),ve.asyncQueue.enqueueAndForget((0,ie.Z)(function*(){return fg(yield $l(ve),mn)}))}}(ps(k),H,A,R)}(i,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:o}})}function ay(i,e){return void 0===e&&(e={}),function nE(i){return Tu(i,{includeMetadataChanges:!0}).pipe((0,Iu.U)(function(e){return e.docs}))}(i).pipe((0,Iu.U)(function(n){return n.map(function(o){return function Jf(i,e){var n;void 0===e&&(e={});var o=i.data(e);return i.exists()&&"object"==typeof o&&null!==o&&e.idField?Yf(Yf({},o),((n={})[e.idField]=i.id,n)):o}(o,e)})}))}class Xf{constructor(e){return e}}const cy="firestore",ep=new re.OlP("angularfire2.firestore-instances");function hm(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new Xf(o)}}const fm={provide:class ly{constructor(){return(0,_.vb)(cy)}},deps:[[new re.FiY,ep]]},Ha={provide:Xf,useFactory:function eT(i,e){const n=(0,_.JM)(cy,i,e);return n&&new Xf(n)},deps:[[new re.FiY,ep],he.Ot]};let iE=(()=>{class i{constructor(){(0,Y.KN)("angularfire",_.q4.full,"fst")}static \u0275fac=function(o){return new(o||i)};static \u0275mod=re.oAB({type:i});static \u0275inj=re.cJS({providers:[Ha,fm]})}return i})();function dy(i,...e){return{ngModule:iE,providers:[{provide:ep,useFactory:hm(i),multi:!0,deps:[re.R0b,re.zs3,_.HU,he.z6,[new re.FiY,J.dh],[new re.FiY,_.Rf],...e]}]}}const hy=(0,_.u3)(ay,!0),py=(0,_.u3)(Cv,!0),my=(0,_.u3)(jg,!0),vE=(0,_.u3)(Uv,!0),EE=(0,_.u3)(Rv,!0),mm=(0,_.u3)(W_,!0),bT=(0,_.u3)(Z_,!0),NE=(0,_.u3)(Y_,!0),Yl=(0,_.u3)(q_,!0)},5017:(It,Fe,L)=>{L.d(Fe,{Ke:()=>Ms,Jt:()=>Oi,cF:()=>Ii,aF:()=>Ro,Vq:()=>Ni,iH:()=>Ws,KV:()=>wa});var _=L(1920),re=L(5879),he=L(721),J=L(3435),Y=L(3182),ie=L(5861),Ae=L(534),ye=L(9058),ge=L(4537);const ee="firebasestorage.googleapis.com",ce="storageBucket";class Le extends ye.ZR{constructor(U,ae,ue=0){super(_t(U),`Firebase Storage: ${ae} (${_t(U)})`),this.status_=ue,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Le.prototype)}get status(){return this.status_}set status(U){this.status_=U}_codeEquals(U){return _t(U)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(U){this.customData.serverResponse=U,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ze=function(F){return F.UNKNOWN="unknown",F.OBJECT_NOT_FOUND="object-not-found",F.BUCKET_NOT_FOUND="bucket-not-found",F.PROJECT_NOT_FOUND="project-not-found",F.QUOTA_EXCEEDED="quota-exceeded",F.UNAUTHENTICATED="unauthenticated",F.UNAUTHORIZED="unauthorized",F.UNAUTHORIZED_APP="unauthorized-app",F.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",F.INVALID_CHECKSUM="invalid-checksum",F.CANCELED="canceled",F.INVALID_EVENT_NAME="invalid-event-name",F.INVALID_URL="invalid-url",F.INVALID_DEFAULT_BUCKET="invalid-default-bucket",F.NO_DEFAULT_BUCKET="no-default-bucket",F.CANNOT_SLICE_BLOB="cannot-slice-blob",F.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",F.NO_DOWNLOAD_URL="no-download-url",F.INVALID_ARGUMENT="invalid-argument",F.INVALID_ARGUMENT_COUNT="invalid-argument-count",F.APP_DELETED="app-deleted",F.INVALID_ROOT_OPERATION="invalid-root-operation",F.INVALID_FORMAT="invalid-format",F.INTERNAL_ERROR="internal-error",F.UNSUPPORTED_ENVIRONMENT="unsupported-environment",F}(Ze||{});function _t(F){return"storage/"+F}function ht(){return new Le(Ze.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Et(F){return new Le(Ze.INVALID_ARGUMENT,F)}function nn(){return new Le(Ze.APP_DELETED,"The Firebase app was deleted.")}function Pe(F,U){return new Le(Ze.INVALID_FORMAT,"String does not match format '"+F+"': "+U)}function Ve(F){throw new Le(Ze.INTERNAL_ERROR,"Internal error: "+F)}class Ue{constructor(U,ae){this.bucket=U,this.path_=ae}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const U=encodeURIComponent;return"/b/"+U(this.bucket)+"/o/"+U(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(U,ae){let ue;try{ue=Ue.makeFromUrl(U,ae)}catch{return new Ue(U,"")}if(""===ue.path)return ue;throw function hn(F){return new Le(Ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+F+"'.")}(U)}static makeFromUrl(U,ae){let ue=null;const Me="([A-Za-z0-9.\\-_]+)",Bt=new RegExp("^gs://"+Me+"(/(.*))?$","i");function wn(ei){ei.path_=decodeURIComponent(ei.path)}const yr=ae.replace(/[.]/g,"\\."),ur=[{regex:Bt,indices:{bucket:1,path:3},postModify:function Je(ei){"/"===ei.path.charAt(ei.path.length-1)&&(ei.path_=ei.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${yr}/v[A-Za-z0-9_]+/b/${Me}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:wn},{regex:new RegExp(`^https?://${ae===ee?"(?:storage.googleapis.com|storage.cloud.google.com)":ae}/${Me}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:wn}];for(let ei=0;ei<ur.length;ei++){const tr=ur[ei],Ui=tr.regex.exec(U);if(Ui){let m=Ui[tr.indices.path];m||(m=""),ue=new Ue(Ui[tr.indices.bucket],m),tr.postModify(ue);break}}if(null==ue)throw function lt(F){return new Le(Ze.INVALID_URL,"Invalid URL '"+F+"'.")}(U);return ue}}class fe{constructor(U){this.promise_=Promise.reject(U)}getPromise(){return this.promise_}cancel(U=!1){}}function kt(F){return"string"==typeof F||F instanceof String}function dn(F){return Vt()&&F instanceof Blob}function Vt(){return typeof Blob<"u"&&!(0,ye.UG)()}function In(F,U,ae,ue){if(ue<U)throw Et(`Invalid value for '${F}'. Expected ${U} or greater.`);if(ue>ae)throw Et(`Invalid value for '${F}'. Expected ${ae} or less.`)}function Tn(F,U,ae){let ue=U;return null==ae&&(ue=`https://${U}`),`${ae}://${ue}/v0${F}`}function kn(F){const U=encodeURIComponent;let ae="?";for(const ue in F)F.hasOwnProperty(ue)&&(ae=ae+(U(ue)+"=")+U(F[ue])+"&");return ae=ae.slice(0,-1),ae}var Ln=function(F){return F[F.NO_ERROR=0]="NO_ERROR",F[F.NETWORK_ERROR=1]="NETWORK_ERROR",F[F.ABORT=2]="ABORT",F}(Ln||{});class sr{constructor(U,ae,ue,Me,Je,mt,Bt,$t,wn,Un,yr,kr=!0){this.url_=U,this.method_=ae,this.headers_=ue,this.body_=Me,this.successCodes_=Je,this.additionalRetryCodes_=mt,this.callback_=Bt,this.errorCallback_=$t,this.timeout_=wn,this.progressCallback_=Un,this.connectionFactory_=yr,this.retry=kr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Nr,Ti)=>{this.resolve_=Nr,this.reject_=Ti,this.start_()})}start_(){const ae=(ue,Me)=>{const Je=this.resolve_,mt=this.reject_,Bt=Me.connection;if(Me.wasSuccessCode)try{const $t=this.callback_(Bt,Bt.getResponse());!function Se(F){return void 0!==F}($t)?Je():Je($t)}catch($t){mt($t)}else if(null!==Bt){const $t=ht();$t.serverResponse=Bt.getErrorText(),mt(this.errorCallback_?this.errorCallback_(Bt,$t):$t)}else mt(Me.canceled?this.appDelete_?nn():function ut(){return new Le(Ze.CANCELED,"User canceled the upload/download.")}():function Ye(){return new Le(Ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?ae(0,new qr(!1,null,!0)):this.backoffId_=function Be(F,U,ae){let ue=1,Me=null,Je=null,mt=!1,Bt=0;function $t(){return 2===Bt}let wn=!1;function Un(...Sr){wn||(wn=!0,U.apply(null,Sr))}function yr(Sr){Me=setTimeout(()=>{Me=null,F(Nr,$t())},Sr)}function kr(){Je&&clearTimeout(Je)}function Nr(Sr,...Xr){if(wn)return void kr();if(Sr)return kr(),void Un.call(null,Sr,...Xr);if($t()||mt)return kr(),void Un.call(null,Sr,...Xr);let ur;ue<64&&(ue*=2),1===Bt?(Bt=2,ur=0):ur=1e3*(ue+Math.random()),yr(ur)}let Ti=!1;function Vi(Sr){Ti||(Ti=!0,kr(),!wn&&(null!==Me?(Sr||(Bt=2),clearTimeout(Me),yr(0)):Sr||(Bt=1)))}return yr(0),Je=setTimeout(()=>{mt=!0,Vi(!0)},ae),Vi}((ue,Me)=>{if(Me)return void ue(!1,new qr(!1,null,!0));const Je=this.connectionFactory_();this.pendingConnection_=Je;const mt=Bt=>{null!==this.progressCallback_&&this.progressCallback_(Bt.loaded,Bt.lengthComputable?Bt.total:-1)};null!==this.progressCallback_&&Je.addUploadProgressListener(mt),Je.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Je.removeUploadProgressListener(mt),this.pendingConnection_=null;const Bt=Je.getErrorCode()===Ln.NO_ERROR,$t=Je.getStatus();if(!Bt||function Fn(F,U){const ae=F>=500&&F<600,Me=-1!==[408,429].indexOf(F),Je=-1!==U.indexOf(F);return ae||Me||Je}($t,this.additionalRetryCodes_)&&this.retry){const Un=Je.getErrorCode()===Ln.ABORT;return void ue(!1,new qr(!1,null,Un))}const wn=-1!==this.successCodes_.indexOf($t);ue(!0,new qr(wn,Je))})},ae,this.timeout_)}getPromise(){return this.promise_}cancel(U){this.canceled_=!0,this.appDelete_=U||!1,null!==this.backoffId_&&function de(F){F(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class qr{constructor(U,ae,ue){this.wasSuccessCode=U,this.connection=ae,this.canceled=!!ue}}function on(...F){const U=function _n(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==U){const ae=new U;for(let ue=0;ue<F.length;ue++)ae.append(F[ue]);return ae.getBlob()}if(Vt())return new Blob(F);throw new Le(Ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Xt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class An{constructor(U,ae){this.data=U,this.contentType=ae||null}}function _i(F){const U=[];for(let ae=0;ae<F.length;ae++){let ue=F.charCodeAt(ae);ue<=127?U.push(ue):ue<=2047?U.push(192|ue>>6,128|63&ue):55296==(64512&ue)?ae<F.length-1&&56320==(64512&F.charCodeAt(ae+1))?(ue=65536|(1023&ue)<<10|1023&F.charCodeAt(++ae),U.push(240|ue>>18,128|ue>>12&63,128|ue>>6&63,128|63&ue)):U.push(239,191,189):56320==(64512&ue)?U.push(239,191,189):U.push(224|ue>>12,128|ue>>6&63,128|63&ue)}return new Uint8Array(U)}function Hi(F,U){switch(F){case Xt.BASE64:{const Me=-1!==U.indexOf("-"),Je=-1!==U.indexOf("_");if(Me||Je)throw Pe(F,"Invalid character '"+(Me?"-":"_")+"' found: is it base64url encoded?");break}case Xt.BASE64URL:{const Me=-1!==U.indexOf("+"),Je=-1!==U.indexOf("/");if(Me||Je)throw Pe(F,"Invalid character '"+(Me?"+":"/")+"' found: is it base64 encoded?");U=U.replace(/-/g,"+").replace(/_/g,"/");break}}let ae;try{ae=function Qr(F){if(typeof atob>"u")throw function Nn(F){return new Le(Ze.UNSUPPORTED_ENVIRONMENT,`${F} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(F)}(U)}catch(Me){throw Me.message.includes("polyfill")?Me:Pe(F,"Invalid character found")}const ue=new Uint8Array(ae.length);for(let Me=0;Me<ae.length;Me++)ue[Me]=ae.charCodeAt(Me);return ue}class an{constructor(U){this.base64=!1,this.contentType=null;const ae=U.match(/^data:([^,]+)?,/);if(null===ae)throw Pe(Xt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ue=ae[1]||null;null!=ue&&(this.base64=function ci(F,U){return F.length>=U.length&&F.substring(F.length-U.length)===U}(ue,";base64"),this.contentType=this.base64?ue.substring(0,ue.length-7):ue),this.rest=U.substring(U.indexOf(",")+1)}}class Jn{constructor(U,ae){let ue=0,Me="";dn(U)?(this.data_=U,ue=U.size,Me=U.type):U instanceof ArrayBuffer?(ae?this.data_=new Uint8Array(U):(this.data_=new Uint8Array(U.byteLength),this.data_.set(new Uint8Array(U))),ue=this.data_.length):U instanceof Uint8Array&&(ae?this.data_=U:(this.data_=new Uint8Array(U.length),this.data_.set(U)),ue=U.length),this.size_=ue,this.type_=Me}size(){return this.size_}type(){return this.type_}slice(U,ae){if(dn(this.data_)){const Me=function Qn(F,U,ae){return F.webkitSlice?F.webkitSlice(U,ae):F.mozSlice?F.mozSlice(U,ae):F.slice?F.slice(U,ae):null}(this.data_,U,ae);return null===Me?null:new Jn(Me)}{const ue=new Uint8Array(this.data_.buffer,U,ae-U);return new Jn(ue,!0)}}static getBlob(...U){if(Vt()){const ae=U.map(ue=>ue instanceof Jn?ue.data_:ue);return new Jn(on.apply(null,ae))}{const ae=U.map(mt=>kt(mt)?function pr(F,U){switch(F){case Xt.RAW:return new An(_i(U));case Xt.BASE64:case Xt.BASE64URL:return new An(Hi(F,U));case Xt.DATA_URL:return new An(function Ji(F){const U=new an(F);return U.base64?Hi(Xt.BASE64,U.rest):function Gt(F){let U;try{U=decodeURIComponent(F)}catch{throw Pe(Xt.DATA_URL,"Malformed data URL.")}return _i(U)}(U.rest)}(U),function Br(F){return new an(F).contentType}(U))}throw ht()}(Xt.RAW,mt).data:mt.data_);let ue=0;ae.forEach(mt=>{ue+=mt.byteLength});const Me=new Uint8Array(ue);let Je=0;return ae.forEach(mt=>{for(let Bt=0;Bt<mt.length;Bt++)Me[Je++]=mt[Bt]}),new Jn(Me,!0)}}uploadData(){return this.data_}}function yi(F){let U;try{U=JSON.parse(F)}catch{return null}return function et(F){return"object"==typeof F&&!Array.isArray(F)}(U)?U:null}function Vr(F){const U=F.lastIndexOf("/",F.length-2);return-1===U?F:F.slice(U+1)}function or(F,U){return U}class cn{constructor(U,ae,ue,Me){this.server=U,this.local=ae||U,this.writable=!!ue,this.xform=Me||or}}let vi=null;function pe(){if(vi)return vi;const F=[];F.push(new cn("bucket")),F.push(new cn("generation")),F.push(new cn("metageneration")),F.push(new cn("name","fullPath",!0));const ae=new cn("name");ae.xform=function U(Je,mt){return function zi(F){return!kt(F)||F.length<2?F:Vr(F)}(mt)},F.push(ae);const Me=new cn("size");return Me.xform=function ue(Je,mt){return void 0!==mt?Number(mt):mt},F.push(Me),F.push(new cn("timeCreated")),F.push(new cn("updated")),F.push(new cn("md5Hash",null,!0)),F.push(new cn("cacheControl",null,!0)),F.push(new cn("contentDisposition",null,!0)),F.push(new cn("contentEncoding",null,!0)),F.push(new cn("contentLanguage",null,!0)),F.push(new cn("contentType",null,!0)),F.push(new cn("metadata","customMetadata",!0)),vi=F,vi}function W(F,U,ae){const ue=yi(U);return null===ue?null:function Q(F,U,ae){const ue={type:"file"},Me=ae.length;for(let Je=0;Je<Me;Je++){const mt=ae[Je];ue[mt.local]=mt.xform(ue,U[mt.server])}return function G(F,U){Object.defineProperty(F,"ref",{get:function ae(){const Je=new Ue(F.bucket,F.fullPath);return U._makeStorageReference(Je)}})}(ue,F),ue}(F,ue,ae)}const tt="prefixes",pt="items";class St{constructor(U,ae,ue,Me){this.url=U,this.method=ae,this.handler=ue,this.timeout=Me,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Qt(F){if(!F)throw ht()}function Pr(F){return function U(ae,ue){let Me;return Me=401===ae.getStatus()?ae.getErrorText().includes("Firebase App Check token is invalid")?function qe(){return new Le(Ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function le(){return new Le(Ze.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ae.getStatus()?function Tt(F){return new Le(Ze.QUOTA_EXCEEDED,"Quota for bucket '"+F+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(F.bucket):403===ae.getStatus()?function Ce(F){return new Le(Ze.UNAUTHORIZED,"User does not have permission to access '"+F+"'.")}(F.path):ue,Me.status=ae.getStatus(),Me.serverResponse=ue.serverResponse,Me}}function st(F,U,ae,ue,Me){const Je={};Je.prefix=U.isRoot?"":U.path+"/",ae&&ae.length>0&&(Je.delimiter=ae),ue&&(Je.pageToken=ue),Me&&(Je.maxResults=Me);const Bt=Tn(U.bucketOnlyServerUrl(),F.host,F._protocol),wn=F.maxOperationRetryTime,Un=new St(Bt,"GET",function Zr(F,U){return function ae(ue,Me){const Je=function en(F,U,ae){const ue=yi(ae);return null===ue?null:function xt(F,U,ae){const ue={prefixes:[],items:[],nextPageToken:ae.nextPageToken};if(ae[tt])for(const Me of ae[tt]){const Je=Me.replace(/\/$/,""),mt=F._makeStorageReference(new Ue(U,Je));ue.prefixes.push(mt)}if(ae[pt])for(const Me of ae[pt]){const Je=F._makeStorageReference(new Ue(U,Me.name));ue.items.push(Je)}return ue}(F,U,ue)}(F,U,Me);return Qt(null!==Je),Je}}(F,U.bucket),wn);return Un.urlParams=Je,Un.errorHandler=Pr(U),Un}function As(F,U,ae,ue,Me){const Je=U.bucketOnlyServerUrl(),mt={"X-Goog-Upload-Protocol":"multipart"},$t=function Bt(){let ur="";for(let ei=0;ei<2;ei++)ur+=Math.random().toString().slice(2);return ur}();mt["Content-Type"]="multipart/related; boundary="+$t;const wn=function ar(F,U,ae){const ue=Object.assign({},ae);return ue.fullPath=F.path,ue.size=U.size(),ue.contentType||(ue.contentType=function gr(F,U){return F&&F.contentType||U&&U.type()||"application/octet-stream"}(null,U)),ue}(U,ue,Me),Un=function Re(F,U){const ae={},ue=U.length;for(let Me=0;Me<ue;Me++){const Je=U[Me];Je.writable&&(ae[Je.server]=F[Je.local])}return JSON.stringify(ae)}(wn,ae),Nr=Jn.getBlob("--"+$t+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Un+"\r\n--"+$t+"\r\nContent-Type: "+wn.contentType+"\r\n\r\n",ue,"\r\n--"+$t+"--");if(null===Nr)throw function Kn(){return new Le(Ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const Ti={name:wn.fullPath},Vi=Tn(Je,F.host,F._protocol),Xr=F.maxUploadRetryTime,jr=new St(Vi,"POST",function $n(F,U){return function ae(ue,Me){const Je=W(F,Me,U);return Qt(null!==Je),Je}}(F,ae),Xr);return jr.urlParams=Ti,jr.headers=mt,jr.body=Nr.uploadData(),jr.errorHandler=Pr(U),jr}let Cs=null;class Ss{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ln.NO_ERROR,this.sendPromise_=new Promise(U=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ln.ABORT,U()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ln.NETWORK_ERROR,U()}),this.xhr_.addEventListener("load",()=>{U()})})}send(U,ae,ue,Me){if(this.sent_)throw Ve("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ae,U,!0),void 0!==Me)for(const Je in Me)Me.hasOwnProperty(Je)&&this.xhr_.setRequestHeader(Je,Me[Je].toString());return void 0!==ue?this.xhr_.send(ue):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ve("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ve("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ve("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ve("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(U){return this.xhr_.getResponseHeader(U)}addUploadProgressListener(U){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",U)}removeUploadProgressListener(U){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",U)}}class bs extends Ss{initXhr(){this.xhr_.responseType="text"}}function qn(){return Cs?Cs():new bs}class Gi{constructor(U,ae){this._service=U,this._location=ae instanceof Ue?ae:Ue.makeFromUrl(ae,U.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(U,ae){return new Gi(U,ae)}get root(){const U=new Ue(this._location.bucket,"");return this._newRef(this._service,U)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Vr(this._location.path)}get storage(){return this._service}get parent(){const U=function li(F){if(0===F.length)return null;const U=F.lastIndexOf("/");return-1===U?"":F.slice(0,U)}(this._location.path);if(null===U)return null;const ae=new Ue(this._location.bucket,U);return new Gi(this._service,ae)}_throwIfRoot(U){if(""===this._location.path)throw function qt(F){return new Le(Ze.INVALID_ROOT_OPERATION,"The operation '"+F+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(U)}}function js(F,U,ae){return yo.apply(this,arguments)}function yo(){return(yo=(0,ie.Z)(function*(F,U,ae){const Me=yield function vo(F,U){null!=U&&"number"==typeof U.maxResults&&In("options.maxResults",1,1e3,U.maxResults);const ae=U||{},ue=st(F.storage,F._location,"/",ae.pageToken,ae.maxResults);return F.storage.makeRequestWithTokens(ue,qn)}(F,{pageToken:ae});U.prefixes.push(...Me.prefixes),U.items.push(...Me.items),null!=Me.nextPageToken&&(yield js(F,U,Me.nextPageToken))})).apply(this,arguments)}function ys(F){F._throwIfRoot("getDownloadURL");const U=function tn(F,U,ae){const Me=Tn(U.fullServerUrl(),F.host,F._protocol),mt=F.maxOperationRetryTime,Bt=new St(Me,"GET",function Li(F,U){return function ae(ue,Me){const Je=W(F,Me,U);return Qt(null!==Je),function q(F,U,ae,ue){const Me=yi(U);if(null===Me||!kt(Me.downloadTokens))return null;const Je=Me.downloadTokens;if(0===Je.length)return null;const mt=encodeURIComponent;return Je.split(",").map(wn=>{const yr=F.fullPath;return Tn("/b/"+mt(F.bucket)+"/o/"+mt(yr),ae,ue)+kn({alt:"media",token:wn})})[0]}(Je,Me,F.host,F._protocol)}}(F,ae),mt);return Bt.errorHandler=function We(F){const U=Pr(F);return function ae(ue,Me){let Je=U(ue,Me);return 404===ue.getStatus()&&(Je=function Jt(F){return new Le(Ze.OBJECT_NOT_FOUND,"Object '"+F+"' does not exist.")}(F.path)),Je.serverResponse=Me.serverResponse,Je}}(U),Bt}(F.storage,F._location,pe());return F.storage.makeRequestWithTokens(U,qn).then(ae=>{if(null===ae)throw function En(){return new Le(Ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ae})}function vs(F,U){if(F instanceof Xi){const ae=F;if(null==ae._bucket)throw function fn(){return new Le(Ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ce+"' property when initializing the app?")}();const ue=new Gi(ae,ae._bucket);return null!=U?vs(ue,U):ue}return void 0!==U?function rn(F,U){const ae=function bi(F,U){const ae=U.split("/").filter(ue=>ue.length>0).join("/");return 0===F.length?ae:F+"/"+ae}(F._location.path,U),ue=new Ue(F._location.bucket,ae);return new Gi(F.storage,ue)}(F,U):F}function zs(F,U){const ae=U?.[ce];return null==ae?null:Ue.makeFromBucketSpec(ae,F)}class Xi{constructor(U,ae,ue,Me,Je){this.app=U,this._authProvider=ae,this._appCheckProvider=ue,this._url=Me,this._firebaseVersion=Je,this._bucket=null,this._host=ee,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Me?Ue.makeFromBucketSpec(Me,this._host):zs(this._host,this.app.options)}get host(){return this._host}set host(U){this._host=U,this._bucket=null!=this._url?Ue.makeFromBucketSpec(this._url,U):zs(U,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(U){In("time",0,Number.POSITIVE_INFINITY,U),this._maxUploadRetryTime=U}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(U){In("time",0,Number.POSITIVE_INFINITY,U),this._maxOperationRetryTime=U}_getAuthToken(){var U=this;return(0,ie.Z)(function*(){if(U._overrideAuthToken)return U._overrideAuthToken;const ae=U._authProvider.getImmediate({optional:!0});if(ae){const ue=yield ae.getToken();if(null!==ue)return ue.accessToken}return null})()}_getAppCheckToken(){var U=this;return(0,ie.Z)(function*(){const ae=U._appCheckProvider.getImmediate({optional:!0});return ae?(yield ae.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(U=>U.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(U){return new Gi(this,U)}_makeRequest(U,ae,ue,Me,Je=!0){if(this._deleted)return new fe(nn());{const mt=function Zt(F,U,ae,ue,Me,Je,mt=!0){const Bt=kn(F.urlParams),$t=F.url+Bt,wn=Object.assign({},F.headers);return function Fr(F,U){U&&(F["X-Firebase-GMPID"]=U)}(wn,U),function Kr(F,U){null!==U&&U.length>0&&(F.Authorization="Firebase "+U)}(wn,ae),function ji(F,U){F["X-Firebase-Storage-Version"]="webjs/"+(U??"AppManager")}(wn,Je),function Ur(F,U){null!==U&&(F["X-Firebase-AppCheck"]=U)}(wn,ue),new sr($t,F.method,wn,F.body,F.successCodes,F.additionalRetryCodes,F.handler,F.errorHandler,F.timeout,F.progressCallback,Me,mt)}(U,this._appId,ue,Me,ae,this._firebaseVersion,Je);return this._requests.add(mt),mt.getPromise().then(()=>this._requests.delete(mt),()=>this._requests.delete(mt)),mt}}makeRequestWithTokens(U,ae){var ue=this;return(0,ie.Z)(function*(){const[Me,Je]=yield Promise.all([ue._getAuthToken(),ue._getAppCheckToken()]);return ue._makeRequest(U,ae,Me,Je).getPromise()})()}}const Pi="@firebase/storage",Xn="storage";function Mt(F,U,ae){return function Ei(F,U,ae){F._throwIfRoot("uploadBytes");const ue=As(F.storage,F._location,pe(),new Jn(U,!0),ae);return F.storage.makeRequestWithTokens(ue,qn).then(Me=>({metadata:Me,ref:F}))}(F=(0,ye.m9)(F),U,ae)}function Dr(F){return function fo(F){const U={prefixes:[],items:[]};return js(F,U).then(()=>U)}(F=(0,ye.m9)(F))}function es(F){return ys(F=(0,ye.m9)(F))}function ln(F,U){return function hi(F,U){if(U&&function wr(F){return/^[A-Za-z]+:\/\//.test(F)}(U)){if(F instanceof Xi)return function Yr(F,U){return new Gi(F,U)}(F,U);throw Et("To use ref(service, url), the first argument must be a Storage instance.")}return vs(F,U)}(F=(0,ye.m9)(F),U)}function Fi(F=(0,Ae.Mq)(),U){F=(0,ye.m9)(F);const ue=(0,Ae.qX)(F,Xn).getImmediate({identifier:U}),Me=(0,ye.P0)("storage");return Me&&function Tr(F,U,ae,ue={}){!function Eo(F,U,ae,ue={}){F.host=`${U}:${ae}`,F._protocol="http";const{mockUserToken:Me}=ue;Me&&(F._overrideAuthToken="string"==typeof Me?Me:(0,ye.Sg)(Me,F.app.options.projectId))}(F,U,ae,ue)}(ue,...Me),ue}function ii(F,{instanceIdentifier:U}){const ae=F.getProvider("app").getImmediate(),ue=F.getProvider("auth-internal"),Me=F.getProvider("app-check-internal");return new Xi(ae,ue,Me,U,Ae.Jn)}!function Is(){(0,Ae.Xd)(new ge.wA(Xn,ii,"PUBLIC").setMultipleInstances(!0)),(0,Ae.KN)(Pi,"0.11.2",""),(0,Ae.KN)(Pi,"0.11.2","esm2017")}();class Ms{constructor(U){return U}}const So="storage",Mi=new re.OlP("angularfire2.storage-instances");function Sn(F){return(U,ae)=>{const ue=U.runOutsideAngular(()=>F(ae));return new Ms(ue)}}const bo={provide:class Ns{constructor(){return(0,_.vb)(So)}},deps:[[new re.FiY,Mi]]},os={provide:Ms,useFactory:function Io(F,U){const ae=(0,_.JM)(So,F,U);return ae&&new Ms(ae)},deps:[[new re.FiY,Mi],he.Ot]};let mr=(()=>{class F{constructor(){(0,Y.KN)("angularfire",_.q4.full,"gcs")}static \u0275fac=function(ue){return new(ue||F)};static \u0275mod=re.oAB({type:F});static \u0275inj=re.cJS({providers:[os,bo]})}return F})();function Ni(F,...U){return{ngModule:mr,providers:[{provide:Mi,useFactory:Sn(F),multi:!0,deps:[re.R0b,re.zs3,_.HU,he.z6,[new re.FiY,J.dh],[new re.FiY,_.Rf],...U]}]}}const Oi=(0,_.u3)(es,!0),Ii=(0,_.u3)(Fi,!0),Ro=(0,_.u3)(Dr,!0),Ws=(0,_.u3)(ln,!0),wa=(0,_.u3)(Mt,!0)},1920:(It,Fe,L)=>{L.d(Fe,{q4:()=>Qe,HU:()=>Ce,Rf:()=>ht,vb:()=>_t,JM:()=>Ze,u3:()=>Nn});var _=L(5879),re=L(3182),he=L(1954),Y=L(2631);const Ae=new class ie extends Y.v{}(class J extends he.o{constructor(nn,qt){super(nn,qt),this.scheduler=nn,this.work=qt}schedule(nn,qt=0){return qt>0?super.schedule(nn,qt):(this.delay=qt,this.state=nn,this.scheduler.flush(this),this)}execute(nn,qt){return qt>0||this.closed?super.execute(nn,qt):this._execute(nn,qt)}requestAsyncId(nn,qt,Pe=0){return null!=Pe&&Pe>0||null==Pe&&this.delay>0?super.requestAsyncId(nn,qt,Pe):(nn.flush(this),0)}});var ge=L(6321),ee=L(5592),ce=L(9397),Ee=L(5137),we=L(3093);const Qe=new _.GfV("ANGULARFIRE2_VERSION");function Ze(Et,nn,qt){if(nn){if(1===nn.length)return nn[0];const Ue=nn.filter(fe=>fe.app===qt);if(1===Ue.length)return Ue[0]}return qt.container.getProvider(Et).getImmediate({optional:!0})}const _t=(Et,nn)=>{const qt=nn?[nn]:(0,re.C6)(),Pe=[];return qt.forEach(Ve=>{Ve.container.getProvider(Et).instances.forEach(fe=>{Pe.includes(fe)||Pe.push(fe)})}),Pe};class ht{constructor(){return _t(Jt)}}const Jt="app-check";function Tt(){}class le{zone;delegate;constructor(nn,qt=Ae){this.zone=nn,this.delegate=qt}now(){return this.delegate.now()}schedule(nn,qt,Pe){const Ve=this.zone;return this.delegate.schedule(function(fe){Ve.runGuarded(()=>{nn.apply(this,[fe])})},qt,Pe)}}class qe{zone;task=null;constructor(nn){this.zone=nn}call(nn,qt){const Pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Tt,{},Tt,Tt)),qt.pipe((0,ce.b)({next:Pe,complete:Pe,error:Pe})).subscribe(nn).add(Pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ce=(()=>{class Et{ngZone;outsideAngular;insideAngular;constructor(qt){this.ngZone=qt,this.outsideAngular=qt.runOutsideAngular(()=>new le(Zone.current)),this.insideAngular=qt.run(()=>new le(Zone.current,ge.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Pe){return new(Pe||Et)(_.LFG(_.R0b))};static \u0275prov=_.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"})}return Et})();function Ye(){const Et=globalThis.\u0275AngularFireScheduler;if(!Et)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Et}function lt(Et){return Ye().ngZone.run(()=>Et())}function Kn(Et){return function ct(Et){return function(qt){return(qt=qt.lift(new qe(Et.ngZone))).pipe((0,Ee.R)(Et.outsideAngular),(0,we.Q)(Et.insideAngular))}}(Ye())(Et)}const En=(Et,nn)=>function(){const Pe=arguments;return nn&&setTimeout(()=>{"scheduled"===nn.state&&nn.invoke()},10),lt(()=>Et.apply(void 0,Pe))},Nn=(Et,nn)=>function(){let qt;const Pe=arguments;for(let Ue=0;Ue<arguments.length;Ue++)"function"==typeof Pe[Ue]&&(nn&&(qt||=lt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Tt,{},Tt,Tt))),Pe[Ue]=En(Pe[Ue],qt));const Ve=function ut(Et){return Ye().ngZone.runOutsideAngular(()=>Et())}(()=>Et.apply(this,Pe));if(!nn){if(Ve instanceof ee.y){const Ue=Ye();return Ve.pipe((0,Ee.R)(Ue.outsideAngular),(0,we.Q)(Ue.insideAngular))}return lt(()=>Ve)}return Ve instanceof ee.y?Ve.pipe(Kn):Ve instanceof Promise?lt(()=>new Promise((Ue,fe)=>Ve.then(Be=>lt(()=>Ue(Be)),Be=>lt(()=>fe(Be))))):"function"==typeof Ve&&qt?function(){return setTimeout(()=>{qt&&"scheduled"===qt.state&&qt.invoke()},10),Ve.apply(this,arguments)}:lt(()=>Ve)}},6593:(It,Fe,L)=>{L.d(Fe,{Dx:()=>ji,H7:()=>ci,b2:()=>Ln,q6:()=>Vt,se:()=>lt});var _=L(5879),re=L(6814);class he extends re.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class J extends he{static makeCurrent(){(0,re.HT)(new J)}onAndCancel(Q,W,q){return Q.addEventListener(W,q),()=>{Q.removeEventListener(W,q)}}dispatchEvent(Q,W){Q.dispatchEvent(W)}remove(Q){Q.parentNode&&Q.parentNode.removeChild(Q)}createElement(Q,W){return(W=W||this.getDefaultDocument()).createElement(Q)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Q){return Q.nodeType===Node.ELEMENT_NODE}isShadowRoot(Q){return Q instanceof DocumentFragment}getGlobalEventTarget(Q,W){return"window"===W?window:"document"===W?Q:"body"===W?Q.body:null}getBaseHref(Q){const W=function ie(){return Y=Y||document.querySelector("base"),Y?Y.getAttribute("href"):null}();return null==W?null:function ye(G){Ae=Ae||document.createElement("a"),Ae.setAttribute("href",G);const Q=Ae.pathname;return"/"===Q.charAt(0)?Q:`/${Q}`}(W)}resetBaseElement(){Y=null}getUserAgent(){return window.navigator.userAgent}getCookie(Q){return(0,re.Mx)(document.cookie,Q)}}let Ae,Y=null,ee=(()=>{class G{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(q){return new(q||G)};static#t=this.\u0275prov=_.Yz7({token:G,factory:G.\u0275fac})}return G})();const ce=new _.OlP("EventManagerPlugins");let Ee=(()=>{class G{constructor(W,q){this._zone=q,this._eventNameToPlugin=new Map,W.forEach(Re=>{Re.manager=this}),this._plugins=W.slice().reverse()}addEventListener(W,q,Re){return this._findPluginFor(q).addEventListener(W,q,Re)}getZone(){return this._zone}_findPluginFor(W){let q=this._eventNameToPlugin.get(W);if(q)return q;if(q=this._plugins.find(tt=>tt.supports(W)),!q)throw new _.vHH(5101,!1);return this._eventNameToPlugin.set(W,q),q}static#e=this.\u0275fac=function(q){return new(q||G)(_.LFG(ce),_.LFG(_.R0b))};static#t=this.\u0275prov=_.Yz7({token:G,factory:G.\u0275fac})}return G})();class we{constructor(Q){this._doc=Q}}const Qe="ng-app-id";let Le=(()=>{class G{constructor(W,q,Re,tt={}){this.doc=W,this.appId=q,this.nonce=Re,this.platformId=tt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,re.PM)(tt),this.resetHostNodes()}addStyles(W){for(const q of W)1===this.changeUsageCount(q,1)&&this.onStyleAdded(q)}removeStyles(W){for(const q of W)this.changeUsageCount(q,-1)<=0&&this.onStyleRemoved(q)}ngOnDestroy(){const W=this.styleNodesInDOM;W&&(W.forEach(q=>q.remove()),W.clear());for(const q of this.getAllStyles())this.onStyleRemoved(q);this.resetHostNodes()}addHost(W){this.hostNodes.add(W);for(const q of this.getAllStyles())this.addStyleToHost(W,q)}removeHost(W){this.hostNodes.delete(W)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(W){for(const q of this.hostNodes)this.addStyleToHost(q,W)}onStyleRemoved(W){const q=this.styleRef;q.get(W)?.elements?.forEach(Re=>Re.remove()),q.delete(W)}collectServerRenderedStyles(){const W=this.doc.head?.querySelectorAll(`style[${Qe}="${this.appId}"]`);if(W?.length){const q=new Map;return W.forEach(Re=>{null!=Re.textContent&&q.set(Re.textContent,Re)}),q}return null}changeUsageCount(W,q){const Re=this.styleRef;if(Re.has(W)){const tt=Re.get(W);return tt.usage+=q,tt.usage}return Re.set(W,{usage:q,elements:[]}),q}getStyleElement(W,q){const Re=this.styleNodesInDOM,tt=Re?.get(q);if(tt?.parentNode===W)return Re.delete(q),tt.removeAttribute(Qe),tt;{const pt=this.doc.createElement("style");return this.nonce&&pt.setAttribute("nonce",this.nonce),pt.textContent=q,this.platformIsServer&&pt.setAttribute(Qe,this.appId),pt}}addStyleToHost(W,q){const Re=this.getStyleElement(W,q);W.appendChild(Re);const tt=this.styleRef,pt=tt.get(q)?.elements;pt?pt.push(Re):tt.set(q,{elements:[Re],usage:1})}resetHostNodes(){const W=this.hostNodes;W.clear(),W.add(this.doc.head)}static#e=this.\u0275fac=function(q){return new(q||G)(_.LFG(re.K0),_.LFG(_.AFp),_.LFG(_.Ojb,8),_.LFG(_.Lbi))};static#t=this.\u0275prov=_.Yz7({token:G,factory:G.\u0275fac})}return G})();const Ze={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_t=/%COMP%/g,qe=new _.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ut(G,Q){return Q.map(W=>W.replace(_t,G))}let lt=(()=>{class G{constructor(W,q,Re,tt,pt,xt,en,St=null){this.eventManager=W,this.sharedStylesHost=q,this.appId=Re,this.removeStylesOnCompDestroy=tt,this.doc=pt,this.platformId=xt,this.ngZone=en,this.nonce=St,this.rendererByCompId=new Map,this.platformIsServer=(0,re.PM)(xt),this.defaultRenderer=new hn(W,pt,en,this.platformIsServer)}createRenderer(W,q){if(!W||!q)return this.defaultRenderer;this.platformIsServer&&q.encapsulation===_.ifc.ShadowDom&&(q={...q,encapsulation:_.ifc.Emulated});const Re=this.getOrCreateRenderer(W,q);return Re instanceof Et?Re.applyToHost(W):Re instanceof Nn&&Re.applyStyles(),Re}getOrCreateRenderer(W,q){const Re=this.rendererByCompId;let tt=Re.get(q.id);if(!tt){const pt=this.doc,xt=this.ngZone,en=this.eventManager,St=this.sharedStylesHost,Qt=this.removeStylesOnCompDestroy,$n=this.platformIsServer;switch(q.encapsulation){case _.ifc.Emulated:tt=new Et(en,St,q,this.appId,Qt,pt,xt,$n);break;case _.ifc.ShadowDom:return new En(en,St,W,q,pt,xt,this.nonce,$n);default:tt=new Nn(en,St,q,Qt,pt,xt,$n)}Re.set(q.id,tt)}return tt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(q){return new(q||G)(_.LFG(Ee),_.LFG(Le),_.LFG(_.AFp),_.LFG(qe),_.LFG(re.K0),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(_.Ojb))};static#t=this.\u0275prov=_.Yz7({token:G,factory:G.\u0275fac})}return G})();class hn{constructor(Q,W,q,Re){this.eventManager=Q,this.doc=W,this.ngZone=q,this.platformIsServer=Re,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Q,W){return W?this.doc.createElementNS(Ze[W]||W,Q):this.doc.createElement(Q)}createComment(Q){return this.doc.createComment(Q)}createText(Q){return this.doc.createTextNode(Q)}appendChild(Q,W){(ct(Q)?Q.content:Q).appendChild(W)}insertBefore(Q,W,q){Q&&(ct(Q)?Q.content:Q).insertBefore(W,q)}removeChild(Q,W){Q&&Q.removeChild(W)}selectRootElement(Q,W){let q="string"==typeof Q?this.doc.querySelector(Q):Q;if(!q)throw new _.vHH(-5104,!1);return W||(q.textContent=""),q}parentNode(Q){return Q.parentNode}nextSibling(Q){return Q.nextSibling}setAttribute(Q,W,q,Re){if(Re){W=Re+":"+W;const tt=Ze[Re];tt?Q.setAttributeNS(tt,W,q):Q.setAttribute(W,q)}else Q.setAttribute(W,q)}removeAttribute(Q,W,q){if(q){const Re=Ze[q];Re?Q.removeAttributeNS(Re,W):Q.removeAttribute(`${q}:${W}`)}else Q.removeAttribute(W)}addClass(Q,W){Q.classList.add(W)}removeClass(Q,W){Q.classList.remove(W)}setStyle(Q,W,q,Re){Re&(_.JOm.DashCase|_.JOm.Important)?Q.style.setProperty(W,q,Re&_.JOm.Important?"important":""):Q.style[W]=q}removeStyle(Q,W,q){q&_.JOm.DashCase?Q.style.removeProperty(W):Q.style[W]=""}setProperty(Q,W,q){Q[W]=q}setValue(Q,W){Q.nodeValue=W}listen(Q,W,q){if("string"==typeof Q&&!(Q=(0,re.q)().getGlobalEventTarget(this.doc,Q)))throw new Error(`Unsupported event target ${Q} for event ${W}`);return this.eventManager.addEventListener(Q,W,this.decoratePreventDefault(q))}decoratePreventDefault(Q){return W=>{if("__ngUnwrap__"===W)return Q;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Q(W)):Q(W))&&W.preventDefault()}}}function ct(G){return"TEMPLATE"===G.tagName&&void 0!==G.content}class En extends hn{constructor(Q,W,q,Re,tt,pt,xt,en){super(Q,tt,pt,en),this.sharedStylesHost=W,this.hostEl=q,this.shadowRoot=q.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const St=ut(Re.id,Re.styles);for(const Qt of St){const $n=document.createElement("style");xt&&$n.setAttribute("nonce",xt),$n.textContent=Qt,this.shadowRoot.appendChild($n)}}nodeOrShadowRoot(Q){return Q===this.hostEl?this.shadowRoot:Q}appendChild(Q,W){return super.appendChild(this.nodeOrShadowRoot(Q),W)}insertBefore(Q,W,q){return super.insertBefore(this.nodeOrShadowRoot(Q),W,q)}removeChild(Q,W){return super.removeChild(this.nodeOrShadowRoot(Q),W)}parentNode(Q){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Q)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Nn extends hn{constructor(Q,W,q,Re,tt,pt,xt,en){super(Q,tt,pt,xt),this.sharedStylesHost=W,this.removeStylesOnCompDestroy=Re,this.styles=en?ut(en,q.styles):q.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Et extends Nn{constructor(Q,W,q,Re,tt,pt,xt,en){const St=Re+"-"+q.id;super(Q,W,q,tt,pt,xt,en,St),this.contentAttr=function Ce(G){return"_ngcontent-%COMP%".replace(_t,G)}(St),this.hostAttr=function Ye(G){return"_nghost-%COMP%".replace(_t,G)}(St)}applyToHost(Q){this.applyStyles(),this.setAttribute(Q,this.hostAttr,"")}createElement(Q,W){const q=super.createElement(Q,W);return super.setAttribute(q,this.contentAttr,""),q}}let nn=(()=>{class G extends we{constructor(W){super(W)}supports(W){return!0}addEventListener(W,q,Re){return W.addEventListener(q,Re,!1),()=>this.removeEventListener(W,q,Re)}removeEventListener(W,q,Re){return W.removeEventListener(q,Re)}static#e=this.\u0275fac=function(q){return new(q||G)(_.LFG(re.K0))};static#t=this.\u0275prov=_.Yz7({token:G,factory:G.\u0275fac})}return G})();const qt=["alt","control","meta","shift"],Pe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ve={alt:G=>G.altKey,control:G=>G.ctrlKey,meta:G=>G.metaKey,shift:G=>G.shiftKey};let Ue=(()=>{class G extends we{constructor(W){super(W)}supports(W){return null!=G.parseEventName(W)}addEventListener(W,q,Re){const tt=G.parseEventName(q),pt=G.eventCallback(tt.fullKey,Re,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,re.q)().onAndCancel(W,tt.domEventName,pt))}static parseEventName(W){const q=W.toLowerCase().split("."),Re=q.shift();if(0===q.length||"keydown"!==Re&&"keyup"!==Re)return null;const tt=G._normalizeKey(q.pop());let pt="",xt=q.indexOf("code");if(xt>-1&&(q.splice(xt,1),pt="code."),qt.forEach(St=>{const Qt=q.indexOf(St);Qt>-1&&(q.splice(Qt,1),pt+=St+".")}),pt+=tt,0!=q.length||0===tt.length)return null;const en={};return en.domEventName=Re,en.fullKey=pt,en}static matchEventFullKeyCode(W,q){let Re=Pe[W.key]||W.key,tt="";return q.indexOf("code.")>-1&&(Re=W.code,tt="code."),!(null==Re||!Re)&&(Re=Re.toLowerCase()," "===Re?Re="space":"."===Re&&(Re="dot"),qt.forEach(pt=>{pt!==Re&&(0,Ve[pt])(W)&&(tt+=pt+".")}),tt+=Re,tt===q)}static eventCallback(W,q,Re){return tt=>{G.matchEventFullKeyCode(tt,W)&&Re.runGuarded(()=>q(tt))}}static _normalizeKey(W){return"esc"===W?"escape":W}static#e=this.\u0275fac=function(q){return new(q||G)(_.LFG(re.K0))};static#t=this.\u0275prov=_.Yz7({token:G,factory:G.\u0275fac})}return G})();const Vt=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:re.bD},{provide:_.g9A,useValue:function be(){J.makeCurrent()},multi:!0},{provide:re.K0,useFactory:function kt(){return(0,_.RDi)(document),document},deps:[]}]),In=new _.OlP(""),Tn=[{provide:_.rWj,useClass:class ge{addToWindow(Q){_.dqk.getAngularTestability=(q,Re=!0)=>{const tt=Q.findTestabilityInTree(q,Re);if(null==tt)throw new _.vHH(5103,!1);return tt},_.dqk.getAllAngularTestabilities=()=>Q.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>Q.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(q=>{const Re=_.dqk.getAllAngularTestabilities();let tt=Re.length,pt=!1;const xt=function(en){pt=pt||en,tt--,0==tt&&q(pt)};Re.forEach(en=>{en.whenStable(xt)})})}findTestabilityInTree(Q,W,q){return null==W?null:Q.getTestability(W)??(q?(0,re.q)().isShadowRoot(W)?this.findTestabilityInTree(Q,W.host,!0):this.findTestabilityInTree(Q,W.parentElement,!0):null)}},deps:[]},{provide:_.lri,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]}],kn=[{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function et(){return new _.qLn},deps:[]},{provide:ce,useClass:nn,multi:!0,deps:[re.K0,_.R0b,_.Lbi]},{provide:ce,useClass:Ue,multi:!0,deps:[re.K0]},lt,Le,Ee,{provide:_.FYo,useExisting:lt},{provide:re.JF,useClass:ee,deps:[]},[]];let Ln=(()=>{class G{constructor(W){}static withServerTransition(W){return{ngModule:G,providers:[{provide:_.AFp,useValue:W.appId}]}}static#e=this.\u0275fac=function(q){return new(q||G)(_.LFG(In,12))};static#t=this.\u0275mod=_.oAB({type:G});static#n=this.\u0275inj=_.cJS({providers:[...kn,...Tn],imports:[re.ez,_.hGG]})}return G})(),ji=(()=>{class G{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}static#e=this.\u0275fac=function(q){return new(q||G)(_.LFG(re.K0))};static#t=this.\u0275prov=_.Yz7({token:G,factory:function(q){let Re=null;return Re=q?new q:function Kr(){return new ji((0,_.LFG)(re.K0))}(),Re},providedIn:"root"})}return G})();typeof window<"u"&&window;let ci=(()=>{class G{static#e=this.\u0275fac=function(q){return new(q||G)};static#t=this.\u0275prov=_.Yz7({token:G,factory:function(q){let Re=null;return Re=q?new(q||G):_.LFG(yi),Re},providedIn:"root"})}return G})(),yi=(()=>{class G extends ci{constructor(W){super(),this._doc=W}sanitize(W,q){if(null==q)return null;switch(W){case _.q3G.NONE:return q;case _.q3G.HTML:return(0,_.qzn)(q,"HTML")?(0,_.z3N)(q):(0,_.EiD)(this._doc,String(q)).toString();case _.q3G.STYLE:return(0,_.qzn)(q,"Style")?(0,_.z3N)(q):q;case _.q3G.SCRIPT:if((0,_.qzn)(q,"Script"))return(0,_.z3N)(q);throw new _.vHH(5200,!1);case _.q3G.URL:return(0,_.qzn)(q,"URL")?(0,_.z3N)(q):(0,_.mCW)(String(q));case _.q3G.RESOURCE_URL:if((0,_.qzn)(q,"ResourceURL"))return(0,_.z3N)(q);throw new _.vHH(5201,!1);default:throw new _.vHH(5202,!1)}}bypassSecurityTrustHtml(W){return(0,_.JVY)(W)}bypassSecurityTrustStyle(W){return(0,_.L6k)(W)}bypassSecurityTrustScript(W){return(0,_.eBb)(W)}bypassSecurityTrustUrl(W){return(0,_.LAX)(W)}bypassSecurityTrustResourceUrl(W){return(0,_.pB0)(W)}static#e=this.\u0275fac=function(q){return new(q||G)(_.LFG(re.K0))};static#t=this.\u0275prov=_.Yz7({token:G,factory:function(q){let Re=null;return Re=q?new q:function Jn(G){return new yi(G.get(re.K0))}(_.LFG(_.zs3)),Re},providedIn:"root"})}return G})()},1896:(It,Fe,L)=>{L.d(Fe,{F0:()=>cr,rH:()=>Lt,Bz:()=>Mo,lC:()=>$r});var _=L(5879),re=L(2664),he=L(2459),J=L(2096),Y=L(5619),ie=L(2572);const ye=(0,L(2306).d)(I=>function(){I(this),this.name="EmptyError",this.message="no elements in sequence"});var ge=L(5211),ee=L(4911),ce=L(8407),Ee=L(8504),we=L(6232),Qe=L(3168),Le=L(8645),Ze=L(7394),_t=L(6814),ht=L(7398),Jt=L(4664),Tt=L(8180),le=L(7921),qe=L(2181),Ce=L(1631),Ye=L(9360),ut=L(8251);function lt(I){return(0,Ye.e)((b,y)=>{let S=!1;b.subscribe((0,ut.x)(y,O=>{S=!0,y.next(O)},()=>{S||y.next(I),y.complete()}))})}function hn(I=fn){return(0,Ye.e)((b,y)=>{let S=!1;b.subscribe((0,ut.x)(y,O=>{S=!0,y.next(O)},()=>S?y.complete():y.error(I())))})}function fn(){return new ye}var Kn=L(2737);function ct(I,b){const y=arguments.length>=2;return S=>S.pipe(I?(0,qe.h)((O,K)=>I(O,K,S)):Kn.y,(0,Tt.q)(1),y?lt(b):hn(()=>new ye))}var En=L(6328),Nn=L(9397),Et=L(6306);function Pe(I){return I<=0?()=>we.E:(0,Ye.e)((b,y)=>{let S=[];b.subscribe((0,ut.x)(y,O=>{S.push(O),I<S.length&&S.shift()},()=>{for(const O of S)y.next(O);y.complete()},void 0,()=>{S=null}))})}var Ue=L(975),fe=L(4716),Be=L(6196),de=L(9773),Se=L(7537),be=L(6593);const et="primary",kt=Symbol("RouteTitle");class dn{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y[0]:y}return null}getAll(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Vt(I){return new dn(I)}function In(I,b,y){const S=y.path.split("/");if(S.length>I.length||"full"===y.pathMatch&&(b.hasChildren()||S.length<I.length))return null;const O={};for(let K=0;K<S.length;K++){const oe=S[K],ze=I[K];if(oe.startsWith(":"))O[oe.substring(1)]=ze;else if(oe!==ze.path)return null}return{consumed:I.slice(0,S.length),posParams:O}}function kn(I,b){const y=I?Object.keys(I):void 0,S=b?Object.keys(b):void 0;if(!y||!S||y.length!=S.length)return!1;let O;for(let K=0;K<y.length;K++)if(O=y[K],!Ln(I[O],b[O]))return!1;return!0}function Ln(I,b){if(Array.isArray(I)&&Array.isArray(b)){if(I.length!==b.length)return!1;const y=[...I].sort(),S=[...b].sort();return y.every((O,K)=>S[K]===O)}return I===b}function Fn(I){return I.length>0?I[I.length-1]:null}function sr(I){return(0,re.b)(I)?I:(0,_.QGY)(I)?(0,he.D)(Promise.resolve(I)):(0,J.of)(I)}const qr={exact:function Ur(I,b,y){if(!_i(I.segments,b.segments)||!Qn(I.segments,b.segments,y)||I.numberOfChildren!==b.numberOfChildren)return!1;for(const S in b.children)if(!I.children[S]||!Ur(I.children[S],b.children[S],y))return!1;return!0},subset:_n},Kr={exact:function Fr(I,b){return kn(I,b)},subset:function Zt(I,b){return Object.keys(b).length<=Object.keys(I).length&&Object.keys(b).every(y=>Ln(I[y],b[y]))},ignored:()=>!0};function ji(I,b,y){return qr[y.paths](I.root,b.root,y.matrixParams)&&Kr[y.queryParams](I.queryParams,b.queryParams)&&!("exact"===y.fragment&&I.fragment!==b.fragment)}function _n(I,b,y){return on(I,b,b.segments,y)}function on(I,b,y,S){if(I.segments.length>y.length){const O=I.segments.slice(0,y.length);return!(!_i(O,y)||b.hasChildren()||!Qn(O,y,S))}if(I.segments.length===y.length){if(!_i(I.segments,y)||!Qn(I.segments,y,S))return!1;for(const O in b.children)if(!I.children[O]||!_n(I.children[O],b.children[O],S))return!1;return!0}{const O=y.slice(0,I.segments.length),K=y.slice(I.segments.length);return!!(_i(I.segments,O)&&Qn(I.segments,O,S)&&I.children[et])&&on(I.children[et],b,K,S)}}function Qn(I,b,y){return b.every((S,O)=>Kr[y](I[O].parameters,S.parameters))}class Qr{constructor(b=new Xt([],{}),y={},S=null){this.root=b,this.queryParams=y,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vt(this.queryParams)),this._queryParamMap}toString(){return Ji.serialize(this)}}class Xt{constructor(b,y){this.segments=b,this.children=y,this.parent=null,Object.values(y).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Br(this)}}class An{constructor(b,y){this.path=b,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Vt(this.parameters)),this._parameterMap}toString(){return cn(this)}}function _i(I,b){return I.length===b.length&&I.every((y,S)=>y.path===b[S].path)}let Hi=(()=>{class I{static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=_.Yz7({token:I,factory:function(){return new an},providedIn:"root"})}return I})();class an{parse(b){const y=new xt(b);return new Qr(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(b){const y=`/${ci(b.root,!0)}`,S=function zi(I){const b=Object.keys(I).map(y=>{const S=I[y];return Array.isArray(S)?S.map(O=>`${yi(y)}=${yi(O)}`).join("&"):`${yi(y)}=${yi(S)}`}).filter(y=>!!y);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${y}${S}${"string"==typeof b.fragment?`#${function li(I){return encodeURI(I)}(b.fragment)}`:""}`}}const Ji=new an;function Br(I){return I.segments.map(b=>cn(b)).join("/")}function ci(I,b){if(!I.hasChildren())return Br(I);if(b){const y=I.children[et]?ci(I.children[et],!1):"",S=[];return Object.entries(I.children).forEach(([O,K])=>{O!==et&&S.push(`${O}:${ci(K,!1)}`)}),S.length>0?`${y}(${S.join("//")})`:y}{const y=function Gt(I,b){let y=[];return Object.entries(I.children).forEach(([S,O])=>{S===et&&(y=y.concat(b(O,S)))}),Object.entries(I.children).forEach(([S,O])=>{S!==et&&(y=y.concat(b(O,S)))}),y}(I,(S,O)=>O===et?[ci(I.children[et],!1)]:[`${O}:${ci(S,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[et]?`${Br(I)}/${y[0]}`:`${Br(I)}/(${y.join("//")})`}}function Jn(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yi(I){return Jn(I).replace(/%3B/gi,";")}function bi(I){return Jn(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vr(I){return decodeURIComponent(I)}function or(I){return Vr(I.replace(/\+/g,"%20"))}function cn(I){return`${bi(I.path)}${function vi(I){return Object.keys(I).map(b=>`;${bi(b)}=${bi(I[b])}`).join("")}(I.parameters)}`}const pe=/^[^\/()?;#]+/;function G(I){const b=I.match(pe);return b?b[0]:""}const Q=/^[^\/()?;=#]+/,q=/^[^=?&#]+/,tt=/^[^&#]+/;class xt{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(b.length>0||Object.keys(y).length>0)&&(S[et]=new Xt(b,y)),S}parseSegment(){const b=G(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new _.vHH(4009,!1);return this.capture(b),new An(Vr(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const y=function W(I){const b=I.match(Q);return b?b[0]:""}(this.remaining);if(!y)return;this.capture(y);let S="";if(this.consumeOptional("=")){const O=G(this.remaining);O&&(S=O,this.capture(S))}b[Vr(y)]=Vr(S)}parseQueryParam(b){const y=function Re(I){const b=I.match(q);return b?b[0]:""}(this.remaining);if(!y)return;this.capture(y);let S="";if(this.consumeOptional("=")){const oe=function pt(I){const b=I.match(tt);return b?b[0]:""}(this.remaining);oe&&(S=oe,this.capture(S))}const O=or(y),K=or(S);if(b.hasOwnProperty(O)){let oe=b[O];Array.isArray(oe)||(oe=[oe],b[O]=oe),oe.push(K)}else b[O]=K}parseParens(b){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=G(this.remaining),O=this.remaining[S.length];if("/"!==O&&")"!==O&&";"!==O)throw new _.vHH(4010,!1);let K;S.indexOf(":")>-1?(K=S.slice(0,S.indexOf(":")),this.capture(K),this.capture(":")):b&&(K=et);const oe=this.parseChildren();y[K]=1===Object.keys(oe).length?oe[et]:new Xt([],oe),this.consumeOptional("//")}return y}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new _.vHH(4011,!1)}}function en(I){return I.segments.length>0?new Xt([],{[et]:I}):I}function St(I){const b={};for(const S of Object.keys(I.children)){const K=St(I.children[S]);if(S===et&&0===K.segments.length&&K.hasChildren())for(const[oe,ze]of Object.entries(K.children))b[oe]=ze;else(K.segments.length>0||K.hasChildren())&&(b[S]=K)}return function Qt(I){if(1===I.numberOfChildren&&I.children[et]){const b=I.children[et];return new Xt(I.segments.concat(b.segments),b.children)}return I}(new Xt(I.segments,b))}function $n(I){return I instanceof Qr}function Li(I){let b;const O=en(function y(K){const oe={};for(const $e of K.children){const yt=y($e);oe[$e.outlet]=yt}const ze=new Xt(K.url,oe);return K===I&&(b=ze),ze}(I.root));return b??O}function Pr(I,b,y,S){let O=I;for(;O.parent;)O=O.parent;if(0===b.length)return st(O,O,O,y,S);const K=function bt(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new tn(!0,0,I);let b=0,y=!1;const S=I.reduce((O,K,oe)=>{if("object"==typeof K&&null!=K){if(K.outlets){const ze={};return Object.entries(K.outlets).forEach(([$e,yt])=>{ze[$e]="string"==typeof yt?yt.split("/"):yt}),[...O,{outlets:ze}]}if(K.segmentPath)return[...O,K.segmentPath]}return"string"!=typeof K?[...O,K]:0===oe?(K.split("/").forEach((ze,$e)=>{0==$e&&"."===ze||(0==$e&&""===ze?y=!0:".."===ze?b++:""!=ze&&O.push(ze))}),O):[...O,K]},[]);return new tn(y,b,S)}(b);if(K.toRoot())return st(O,O,new Xt([],{}),y,S);const oe=function gr(I,b,y){if(I.isAbsolute)return new Cn(b,!0,0);if(!y)return new Cn(b,!1,NaN);if(null===y.parent)return new Cn(y,!0,0);const S=We(I.commands[0])?0:1;return function ar(I,b,y){let S=I,O=b,K=y;for(;K>O;){if(K-=O,S=S.parent,!S)throw new _.vHH(4005,!1);O=S.segments.length}return new Cn(S,!1,O-K)}(y,y.segments.length-1+S,I.numberOfDoubleDots)}(K,O,I),ze=oe.processChildren?Mr(oe.segmentGroup,oe.index,K.commands):di(oe.segmentGroup,oe.index,K.commands);return st(O,oe.segmentGroup,ze,y,S)}function We(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Ne(I){return"object"==typeof I&&null!=I&&I.outlets}function st(I,b,y,S,O){let oe,K={};S&&Object.entries(S).forEach(([$e,yt])=>{K[$e]=Array.isArray(yt)?yt.map(Dn=>`${Dn}`):`${yt}`}),oe=I===b?y:Ut(I,b,y);const ze=en(St(oe));return new Qr(ze,K,O)}function Ut(I,b,y){const S={};return Object.entries(I.children).forEach(([O,K])=>{S[O]=K===b?y:Ut(K,b,y)}),new Xt(I.segments,S)}class tn{constructor(b,y,S){if(this.isAbsolute=b,this.numberOfDoubleDots=y,this.commands=S,b&&S.length>0&&We(S[0]))throw new _.vHH(4003,!1);const O=S.find(Ne);if(O&&O!==Fn(S))throw new _.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cn{constructor(b,y,S){this.segmentGroup=b,this.processChildren=y,this.index=S}}function di(I,b,y){if(I||(I=new Xt([],{})),0===I.segments.length&&I.hasChildren())return Mr(I,b,y);const S=function no(I,b,y){let S=0,O=b;const K={match:!1,pathIndex:0,commandIndex:0};for(;O<I.segments.length;){if(S>=y.length)return K;const oe=I.segments[O],ze=y[S];if(Ne(ze))break;const $e=`${ze}`,yt=S<y.length-1?y[S+1]:null;if(O>0&&void 0===$e)break;if($e&&yt&&"object"==typeof yt&&void 0===yt.outlets){if(!ro($e,yt,oe))return K;S+=2}else{if(!ro($e,{},oe))return K;S++}O++}return{match:!0,pathIndex:O,commandIndex:S}}(I,b,y),O=y.slice(S.commandIndex);if(S.match&&S.pathIndex<I.segments.length){const K=new Xt(I.segments.slice(0,S.pathIndex),{});return K.children[et]=new Xt(I.segments.slice(S.pathIndex),I.children),Mr(K,0,O)}return S.match&&0===O.length?new Xt(I.segments,{}):S.match&&!I.hasChildren()?ms(I,b,y):S.match?Mr(I,0,O):ms(I,b,y)}function Mr(I,b,y){if(0===y.length)return new Xt(I.segments,{});{const S=function As(I){return Ne(I[0])?I[0].outlets:{[et]:I}}(y),O={};if(Object.keys(S).some(K=>K!==et)&&I.children[et]&&1===I.numberOfChildren&&0===I.children[et].segments.length){const K=Mr(I.children[et],b,y);return new Xt(I.segments,K.children)}return Object.entries(S).forEach(([K,oe])=>{"string"==typeof oe&&(oe=[oe]),null!==oe&&(O[K]=di(I.children[K],b,oe))}),Object.entries(I.children).forEach(([K,oe])=>{void 0===S[K]&&(O[K]=oe)}),new Xt(I.segments,O)}}function ms(I,b,y){const S=I.segments.slice(0,b);let O=0;for(;O<y.length;){const K=y[O];if(Ne(K)){const $e=lo(K.outlets);return new Xt(S,$e)}if(0===O&&We(y[0])){S.push(new An(I.segments[b].path,Fs(y[0]))),O++;continue}const oe=Ne(K)?K.outlets[et]:`${K}`,ze=O<y.length-1?y[O+1]:null;oe&&ze&&We(ze)?(S.push(new An(oe,Fs(ze))),O+=2):(S.push(new An(oe,{})),O++)}return new Xt(S,{})}function lo(I){const b={};return Object.entries(I).forEach(([y,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(b[y]=ms(new Xt([],{}),0,S))}),b}function Fs(I){const b={};return Object.entries(I).forEach(([y,S])=>b[y]=`${S}`),b}function ro(I,b,y){return I==y.path&&kn(b,y.parameters)}const Pn="imperative";class Ri{constructor(b,y){this.id=b,this.url=y}}class Vs extends Ri{constructor(b,y,S="imperative",O=null){super(b,y),this.type=0,this.navigationTrigger=S,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class On extends Ri{constructor(b,y,S){super(b,y),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cs extends Ri{constructor(b,y,S,O){super(b,y),this.reason=S,this.code=O,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ss extends Ri{constructor(b,y,S,O){super(b,y),this.reason=S,this.code=O,this.type=16}}class bs extends Ri{constructor(b,y,S,O){super(b,y),this.error=S,this.target=O,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qn extends Ri{constructor(b,y,S,O){super(b,y),this.urlAfterRedirects=S,this.state=O,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Us extends Ri{constructor(b,y,S,O){super(b,y),this.urlAfterRedirects=S,this.state=O,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class io extends Ri{constructor(b,y,S,O,K){super(b,y),this.urlAfterRedirects=S,this.state=O,this.shouldActivate=K,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class go extends Ri{constructor(b,y,S,O){super(b,y),this.urlAfterRedirects=S,this.state=O,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mo extends Ri{constructor(b,y,S,O){super(b,y),this.urlAfterRedirects=S,this.state=O,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _o{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gi{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bs{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ta{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ei{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ho{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $s{constructor(b,y,S){this.routerEvent=b,this.position=y,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class fo{}class js{constructor(b){this.url=b}}class vo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _s,this.attachRef=null}}let _s=(()=>{class I{constructor(){this.contexts=new Map}onChildOutletCreated(y,S){const O=this.getOrCreateContext(y);O.outlet=S,this.contexts.set(y,O)}onChildOutletDestroyed(y){const S=this.getContext(y);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let S=this.getContext(y);return S||(S=new vo,this.contexts.set(y,S)),S}getContext(y){return this.contexts.get(y)||null}static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=_.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})();class Vo{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const y=this.pathFromRoot(b);return y.length>1?y[y.length-2]:null}children(b){const y=ys(b,this._root);return y?y.children.map(S=>S.value):[]}firstChild(b){const y=ys(b,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(b){const y=Hs(b,this._root);return y.length<2?[]:y[y.length-2].children.map(O=>O.value).filter(O=>O!==b)}pathFromRoot(b){return Hs(b,this._root).map(y=>y.value)}}function ys(I,b){if(I===b.value)return b;for(const y of b.children){const S=ys(I,y);if(S)return S}return null}function Hs(I,b){if(I===b.value)return[b];for(const y of b.children){const S=Hs(I,y);if(S.length)return S.unshift(b),S}return[]}class rn{constructor(b,y){this.value=b,this.children=y}toString(){return`TreeNode(${this.value})`}}function wr(I){const b={};return I&&I.children.forEach(y=>b[y.value.outlet]=y),b}class Yr extends Vo{constructor(b,y){super(b),this.snapshot=y,Xn(this,b)}toString(){return this.snapshot.toString()}}function vs(I,b){const y=function hi(I,b){const oe=new Pi([],{},{},"",{},et,b,null,{});return new Es("",new rn(oe,[]))}(0,b),S=new Y.X([new An("",{})]),O=new Y.X({}),K=new Y.X({}),oe=new Y.X({}),ze=new Y.X(""),$e=new zs(S,O,oe,ze,K,et,b,y.root);return $e.snapshot=y.root,new Yr(new rn($e,[]),y)}class zs{constructor(b,y,S,O,K,oe,ze,$e){this.urlSubject=b,this.paramsSubject=y,this.queryParamsSubject=S,this.fragmentSubject=O,this.dataSubject=K,this.outlet=oe,this.component=ze,this._futureSnapshot=$e,this.title=this.dataSubject?.pipe((0,ht.U)(yt=>yt[kt]))??(0,J.of)(void 0),this.url=b,this.params=y,this.queryParams=S,this.fragment=O,this.data=K}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(b=>Vt(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(b=>Vt(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Eo(I,b="emptyOnly"){const y=I.pathFromRoot;let S=0;if("always"!==b)for(S=y.length-1;S>=1;){const O=y[S],K=y[S-1];if(O.routeConfig&&""===O.routeConfig.path)S--;else{if(K.component)break;S--}}return function Xi(I){return I.reduce((b,y)=>({params:{...b.params,...y.params},data:{...b.data,...y.data},resolve:{...y.data,...b.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(S))}class Pi{get title(){return this.data?.[kt]}constructor(b,y,S,O,K,oe,ze,$e,yt){this.url=b,this.params=y,this.queryParams=S,this.fragment=O,this.data=K,this.outlet=oe,this.component=ze,this.routeConfig=$e,this._resolve=yt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Es extends Vo{constructor(b,y){super(y),this.url=b,Xn(this,y)}toString(){return Rt(this._root)}}function Xn(I,b){b.value._routerState=I,b.children.forEach(y=>Xn(I,y))}function Rt(I){const b=I.children.length>0?` { ${I.children.map(Rt).join(", ")} } `:"";return`${I.value}${b}`}function Mt(I){if(I.snapshot){const b=I.snapshot,y=I._futureSnapshot;I.snapshot=y,kn(b.queryParams,y.queryParams)||I.queryParamsSubject.next(y.queryParams),b.fragment!==y.fragment&&I.fragmentSubject.next(y.fragment),kn(b.params,y.params)||I.paramsSubject.next(y.params),function Tn(I,b){if(I.length!==b.length)return!1;for(let y=0;y<I.length;++y)if(!kn(I[y],b[y]))return!1;return!0}(b.url,y.url)||I.urlSubject.next(y.url),kn(b.data,y.data)||I.dataSubject.next(y.data)}else I.snapshot=I._futureSnapshot,I.dataSubject.next(I._futureSnapshot.data)}function er(I,b){const y=kn(I.params,b.params)&&function pr(I,b){return _i(I,b)&&I.every((y,S)=>kn(y.parameters,b[S].parameters))}(I.url,b.url);return y&&!(!I.parent!=!b.parent)&&(!I.parent||er(I.parent,b.parent))}let $r=(()=>{class I{constructor(){this.activated=null,this._activatedRoute=null,this.name=et,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.parentContexts=(0,_.f3M)(_s),this.location=(0,_.f3M)(_.s_b),this.changeDetector=(0,_.f3M)(_.sBO),this.environmentInjector=(0,_.f3M)(_.lqb),this.inputBinder=(0,_.f3M)(Jr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(y){if(y.name){const{firstChange:S,previousValue:O}=y.name;if(S)return;this.isTrackedInParentContexts(O)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(O)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.vHH(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,S){this.activated=y,this._activatedRoute=S,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,S){if(this.isActivated)throw new _.vHH(4013,!1);this._activatedRoute=y;const O=this.location,oe=y.snapshot.component,ze=this.parentContexts.getOrCreateContext(this.name).children,$e=new Gs(y,ze,O.injector);this.activated=O.createComponent(oe,{index:O.length,injector:$e,environmentInjector:S??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275dir=_.lG2({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_.TTD]})}return I})();class Gs{constructor(b,y,S){this.route=b,this.childContexts=y,this.parent=S}get(b,y){return b===zs?this.route:b===_s?this.childContexts:this.parent.get(b,y)}}const Jr=new _.OlP("");let Rs=(()=>{class I{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){this.outletDataSubscriptions.get(y)?.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:S}=y,O=(0,ie.a)([S.queryParams,S.params,S.data]).pipe((0,Jt.w)(([K,oe,ze],$e)=>(ze={...K,...oe,...ze},0===$e?(0,J.of)(ze):Promise.resolve(ze)))).subscribe(K=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==S||null===S.component)return void this.unsubscribeFromRouteData(y);const oe=(0,_.qFp)(S.component);if(oe)for(const{templateName:ze}of oe.inputs)y.activatedComponentRef.setInput(ze,K[ze]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,O)}static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=_.Yz7({token:I,factory:I.\u0275fac})}return I})();function es(I,b,y){if(y&&I.shouldReuseRoute(b.value,y.value.snapshot)){const S=y.value;S._futureSnapshot=b.value;const O=function so(I,b,y){return b.children.map(S=>{for(const O of y.children)if(I.shouldReuseRoute(S.value,O.value.snapshot))return es(I,S,O);return es(I,S)})}(I,b,y);return new rn(S,O)}{if(I.shouldAttach(b.value)){const K=I.retrieve(b.value);if(null!==K){const oe=K.route;return oe.value._futureSnapshot=b.value,oe.children=b.children.map(ze=>es(I,ze)),oe}}const S=function ln(I){return new zs(new Y.X(I.url),new Y.X(I.params),new Y.X(I.queryParams),new Y.X(I.fragment),new Y.X(I.data),I.outlet,I.component,I)}(b.value),O=b.children.map(K=>es(I,K));return new rn(S,O)}}const Wi="ngNavigationCancelingError";function Fi(I,b){const{redirectTo:y,navigationBehaviorOptions:S}=$n(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,O=Tr(!1,0,b);return O.url=y,O.navigationBehaviorOptions=S,O}function Tr(I,b,y){const S=new Error("NavigationCancelingError: "+(I||""));return S[Wi]=!0,S.cancellationCode=b,y&&(S.url=y),S}function Ps(I){return I&&I[Wi]}let ii=(()=>{class I{static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275cmp=_.Xpm({type:I,selectors:[["ng-component"]],standalone:!0,features:[_.jDz],decls:1,vars:0,template:function(S,O){1&S&&_._UZ(0,"router-outlet")},dependencies:[$r],encapsulation:2})}return I})();function os(I){const b=I.children&&I.children.map(os),y=b?{...I,children:b}:{...I};return!y.component&&!y.loadComponent&&(b||y.loadChildren)&&y.outlet&&y.outlet!==et&&(y.component=ii),y}function mr(I){return I.outlet||et}function Ts(I){if(!I)return null;if(I.routeConfig?._injector)return I.routeConfig._injector;for(let b=I.parent;b;b=b.parent){const y=b.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class _r{constructor(b,y,S,O,K){this.routeReuseStrategy=b,this.futureState=y,this.currState=S,this.forwardEvent=O,this.inputBindingEnabled=K}activate(b){const y=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,S,b),Mt(this.futureState.root),this.activateChildRoutes(y,S,b)}deactivateChildRoutes(b,y,S){const O=wr(y);b.children.forEach(K=>{const oe=K.value.outlet;this.deactivateRoutes(K,O[oe],S),delete O[oe]}),Object.values(O).forEach(K=>{this.deactivateRouteAndItsChildren(K,S)})}deactivateRoutes(b,y,S){const O=b.value,K=y?y.value:null;if(O===K)if(O.component){const oe=S.getContext(O.outlet);oe&&this.deactivateChildRoutes(b,y,oe.children)}else this.deactivateChildRoutes(b,y,S);else K&&this.deactivateRouteAndItsChildren(y,S)}deactivateRouteAndItsChildren(b,y){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,y):this.deactivateRouteAndOutlet(b,y)}detachAndStoreRouteSubtree(b,y){const S=y.getContext(b.value.outlet),O=S&&b.value.component?S.children:y,K=wr(b);for(const oe of Object.keys(K))this.deactivateRouteAndItsChildren(K[oe],O);if(S&&S.outlet){const oe=S.outlet.detach(),ze=S.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:oe,route:b,contexts:ze})}}deactivateRouteAndOutlet(b,y){const S=y.getContext(b.value.outlet),O=S&&b.value.component?S.children:y,K=wr(b);for(const oe of Object.keys(K))this.deactivateRouteAndItsChildren(K[oe],O);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(b,y,S){const O=wr(y);b.children.forEach(K=>{this.activateRoutes(K,O[K.value.outlet],S),this.forwardEvent(new ho(K.value.snapshot))}),b.children.length&&this.forwardEvent(new ta(b.value.snapshot))}activateRoutes(b,y,S){const O=b.value,K=y?y.value:null;if(Mt(O),O===K)if(O.component){const oe=S.getOrCreateContext(O.outlet);this.activateChildRoutes(b,y,oe.children)}else this.activateChildRoutes(b,y,S);else if(O.component){const oe=S.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const ze=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),oe.children.onOutletReAttached(ze.contexts),oe.attachRef=ze.componentRef,oe.route=ze.route.value,oe.outlet&&oe.outlet.attach(ze.componentRef,ze.route.value),Mt(ze.route.value),this.activateChildRoutes(b,null,oe.children)}else{const ze=Ts(O.snapshot);oe.attachRef=null,oe.route=O,oe.injector=ze,oe.outlet&&oe.outlet.activateWith(O,oe.injector),this.activateChildRoutes(b,null,oe.children)}}else this.activateChildRoutes(b,null,S)}}class Bo{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class Cr{constructor(b,y){this.component=b,this.route=y}}function Oi(I,b,y){const S=I._root;return po(S,b?b._root:null,y,[S.value])}function Ii(I,b){const y=Symbol(),S=b.get(I,y);return S===y?"function"!=typeof I||(0,_.Z0I)(I)?b.get(I):I:S}function po(I,b,y,S,O={canDeactivateChecks:[],canActivateChecks:[]}){const K=wr(b);return I.children.forEach(oe=>{(function Vn(I,b,y,S,O={canDeactivateChecks:[],canActivateChecks:[]}){const K=I.value,oe=b?b.value:null,ze=y?y.getContext(I.value.outlet):null;if(oe&&K.routeConfig===oe.routeConfig){const $e=function Ro(I,b,y){if("function"==typeof y)return y(I,b);switch(y){case"pathParamsChange":return!_i(I.url,b.url);case"pathParamsOrQueryParamsChange":return!_i(I.url,b.url)||!kn(I.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!er(I,b)||!kn(I.queryParams,b.queryParams);default:return!er(I,b)}}(oe,K,K.routeConfig.runGuardsAndResolvers);$e?O.canActivateChecks.push(new Bo(S)):(K.data=oe.data,K._resolvedData=oe._resolvedData),po(I,b,K.component?ze?ze.children:null:y,S,O),$e&&ze&&ze.outlet&&ze.outlet.isActivated&&O.canDeactivateChecks.push(new Cr(ze.outlet.component,oe))}else oe&&Ws(b,ze,O),O.canActivateChecks.push(new Bo(S)),po(I,null,K.component?ze?ze.children:null:y,S,O)})(oe,K[oe.value.outlet],y,S.concat([oe.value]),O),delete K[oe.value.outlet]}),Object.entries(K).forEach(([oe,ze])=>Ws(ze,y.getContext(oe),O)),O}function Ws(I,b,y){const S=wr(I),O=I.value;Object.entries(S).forEach(([K,oe])=>{Ws(oe,O.component?b?b.children.getContext(K):null:b,y)}),y.canDeactivateChecks.push(new Cr(O.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,O))}function na(I){return"function"==typeof I}function Je(I){return I instanceof ye||"EmptyError"===I?.name}const mt=Symbol("INITIAL_VALUE");function Bt(){return(0,Jt.w)(I=>(0,ie.a)(I.map(b=>b.pipe((0,Tt.q)(1),(0,le.O)(mt)))).pipe((0,ht.U)(b=>{for(const y of b)if(!0!==y){if(y===mt)return mt;if(!1===y||y instanceof Qr)return y}return!0}),(0,qe.h)(b=>b!==mt),(0,Tt.q)(1)))}function Xr(I){return(0,ce.z)((0,Nn.b)(b=>{if($n(b))throw Fi(0,b)}),(0,ht.U)(b=>!0===b))}class ur{constructor(b){this.segmentGroup=b||null}}class ei{constructor(b){this.urlTree=b}}function tr(I){return(0,Ee._)(new ur(I))}function Ui(I){return(0,Ee._)(new ei(I))}class T{constructor(b,y){this.urlSerializer=b,this.urlTree=y}noMatchError(b){return new _.vHH(4002,!1)}lineralizeSegments(b,y){let S=[],O=y.root;for(;;){if(S=S.concat(O.segments),0===O.numberOfChildren)return(0,J.of)(S);if(O.numberOfChildren>1||!O.children[et])return(0,Ee._)(new _.vHH(4e3,!1));O=O.children[et]}}applyRedirectCommands(b,y,S){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),b,S)}applyRedirectCreateUrlTree(b,y,S,O){const K=this.createSegmentGroup(b,y.root,S,O);return new Qr(K,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(b,y){const S={};return Object.entries(b).forEach(([O,K])=>{if("string"==typeof K&&K.startsWith(":")){const ze=K.substring(1);S[O]=y[ze]}else S[O]=K}),S}createSegmentGroup(b,y,S,O){const K=this.createSegments(b,y.segments,S,O);let oe={};return Object.entries(y.children).forEach(([ze,$e])=>{oe[ze]=this.createSegmentGroup(b,$e,S,O)}),new Xt(K,oe)}createSegments(b,y,S,O){return y.map(K=>K.path.startsWith(":")?this.findPosParam(b,K,O):this.findOrReturn(K,S))}findPosParam(b,y,S){const O=S[y.path.substring(1)];if(!O)throw new _.vHH(4001,!1);return O}findOrReturn(b,y){let S=0;for(const O of y){if(O.path===b.path)return y.splice(S),O;S++}return b}}const P={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function j(I,b,y,S,O){const K=X(I,b,y);return K.matched?(S=function Is(I,b){return I.providers&&!I._injector&&(I._injector=(0,_.MMx)(I.providers,b,`Route: ${I.path}`)),I._injector??b}(b,S),function jr(I,b,y,S){const O=b.canMatch;if(!O||0===O.length)return(0,J.of)(!0);const K=O.map(oe=>{const ze=Ii(oe,I);return sr(function ae(I){return I&&na(I.canMatch)}(ze)?ze.canMatch(b,y):I.runInContext(()=>ze(b,y)))});return(0,J.of)(K).pipe(Bt(),Xr())}(S,b,y).pipe((0,ht.U)(oe=>!0===oe?K:{...P}))):(0,J.of)(K)}function X(I,b,y){if(""===b.path)return"full"===b.pathMatch&&(I.hasChildren()||y.length>0)?{...P}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const O=(b.matcher||In)(y,I,b);if(!O)return{...P};const K={};Object.entries(O.posParams??{}).forEach(([ze,$e])=>{K[ze]=$e.path});const oe=O.consumed.length>0?{...K,...O.consumed[O.consumed.length-1].parameters}:K;return{matched:!0,consumedSegments:O.consumed,remainingSegments:y.slice(O.consumed.length),parameters:oe,positionalParamSegments:O.posParams??{}}}function me(I,b,y,S){return y.length>0&&function Xe(I,b,y){return y.some(S=>Pt(I,b,S)&&mr(S)!==et)}(I,y,S)?{segmentGroup:new Xt(b,xe(S,new Xt(y,I.children))),slicedSegments:[]}:0===y.length&&function wt(I,b,y){return y.some(S=>Pt(I,b,S))}(I,y,S)?{segmentGroup:new Xt(I.segments,_e(I,0,y,S,I.children)),slicedSegments:y}:{segmentGroup:new Xt(I.segments,I.children),slicedSegments:y}}function _e(I,b,y,S,O){const K={};for(const oe of S)if(Pt(I,y,oe)&&!O[mr(oe)]){const ze=new Xt([],{});K[mr(oe)]=ze}return{...O,...K}}function xe(I,b){const y={};y[et]=b;for(const S of I)if(""===S.path&&mr(S)!==et){const O=new Xt([],{});y[mr(S)]=O}return y}function Pt(I,b,y){return(!(I.hasChildren()||b.length>0)||"full"!==y.pathMatch)&&""===y.path}class Nt{constructor(b,y,S,O,K,oe,ze){this.injector=b,this.configLoader=y,this.rootComponentType=S,this.config=O,this.urlTree=K,this.paramsInheritanceStrategy=oe,this.urlSerializer=ze,this.allowRedirects=!0,this.applyRedirects=new T(this.urlSerializer,this.urlTree)}noMatchError(b){return new _.vHH(4002,!1)}recognize(){const b=me(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,et).pipe((0,Et.K)(y=>{if(y instanceof ei)return this.allowRedirects=!1,this.urlTree=y.urlTree,this.match(y.urlTree);throw y instanceof ur?this.noMatchError(y):y}),(0,ht.U)(y=>{const S=new Pi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},et,this.rootComponentType,null,{}),O=new rn(S,y),K=new Es("",O),oe=function Zr(I,b,y=null,S=null){return Pr(Li(I),b,y,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return oe.queryParams=this.urlTree.queryParams,K.url=this.urlSerializer.serialize(oe),this.inheritParamsAndData(K._root),{state:K,tree:oe}}))}match(b){return this.processSegmentGroup(this.injector,this.config,b.root,et).pipe((0,Et.K)(S=>{throw S instanceof ur?this.noMatchError(S):S}))}inheritParamsAndData(b){const y=b.value,S=Eo(y,this.paramsInheritanceStrategy);y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),b.children.forEach(O=>this.inheritParamsAndData(O))}processSegmentGroup(b,y,S,O){return 0===S.segments.length&&S.hasChildren()?this.processChildren(b,y,S):this.processSegment(b,y,S,S.segments,O,!0)}processChildren(b,y,S){const O=[];for(const K of Object.keys(S.children))"primary"===K?O.unshift(K):O.push(K);return(0,he.D)(O).pipe((0,En.b)(K=>{const oe=S.children[K],ze=function Ni(I,b){const y=I.filter(S=>mr(S)===b);return y.push(...I.filter(S=>mr(S)!==b)),y}(y,K);return this.processSegmentGroup(b,ze,oe,K)}),function qt(I,b){return(0,Ye.e)(function nn(I,b,y,S,O){return(K,oe)=>{let ze=y,$e=b,yt=0;K.subscribe((0,ut.x)(oe,Dn=>{const Er=yt++;$e=ze?I($e,Dn,Er):(ze=!0,Dn),S&&oe.next($e)},O&&(()=>{ze&&oe.next($e),oe.complete()})))}}(I,b,arguments.length>=2,!0))}((K,oe)=>(K.push(...oe),K)),lt(null),function Ve(I,b){const y=arguments.length>=2;return S=>S.pipe(I?(0,qe.h)((O,K)=>I(O,K,S)):Kn.y,Pe(1),y?lt(b):hn(()=>new ye))}(),(0,Ce.z)(K=>{if(null===K)return tr(S);const oe=vr(K);return function Or(I){I.sort((b,y)=>b.value.outlet===et?-1:y.value.outlet===et?1:b.value.outlet.localeCompare(y.value.outlet))}(oe),(0,J.of)(oe)}))}processSegment(b,y,S,O,K,oe){return(0,he.D)(y).pipe((0,En.b)(ze=>this.processSegmentAgainstRoute(ze._injector??b,y,ze,S,O,K,oe).pipe((0,Et.K)($e=>{if($e instanceof ur)return(0,J.of)(null);throw $e}))),ct(ze=>!!ze),(0,Et.K)(ze=>{if(Je(ze))return function Yt(I,b,y){return 0===b.length&&!I.children[y]}(S,O,K)?(0,J.of)([]):tr(S);throw ze}))}processSegmentAgainstRoute(b,y,S,O,K,oe,ze){return function Mn(I,b,y,S){return!!(mr(I)===S||S!==et&&Pt(b,y,I))&&("**"===I.path||X(b,I,y).matched)}(S,O,K,oe)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(b,O,S,K,oe,ze):ze&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,O,y,S,K,oe):tr(O):tr(O)}expandSegmentAgainstRouteUsingRedirect(b,y,S,O,K,oe){return"**"===O.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,S,O,oe):this.expandRegularSegmentAgainstRouteUsingRedirect(b,y,S,O,K,oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,y,S,O){const K=this.applyRedirects.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Ui(K):this.applyRedirects.lineralizeSegments(S,K).pipe((0,Ce.z)(oe=>{const ze=new Xt(oe,{});return this.processSegment(b,y,ze,oe,O,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,y,S,O,K,oe){const{matched:ze,consumedSegments:$e,remainingSegments:yt,positionalParamSegments:Dn}=X(y,O,K);if(!ze)return tr(y);const Er=this.applyRedirects.applyRedirectCommands($e,O.redirectTo,Dn);return O.redirectTo.startsWith("/")?Ui(Er):this.applyRedirects.lineralizeSegments(O,Er).pipe((0,Ce.z)(rr=>this.processSegment(b,S,y,rr.concat(yt),oe,!1)))}matchSegmentAgainstRoute(b,y,S,O,K,oe){let ze;if("**"===S.path){const $e=O.length>0?Fn(O).parameters:{},yt=new Pi(O,$e,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ti(S),mr(S),S.component??S._loadedComponent??null,S,qs(S));ze=(0,J.of)({snapshot:yt,consumedSegments:[],remainingSegments:[]}),y.children={}}else ze=j(y,S,O,b).pipe((0,ht.U)(({matched:$e,consumedSegments:yt,remainingSegments:Dn,parameters:Er})=>$e?{snapshot:new Pi(yt,Er,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ti(S),mr(S),S.component??S._loadedComponent??null,S,qs(S)),consumedSegments:yt,remainingSegments:Dn}:null));return ze.pipe((0,Jt.w)($e=>null===$e?tr(y):this.getChildConfig(b=S._injector??b,S,O).pipe((0,Jt.w)(({routes:yt})=>{const Dn=S._loadedInjector??b,{snapshot:Er,consumedSegments:rr,remainingSegments:ri}=$e,{segmentGroup:Aa,slicedSegments:da}=me(y,rr,ri,yt);if(0===da.length&&Aa.hasChildren())return this.processChildren(Dn,yt,Aa).pipe((0,ht.U)(No=>null===No?null:[new rn(Er,No)]));if(0===yt.length&&0===da.length)return(0,J.of)([new rn(Er,[])]);const Zs=mr(S)===K;return this.processSegment(Dn,yt,Aa,da,Zs?et:K,!0).pipe((0,ht.U)(No=>[new rn(Er,No)]))}))))}getChildConfig(b,y,S){return y.children?(0,J.of)({routes:y.children,injector:b}):y.loadChildren?void 0!==y._loadedRoutes?(0,J.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function Sr(I,b,y,S){const O=b.canLoad;if(void 0===O||0===O.length)return(0,J.of)(!0);const K=O.map(oe=>{const ze=Ii(oe,I);return sr(function $o(I){return I&&na(I.canLoad)}(ze)?ze.canLoad(b,y):I.runInContext(()=>ze(b,y)))});return(0,J.of)(K).pipe(Bt(),Xr())}(b,y,S).pipe((0,Ce.z)(O=>O?this.configLoader.loadChildren(b,y).pipe((0,Nn.b)(K=>{y._loadedRoutes=K.routes,y._loadedInjector=K.injector})):function m(I){return(0,Ee._)(Tr(!1,3))}())):(0,J.of)({routes:[],injector:b})}}function wi(I){const b=I.value.routeConfig;return b&&""===b.path}function vr(I){const b=[],y=new Set;for(const S of I){if(!wi(S)){b.push(S);continue}const O=b.find(K=>S.value.routeConfig===K.value.routeConfig);void 0!==O?(O.children.push(...S.children),y.add(O)):b.push(S)}for(const S of y){const O=vr(S.children);b.push(new rn(S.value,O))}return b.filter(S=>!y.has(S))}function ti(I){return I.data||{}}function qs(I){return I.resolve||{}}function Ks(I){return"string"==typeof I.title||null===I.title}function w(I){return(0,Jt.w)(b=>{const y=I(b);return y?(0,he.D)(y).pipe((0,ht.U)(()=>b)):(0,J.of)(b)})}const $=new _.OlP("ROUTES");let M=(()=>{class I{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,_.f3M)(_.Sil)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,J.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const S=sr(y.loadComponent()).pipe((0,ht.U)(Ie),(0,Nn.b)(K=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=K}),(0,fe.x)(()=>{this.componentLoaders.delete(y)})),O=new Qe.c(S,()=>new Le.x).pipe((0,Be.x)());return this.componentLoaders.set(y,O),O}loadChildren(y,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,J.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const K=function N(I,b,y,S){return sr(I.loadChildren()).pipe((0,ht.U)(Ie),(0,Ce.z)(O=>O instanceof _.YKP||Array.isArray(O)?(0,J.of)(O):(0,he.D)(b.compileModuleAsync(O))),(0,ht.U)(O=>{S&&S(I);let K,oe,ze=!1;return Array.isArray(O)?(oe=O,!0):(K=O.create(y).injector,oe=K.get($,[],{optional:!0,self:!0}).flat()),{routes:oe.map(os),injector:K}}))}(S,this.compiler,y,this.onLoadEndListener).pipe((0,fe.x)(()=>{this.childrenLoaders.delete(S)})),oe=new Qe.c(K,()=>new Le.x).pipe((0,Be.x)());return this.childrenLoaders.set(S,oe),oe}static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=_.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})();function Ie(I){return function te(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let je=(()=>{class I{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Le.x,this.transitionAbortSubject=new Le.x,this.configLoader=(0,_.f3M)(M),this.environmentInjector=(0,_.f3M)(_.lqb),this.urlSerializer=(0,_.f3M)(Hi),this.rootContexts=(0,_.f3M)(_s),this.inputBindingEnabled=null!==(0,_.f3M)(Jr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,J.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=O=>this.events.next(new Gi(O)),this.configLoader.onLoadStartListener=O=>this.events.next(new _o(O))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:S})}setupNavigations(y,S,O){return this.transitions=new Y.X({id:0,currentUrlTree:S,currentRawUrl:S,currentBrowserUrl:S,extractedUrl:y.urlHandlingStrategy.extract(S),urlAfterRedirects:y.urlHandlingStrategy.extract(S),rawUrl:S,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Pn,restoredState:null,currentSnapshot:O.snapshot,targetSnapshot:null,currentRouterState:O,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,qe.h)(K=>0!==K.id),(0,ht.U)(K=>({...K,extractedUrl:y.urlHandlingStrategy.extract(K.rawUrl)})),(0,Jt.w)(K=>{this.currentTransition=K;let oe=!1,ze=!1;return(0,J.of)(K).pipe((0,Nn.b)($e=>{this.currentNavigation={id:$e.id,initialUrl:$e.rawUrl,extractedUrl:$e.extractedUrl,trigger:$e.source,extras:$e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Jt.w)($e=>{const yt=$e.currentBrowserUrl.toString(),Dn=!y.navigated||$e.extractedUrl.toString()!==yt||yt!==$e.currentUrlTree.toString();if(!Dn&&"reload"!==($e.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const rr="";return this.events.next(new Ss($e.id,this.urlSerializer.serialize($e.rawUrl),rr,0)),$e.resolve(null),we.E}if(y.urlHandlingStrategy.shouldProcessUrl($e.rawUrl))return(0,J.of)($e).pipe((0,Jt.w)(rr=>{const ri=this.transitions?.getValue();return this.events.next(new Vs(rr.id,this.urlSerializer.serialize(rr.extractedUrl),rr.source,rr.restoredState)),ri!==this.transitions?.getValue()?we.E:Promise.resolve(rr)}),function xs(I,b,y,S,O,K){return(0,Ce.z)(oe=>function Wt(I,b,y,S,O,K,oe="emptyOnly"){return new Nt(I,b,y,S,O,oe,K).recognize()}(I,b,y,S,oe.extractedUrl,O,K).pipe((0,ht.U)(({state:ze,tree:$e})=>({...oe,targetSnapshot:ze,urlAfterRedirects:$e}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,Nn.b)(rr=>{K.targetSnapshot=rr.targetSnapshot,K.urlAfterRedirects=rr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:rr.urlAfterRedirects};const ri=new qn(rr.id,this.urlSerializer.serialize(rr.extractedUrl),this.urlSerializer.serialize(rr.urlAfterRedirects),rr.targetSnapshot);this.events.next(ri)}));if(Dn&&y.urlHandlingStrategy.shouldProcessUrl($e.currentRawUrl)){const{id:rr,extractedUrl:ri,source:Aa,restoredState:da,extras:Zs}=$e,No=new Vs(rr,this.urlSerializer.serialize(ri),Aa,da);this.events.next(No);const Cu=vs(0,this.rootComponentType).snapshot;return this.currentTransition=K={...$e,targetSnapshot:Cu,urlAfterRedirects:ri,extras:{...Zs,skipLocationChange:!1,replaceUrl:!1}},(0,J.of)(K)}{const rr="";return this.events.next(new Ss($e.id,this.urlSerializer.serialize($e.extractedUrl),rr,1)),$e.resolve(null),we.E}}),(0,Nn.b)($e=>{const yt=new Us($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot);this.events.next(yt)}),(0,ht.U)($e=>(this.currentTransition=K={...$e,guards:Oi($e.targetSnapshot,$e.currentSnapshot,this.rootContexts)},K)),function $t(I,b){return(0,Ce.z)(y=>{const{targetSnapshot:S,currentSnapshot:O,guards:{canActivateChecks:K,canDeactivateChecks:oe}}=y;return 0===oe.length&&0===K.length?(0,J.of)({...y,guardsResult:!0}):function wn(I,b,y,S){return(0,he.D)(I).pipe((0,Ce.z)(O=>function Vi(I,b,y,S,O){const K=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!K||0===K.length)return(0,J.of)(!0);const oe=K.map(ze=>{const $e=Ts(b)??O,yt=Ii(ze,$e);return sr(function U(I){return I&&na(I.canDeactivate)}(yt)?yt.canDeactivate(I,b,y,S):$e.runInContext(()=>yt(I,b,y,S))).pipe(ct())});return(0,J.of)(oe).pipe(Bt())}(O.component,O.route,y,b,S)),ct(O=>!0!==O,!0))}(oe,S,O,I).pipe((0,Ce.z)(ze=>ze&&function wa(I){return"boolean"==typeof I}(ze)?function Un(I,b,y,S){return(0,he.D)(b).pipe((0,En.b)(O=>(0,ge.z)(function kr(I,b){return null!==I&&b&&b(new Bs(I)),(0,J.of)(!0)}(O.route.parent,S),function yr(I,b){return null!==I&&b&&b(new Ei(I)),(0,J.of)(!0)}(O.route,S),function Ti(I,b,y){const S=b[b.length-1],K=b.slice(0,b.length-1).reverse().map(oe=>function To(I){const b=I.routeConfig?I.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:I,guards:b}:null}(oe)).filter(oe=>null!==oe).map(oe=>(0,ee.P)(()=>{const ze=oe.guards.map($e=>{const yt=Ts(oe.node)??y,Dn=Ii($e,yt);return sr(function F(I){return I&&na(I.canActivateChild)}(Dn)?Dn.canActivateChild(S,I):yt.runInContext(()=>Dn(S,I))).pipe(ct())});return(0,J.of)(ze).pipe(Bt())}));return(0,J.of)(K).pipe(Bt())}(I,O.path,y),function Nr(I,b,y){const S=b.routeConfig?b.routeConfig.canActivate:null;if(!S||0===S.length)return(0,J.of)(!0);const O=S.map(K=>(0,ee.P)(()=>{const oe=Ts(b)??y,ze=Ii(K,oe);return sr(function qi(I){return I&&na(I.canActivate)}(ze)?ze.canActivate(b,I):oe.runInContext(()=>ze(b,I))).pipe(ct())}));return(0,J.of)(O).pipe(Bt())}(I,O.route,y))),ct(O=>!0!==O,!0))}(S,K,I,b):(0,J.of)(ze)),(0,ht.U)(ze=>({...y,guardsResult:ze})))})}(this.environmentInjector,$e=>this.events.next($e)),(0,Nn.b)($e=>{if(K.guardsResult=$e.guardsResult,$n($e.guardsResult))throw Fi(0,$e.guardsResult);const yt=new io($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot,!!$e.guardsResult);this.events.next(yt)}),(0,qe.h)($e=>!!$e.guardsResult||(this.cancelNavigationTransition($e,"",3),!1)),w($e=>{if($e.guards.canActivateChecks.length)return(0,J.of)($e).pipe((0,Nn.b)(yt=>{const Dn=new go(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(Dn)}),(0,Jt.w)(yt=>{let Dn=!1;return(0,J.of)(yt).pipe(function fi(I,b){return(0,Ce.z)(y=>{const{targetSnapshot:S,guards:{canActivateChecks:O}}=y;if(!O.length)return(0,J.of)(y);let K=0;return(0,he.D)(O).pipe((0,En.b)(oe=>function Ki(I,b,y,S){const O=I.routeConfig,K=I._resolve;return void 0!==O?.title&&!Ks(O)&&(K[kt]=O.title),function si(I,b,y,S){const O=function xr(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}(I);if(0===O.length)return(0,J.of)({});const K={};return(0,he.D)(O).pipe((0,Ce.z)(oe=>function wo(I,b,y,S){const O=Ts(b)??S,K=Ii(I,O);return sr(K.resolve?K.resolve(b,y):O.runInContext(()=>K(b,y)))}(I[oe],b,y,S).pipe(ct(),(0,Nn.b)(ze=>{K[oe]=ze}))),Pe(1),(0,Ue.h)(K),(0,Et.K)(oe=>Je(oe)?we.E:(0,Ee._)(oe)))}(K,I,b,S).pipe((0,ht.U)(oe=>(I._resolvedData=oe,I.data=Eo(I,y).resolve,O&&Ks(O)&&(I.data[kt]=O.title),null)))}(oe.route,S,I,b)),(0,Nn.b)(()=>K++),Pe(1),(0,Ce.z)(oe=>K===O.length?(0,J.of)(y):we.E))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,Nn.b)({next:()=>Dn=!0,complete:()=>{Dn||this.cancelNavigationTransition(yt,"",2)}}))}),(0,Nn.b)(yt=>{const Dn=new mo(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(Dn)}))}),w($e=>{const yt=Dn=>{const Er=[];Dn.routeConfig?.loadComponent&&!Dn.routeConfig._loadedComponent&&Er.push(this.configLoader.loadComponent(Dn.routeConfig).pipe((0,Nn.b)(rr=>{Dn.component=rr}),(0,ht.U)(()=>{})));for(const rr of Dn.children)Er.push(...yt(rr));return Er};return(0,ie.a)(yt($e.targetSnapshot.root)).pipe(lt(),(0,Tt.q)(1))}),w(()=>this.afterPreactivation()),(0,ht.U)($e=>{const yt=function Dr(I,b,y){const S=es(I,b._root,y?y._root:void 0);return new Yr(S,b)}(y.routeReuseStrategy,$e.targetSnapshot,$e.currentRouterState);return this.currentTransition=K={...$e,targetRouterState:yt},K}),(0,Nn.b)(()=>{this.events.next(new fo)}),((I,b,y,S)=>(0,ht.U)(O=>(new _r(b,O.targetRouterState,O.currentRouterState,y,S).activate(I),O)))(this.rootContexts,y.routeReuseStrategy,$e=>this.events.next($e),this.inputBindingEnabled),(0,Tt.q)(1),(0,Nn.b)({next:$e=>{oe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new On($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects))),y.titleStrategy?.updateTitle($e.targetRouterState.snapshot),$e.resolve(!0)},complete:()=>{oe=!0}}),(0,de.R)(this.transitionAbortSubject.pipe((0,Nn.b)($e=>{throw $e}))),(0,fe.x)(()=>{oe||ze||this.cancelNavigationTransition(K,"",1),this.currentNavigation?.id===K.id&&(this.currentNavigation=null)}),(0,Et.K)($e=>{if(ze=!0,Ps($e))this.events.next(new Cs(K.id,this.urlSerializer.serialize(K.extractedUrl),$e.message,$e.cancellationCode)),function Ar(I){return Ps(I)&&$n(I.url)}($e)?this.events.next(new js($e.url)):K.resolve(!1);else{this.events.next(new bs(K.id,this.urlSerializer.serialize(K.extractedUrl),$e,K.targetSnapshot??void 0));try{K.resolve(y.errorHandler($e))}catch(yt){K.reject(yt)}}return we.E}))}))}cancelNavigationTransition(y,S,O){const K=new Cs(y.id,this.urlSerializer.serialize(y.extractedUrl),S,O);this.events.next(K),y.resolve(!1)}static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=_.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})();function vt(I){return I!==Pn}let Hn=(()=>{class I{buildTitle(y){let S,O=y.root;for(;void 0!==O;)S=this.getResolvedTitleForRoute(O)??S,O=O.children.find(K=>K.outlet===et);return S}getResolvedTitleForRoute(y){return y.data[kt]}static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=_.Yz7({token:I,factory:function(){return(0,_.f3M)(bn)},providedIn:"root"})}return I})(),bn=(()=>{class I extends Hn{constructor(y){super(),this.title=y}updateTitle(y){const S=this.buildTitle(y);void 0!==S&&this.title.setTitle(S)}static#e=this.\u0275fac=function(S){return new(S||I)(_.LFG(be.Dx))};static#t=this.\u0275prov=_.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})(),zn=(()=>{class I{static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=_.Yz7({token:I,factory:function(){return(0,_.f3M)(Lr)},providedIn:"root"})}return I})();class zt{shouldDetach(b){return!1}store(b,y){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,y){return b.routeConfig===y.routeConfig}}let Lr=(()=>{class I extends zt{static#e=this.\u0275fac=function(){let y;return function(O){return(y||(y=_.n5z(I)))(O||I)}}();static#t=this.\u0275prov=_.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})();const nr=new _.OlP("",{providedIn:"root",factory:()=>({})});let Bn=(()=>{class I{static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=_.Yz7({token:I,factory:function(){return(0,_.f3M)(Di)},providedIn:"root"})}return I})(),Di=(()=>{class I{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,S){return y}static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=_.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})();var Rn=function(I){return I[I.COMPLETE=0]="COMPLETE",I[I.FAILED=1]="FAILED",I[I.REDIRECTING=2]="REDIRECTING",I}(Rn||{});function Qi(I,b){I.events.pipe((0,qe.h)(y=>y instanceof On||y instanceof Cs||y instanceof bs||y instanceof Ss),(0,ht.U)(y=>y instanceof On||y instanceof Ss?Rn.COMPLETE:y instanceof Cs&&(0===y.code||1===y.code)?Rn.REDIRECTING:Rn.FAILED),(0,qe.h)(y=>y!==Rn.REDIRECTING),(0,Tt.q)(1)).subscribe(()=>{b()})}function Hr(I){throw I}function Qs(I,b,y){return b.parse("/")}const as={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},at={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cr=(()=>{class I{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,_.f3M)(_.c2e),this.isNgZoneEnabled=!1,this._events=new Le.x,this.options=(0,_.f3M)(nr,{optional:!0})||{},this.pendingTasks=(0,_.f3M)(_.HDt),this.errorHandler=this.options.errorHandler||Hr,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Qs,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,_.f3M)(Bn),this.routeReuseStrategy=(0,_.f3M)(zn),this.titleStrategy=(0,_.f3M)(Hn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,_.f3M)($,{optional:!0})?.flat()??[],this.navigationTransitions=(0,_.f3M)(je),this.urlSerializer=(0,_.f3M)(Hi),this.location=(0,_.f3M)(_t.Ye),this.componentInputBindingEnabled=!!(0,_.f3M)(Jr,{optional:!0}),this.eventsSubscription=new Ze.w0,this.isNgZoneEnabled=(0,_.f3M)(_.R0b)instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Qr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vs(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const y=this.navigationTransitions.events.subscribe(S=>{try{const{currentTransition:O}=this.navigationTransitions;if(null===O)return void(Wa(S)&&this._events.next(S));if(S instanceof Vs)vt(O.source)&&(this.browserUrlTree=O.extractedUrl);else if(S instanceof Ss)this.rawUrlTree=O.rawUrl;else if(S instanceof qn){if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const K=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(K,O)}this.browserUrlTree=O.urlAfterRedirects}}else if(S instanceof fo)this.currentUrlTree=O.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl),this.routerState=O.targetRouterState,"deferred"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,O),this.browserUrlTree=O.urlAfterRedirects);else if(S instanceof Cs)0!==S.code&&1!==S.code&&(this.navigated=!0),(3===S.code||2===S.code)&&this.restoreHistory(O);else if(S instanceof js){const K=this.urlHandlingStrategy.merge(S.url,O.currentRawUrl),oe={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vt(O.source)};this.scheduleNavigation(K,Pn,null,oe,{resolve:O.resolve,reject:O.reject,promise:O.promise})}S instanceof bs&&this.restoreHistory(O,!0),S instanceof On&&(this.navigated=!0),Wa(S)&&this._events.next(S)}catch(O){this.navigationTransitions.transitionAbortSubject.next(O)}});this.eventsSubscription.add(y)}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Pn,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const S="popstate"===y.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,S,y.state)},0)}))}navigateToSyncWithBrowser(y,S,O){const K={replaceUrl:!0},oe=O?.navigationId?O:null;if(O){const $e={...O};delete $e.navigationId,delete $e.\u0275routerPageId,0!==Object.keys($e).length&&(K.state=$e)}const ze=this.parseUrl(y);this.scheduleNavigation(ze,S,oe,K)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map(os),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(y,S={}){const{relativeTo:O,queryParams:K,fragment:oe,queryParamsHandling:ze,preserveFragment:$e}=S,yt=$e?this.currentUrlTree.fragment:oe;let Er,Dn=null;switch(ze){case"merge":Dn={...this.currentUrlTree.queryParams,...K};break;case"preserve":Dn=this.currentUrlTree.queryParams;break;default:Dn=K||null}null!==Dn&&(Dn=this.removeEmptyProps(Dn));try{Er=Li(O?O.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||!y[0].startsWith("/"))&&(y=[]),Er=this.currentUrlTree.root}return Pr(Er,y,Dn,yt??null)}navigateByUrl(y,S={skipLocationChange:!1}){const O=$n(y)?y:this.parseUrl(y),K=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation(K,Pn,null,S)}navigate(y,S={skipLocationChange:!1}){return function Zn(I){for(let b=0;b<I.length;b++)if(null==I[b])throw new _.vHH(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,S),S)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let S;try{S=this.urlSerializer.parse(y)}catch(O){S=this.malformedUriErrorHandler(O,this.urlSerializer,y)}return S}isActive(y,S){let O;if(O=!0===S?{...as}:!1===S?{...at}:S,$n(y))return ji(this.currentUrlTree,y,O);const K=this.parseUrl(y);return ji(this.currentUrlTree,K,O)}removeEmptyProps(y){return Object.keys(y).reduce((S,O)=>{const K=y[O];return null!=K&&(S[O]=K),S},{})}scheduleNavigation(y,S,O,K,oe){if(this.disposed)return Promise.resolve(!1);let ze,$e,yt;oe?(ze=oe.resolve,$e=oe.reject,yt=oe.promise):yt=new Promise((Er,rr)=>{ze=Er,$e=rr});const Dn=this.pendingTasks.add();return Qi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Dn))}),this.navigationTransitions.handleNavigationRequest({source:S,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:y,extras:K,resolve:ze,reject:$e,promise:yt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),yt.catch(Er=>Promise.reject(Er))}setBrowserUrl(y,S){const O=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(O)||S.extras.replaceUrl){const oe={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(O,"",oe)}else{const K={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId+1)};this.location.go(O,"",K)}}restoreHistory(y,S=!1){if("computed"===this.canceledNavigationResolution){const K=this.currentPageId-this.browserPageId;0!==K?this.location.historyGo(K):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===K&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,S){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:S}:{navigationId:y}}static#e=this.\u0275fac=function(S){return new(S||I)};static#t=this.\u0275prov=_.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})();function Wa(I){return!(I instanceof fo||I instanceof js)}let Lt=(()=>{class I{constructor(y,S,O,K,oe,ze){this.router=y,this.route=S,this.tabIndexAttribute=O,this.renderer=K,this.el=oe,this.locationStrategy=ze,this.href=null,this.commands=null,this.onChanges=new Le.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const $e=oe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===$e||"area"===$e,this.isAnchorElement?this.subscription=y.events.subscribe(yt=>{yt instanceof On&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,S,O,K,oe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||S||O||K||oe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const y=null===this.href?null:(0,_.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(y,S){const O=this.renderer,K=this.el.nativeElement;null!==S?O.setAttribute(K,y,S):O.removeAttribute(K,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(S){return new(S||I)(_.Y36(cr),_.Y36(zs),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(_t.S$))};static#t=this.\u0275dir=_.lG2({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,O){1&S&&_.NdJ("click",function(oe){return O.onClick(oe.button,oe.ctrlKey,oe.shiftKey,oe.altKey,oe.metaKey)}),2&S&&_.uIk("target",O.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",_.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",_.VuI],replaceUrl:["replaceUrl","replaceUrl",_.VuI],routerLink:"routerLink"},standalone:!0,features:[_.Xq5,_.TTD]})}return I})();class At{}let Zi=(()=>{class I{constructor(y,S,O,K,oe){this.router=y,this.injector=O,this.preloadingStrategy=K,this.loader=oe}setUpPreloading(){this.subscription=this.router.events.pipe((0,qe.h)(y=>y instanceof On),(0,En.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,S){const O=[];for(const K of S){K.providers&&!K._injector&&(K._injector=(0,_.MMx)(K.providers,y,`Route: ${K.path}`));const oe=K._injector??y,ze=K._loadedInjector??oe;(K.loadChildren&&!K._loadedRoutes&&void 0===K.canLoad||K.loadComponent&&!K._loadedComponent)&&O.push(this.preloadConfig(oe,K)),(K.children||K._loadedRoutes)&&O.push(this.processRoutes(ze,K.children??K._loadedRoutes))}return(0,he.D)(O).pipe((0,Se.J)())}preloadConfig(y,S){return this.preloadingStrategy.preload(S,()=>{let O;O=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(y,S):(0,J.of)(null);const K=O.pipe((0,Ce.z)(oe=>null===oe?(0,J.of)(void 0):(S._loadedRoutes=oe.routes,S._loadedInjector=oe.injector,this.processRoutes(oe.injector??y,oe.routes))));if(S.loadComponent&&!S._loadedComponent){const oe=this.loader.loadComponent(S);return(0,he.D)([K,oe]).pipe((0,Se.J)())}return K})}static#e=this.\u0275fac=function(S){return new(S||I)(_.LFG(cr),_.LFG(_.Sil),_.LFG(_.lqb),_.LFG(At),_.LFG(M))};static#t=this.\u0275prov=_.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})();const dc=new _.OlP("");let Xl=(()=>{class I{constructor(y,S,O,K,oe={}){this.urlSerializer=y,this.transitions=S,this.viewportScroller=O,this.zone=K,this.options=oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},oe.scrollPositionRestoration=oe.scrollPositionRestoration||"disabled",oe.anchorScrolling=oe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Vs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof On?(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment)):y instanceof Ss&&0===y.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof $s&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $s(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(S){_.$Z()};static#t=this.\u0275prov=_.Yz7({token:I,factory:I.\u0275fac})}return I})();function Do(I,b){return{\u0275kind:I,\u0275providers:b}}function pn(){const I=(0,_.f3M)(_.zs3);return b=>{const y=I.get(_.z2F);if(b!==y.components[0])return;const S=I.get(cr),O=I.get(Du);1===I.get(gn)&&S.initialNavigation(),I.get(Kt,null,_.XFs.Optional)?.setUpPreloading(),I.get(dc,null,_.XFs.Optional)?.init(),S.resetRootComponentType(y.componentTypes[0]),O.closed||(O.next(),O.complete(),O.unsubscribe())}}const Du=new _.OlP("",{factory:()=>new Le.x}),gn=new _.OlP("",{providedIn:"root",factory:()=>1}),Kt=new _.OlP("");function Po(I){return Do(0,[{provide:Kt,useExisting:Zi},{provide:At,useExisting:I}])}const ot=new _.OlP("ROUTER_FORROOT_GUARD"),Gn=[_t.Ye,{provide:Hi,useClass:an},cr,_s,{provide:zs,useFactory:function Ho(I){return I.routerState.root},deps:[cr]},M,[]];function el(){return new _.PXZ("Router",cr)}let Mo=(()=>{class I{constructor(y){}static forRoot(y,S){return{ngModule:I,providers:[Gn,[],{provide:$,multi:!0,useValue:y},{provide:ot,useFactory:ao,deps:[[cr,new _.FiY,new _.tp0]]},{provide:nr,useValue:S||{}},S?.useHash?{provide:_t.S$,useClass:_t.Do}:{provide:_t.S$,useClass:_t.b0},{provide:dc,useFactory:()=>{const I=(0,_.f3M)(_t.EM),b=(0,_.f3M)(_.R0b),y=(0,_.f3M)(nr),S=(0,_.f3M)(je),O=(0,_.f3M)(Hi);return y.scrollOffset&&I.setOffset(y.scrollOffset),new Xl(O,S,I,b,y)}},S?.preloadingStrategy?Po(S.preloadingStrategy).\u0275providers:[],{provide:_.PXZ,multi:!0,useFactory:el},S?.initialNavigation?ks(S):[],S?.bindToComponentInputs?Do(8,[Rs,{provide:Jr,useExisting:Rs}]).\u0275providers:[],[{provide:ia,useFactory:pn},{provide:_.tb,multi:!0,useExisting:ia}]]}}static forChild(y){return{ngModule:I,providers:[{provide:$,multi:!0,useValue:y}]}}static#e=this.\u0275fac=function(S){return new(S||I)(_.LFG(ot,8))};static#t=this.\u0275mod=_.oAB({type:I});static#n=this.\u0275inj=_.cJS({})}return I})();function ao(I){return"guarded"}function ks(I){return["disabled"===I.initialNavigation?Do(3,[{provide:_.ip1,multi:!0,useFactory:()=>{const b=(0,_.f3M)(cr);return()=>{b.setUpLocationChangeListener()}}},{provide:gn,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?Do(2,[{provide:gn,useValue:0},{provide:_.ip1,multi:!0,deps:[_.zs3],useFactory:b=>{const y=b.get(_t.V_,Promise.resolve());return()=>y.then(()=>new Promise(S=>{const O=b.get(cr),K=b.get(Du);Qi(O,()=>{S(!0)}),b.get(je).afterPreactivation=()=>(S(!0),K.closed?(0,J.of)(void 0):K),O.initialNavigation()}))}}]).\u0275providers:[]]}const ia=new _.OlP("")},534:(It,Fe,L)=>{L.d(Fe,{Jn:()=>Br,qX:()=>pr,Xd:()=>An,Mq:()=>Jn,C6:()=>yi,ZF:()=>ci,KN:()=>Vr});var _=L(5861),re=L(4537),he=L(7879),J=L(9058);const Y=(We,Ne)=>Ne.some(st=>We instanceof st);let ie,Ae;const ee=new WeakMap,ce=new WeakMap,Ee=new WeakMap,we=new WeakMap,Qe=new WeakMap;let _t={get(We,Ne,st){if(We instanceof IDBTransaction){if("done"===Ne)return ce.get(We);if("objectStoreNames"===Ne)return We.objectStoreNames||Ee.get(We);if("store"===Ne)return st.objectStoreNames[1]?void 0:st.objectStore(st.objectStoreNames[0])}return le(We[Ne])},set:(We,Ne,st)=>(We[Ne]=st,!0),has:(We,Ne)=>We instanceof IDBTransaction&&("done"===Ne||"store"===Ne)||Ne in We};function Tt(We){return"function"==typeof We?function Jt(We){return We!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return Ae||(Ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(We)?function(...Ne){return We.apply(qe(this),Ne),le(ee.get(this))}:function(...Ne){return le(We.apply(qe(this),Ne))}:function(Ne,...st){const Ut=We.call(qe(this),Ne,...st);return Ee.set(Ut,Ne.sort?Ne.sort():[Ne]),le(Ut)}}(We):(We instanceof IDBTransaction&&function Ze(We){if(ce.has(We))return;const Ne=new Promise((st,Ut)=>{const tn=()=>{We.removeEventListener("complete",bt),We.removeEventListener("error",Cn),We.removeEventListener("abort",Cn)},bt=()=>{st(),tn()},Cn=()=>{Ut(We.error||new DOMException("AbortError","AbortError")),tn()};We.addEventListener("complete",bt),We.addEventListener("error",Cn),We.addEventListener("abort",Cn)});ce.set(We,Ne)}(We),Y(We,function ye(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(We,_t):We)}function le(We){if(We instanceof IDBRequest)return function Le(We){const Ne=new Promise((st,Ut)=>{const tn=()=>{We.removeEventListener("success",bt),We.removeEventListener("error",Cn)},bt=()=>{st(le(We.result)),tn()},Cn=()=>{Ut(We.error),tn()};We.addEventListener("success",bt),We.addEventListener("error",Cn)});return Ne.then(st=>{st instanceof IDBCursor&&ee.set(st,We)}).catch(()=>{}),Qe.set(Ne,We),Ne}(We);if(we.has(We))return we.get(We);const Ne=Tt(We);return Ne!==We&&(we.set(We,Ne),Qe.set(Ne,We)),Ne}const qe=We=>Qe.get(We),ut=["get","getKey","getAll","getAllKeys","count"],lt=["put","add","delete","clear"],hn=new Map;function fn(We,Ne){if(!(We instanceof IDBDatabase)||Ne in We||"string"!=typeof Ne)return;if(hn.get(Ne))return hn.get(Ne);const st=Ne.replace(/FromIndex$/,""),Ut=Ne!==st,tn=lt.includes(st);if(!(st in(Ut?IDBIndex:IDBObjectStore).prototype)||!tn&&!ut.includes(st))return;const bt=function(){var Cn=(0,_.Z)(function*(gr,...ar){const As=this.transaction(gr,tn?"readwrite":"readonly");let di=As.store;return Ut&&(di=di.index(ar.shift())),(yield Promise.all([di[st](...ar),tn&&As.done]))[0]});return function(ar){return Cn.apply(this,arguments)}}();return hn.set(Ne,bt),bt}!function ht(We){_t=We(_t)}(We=>({...We,get:(Ne,st,Ut)=>fn(Ne,st)||We.get(Ne,st,Ut),has:(Ne,st)=>!!fn(Ne,st)||We.has(Ne,st)}));class Kn{constructor(Ne){this.container=Ne}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function ct(We){const Ne=We.getComponent();return"VERSION"===Ne?.type}(st)){const Ut=st.getImmediate();return`${Ut.library}/${Ut.version}`}return null}).filter(st=>st).join(" ")}}const En="@firebase/app",Et=new he.Yd("@firebase/app"),Zt="[DEFAULT]",_n={[En]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},on=new Map,Qn=new Map;function Qr(We,Ne){try{We.container.addComponent(Ne)}catch(st){Et.debug(`Component ${Ne.name} failed to register with FirebaseApp ${We.name}`,st)}}function An(We){const Ne=We.name;if(Qn.has(Ne))return Et.debug(`There were multiple attempts to register component ${Ne}.`),!1;Qn.set(Ne,We);for(const st of on.values())Qr(st,We);return!0}function pr(We,Ne){const st=We.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),We.container.getProvider(Ne)}const an=new J.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ji{constructor(Ne,st,Ut){this._isDeleted=!1,this._options=Object.assign({},Ne),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=Ut,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ne){this._isDeleted=Ne}checkDestroyed(){if(this.isDeleted)throw an.create("app-deleted",{appName:this._name})}}const Br="10.6.0";function ci(We,Ne={}){let st=We;"object"!=typeof Ne&&(Ne={name:Ne});const Ut=Object.assign({name:Zt,automaticDataCollectionEnabled:!1},Ne),tn=Ut.name;if("string"!=typeof tn||!tn)throw an.create("bad-app-name",{appName:String(tn)});if(st||(st=(0,J.aH)()),!st)throw an.create("no-options");const bt=on.get(tn);if(bt){if((0,J.vZ)(st,bt.options)&&(0,J.vZ)(Ut,bt.config))return bt;throw an.create("duplicate-app",{appName:tn})}const Cn=new re.H0(tn);for(const ar of Qn.values())Cn.addComponent(ar);const gr=new Ji(st,Ut,Cn);return on.set(tn,gr),gr}function Jn(We=Zt){const Ne=on.get(We);if(!Ne&&We===Zt&&(0,J.aH)())return ci();if(!Ne)throw an.create("no-app",{appName:We});return Ne}function yi(){return Array.from(on.values())}function Vr(We,Ne,st){var Ut;let tn=null!==(Ut=_n[We])&&void 0!==Ut?Ut:We;st&&(tn+=`-${st}`);const bt=tn.match(/\s|\//),Cn=Ne.match(/\s|\//);if(bt||Cn){const gr=[`Unable to register library "${tn}" with version "${Ne}":`];return bt&&gr.push(`library name "${tn}" contains illegal characters (whitespace or "/")`),bt&&Cn&&gr.push("and"),Cn&&gr.push(`version name "${Ne}" contains illegal characters (whitespace or "/")`),void Et.warn(gr.join(" "))}An(new re.wA(`${tn}-version`,()=>({library:tn,version:Ne}),"VERSION"))}const vi="firebase-heartbeat-database",zi=1,pe="firebase-heartbeat-store";let G=null;function Q(){return G||(G=function Ce(We,Ne,{blocked:st,upgrade:Ut,blocking:tn,terminated:bt}={}){const Cn=indexedDB.open(We,Ne),gr=le(Cn);return Ut&&Cn.addEventListener("upgradeneeded",ar=>{Ut(le(Cn.result),ar.oldVersion,ar.newVersion,le(Cn.transaction),ar)}),st&&Cn.addEventListener("blocked",ar=>st(ar.oldVersion,ar.newVersion,ar)),gr.then(ar=>{bt&&ar.addEventListener("close",()=>bt()),tn&&ar.addEventListener("versionchange",As=>tn(As.oldVersion,As.newVersion,As))}).catch(()=>{}),gr}(vi,zi,{upgrade:(We,Ne)=>{0===Ne&&We.createObjectStore(pe)}}).catch(We=>{throw an.create("idb-open",{originalErrorMessage:We.message})})),G}function q(){return(q=(0,_.Z)(function*(We){try{return yield(yield Q()).transaction(pe).objectStore(pe).get(pt(We))}catch(Ne){if(Ne instanceof J.ZR)Et.warn(Ne.message);else{const st=an.create("idb-get",{originalErrorMessage:Ne?.message});Et.warn(st.message)}}})).apply(this,arguments)}function Re(We,Ne){return tt.apply(this,arguments)}function tt(){return(tt=(0,_.Z)(function*(We,Ne){try{const Ut=(yield Q()).transaction(pe,"readwrite");yield Ut.objectStore(pe).put(Ne,pt(We)),yield Ut.done}catch(st){if(st instanceof J.ZR)Et.warn(st.message);else{const Ut=an.create("idb-set",{originalErrorMessage:st?.message});Et.warn(Ut.message)}}})).apply(this,arguments)}function pt(We){return`${We.name}!${We.options.appId}`}class St{constructor(Ne){this.container=Ne,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new Zr(st),this._heartbeatsCachePromise=this._storage.read().then(Ut=>(this._heartbeatsCache=Ut,Ut))}triggerHeartbeat(){var Ne=this;return(0,_.Z)(function*(){var st;const tn=Ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bt=Qt();if(null==(null===(st=Ne._heartbeatsCache)||void 0===st?void 0:st.heartbeats)&&(Ne._heartbeatsCache=yield Ne._heartbeatsCachePromise),Ne._heartbeatsCache.lastSentHeartbeatDate!==bt&&!Ne._heartbeatsCache.heartbeats.some(Cn=>Cn.date===bt))return Ne._heartbeatsCache.heartbeats.push({date:bt,agent:tn}),Ne._heartbeatsCache.heartbeats=Ne._heartbeatsCache.heartbeats.filter(Cn=>{const gr=new Date(Cn.date).valueOf();return Date.now()-gr<=2592e6}),Ne._storage.overwrite(Ne._heartbeatsCache)})()}getHeartbeatsHeader(){var Ne=this;return(0,_.Z)(function*(){var st;if(null===Ne._heartbeatsCache&&(yield Ne._heartbeatsCachePromise),null==(null===(st=Ne._heartbeatsCache)||void 0===st?void 0:st.heartbeats)||0===Ne._heartbeatsCache.heartbeats.length)return"";const Ut=Qt(),{heartbeatsToSend:tn,unsentEntries:bt}=function $n(We,Ne=1024){const st=[];let Ut=We.slice();for(const tn of We){const bt=st.find(Cn=>Cn.agent===tn.agent);if(bt){if(bt.dates.push(tn.date),Li(st)>Ne){bt.dates.pop();break}}else if(st.push({agent:tn.agent,dates:[tn.date]}),Li(st)>Ne){st.pop();break}Ut=Ut.slice(1)}return{heartbeatsToSend:st,unsentEntries:Ut}}(Ne._heartbeatsCache.heartbeats),Cn=(0,J.L)(JSON.stringify({version:2,heartbeats:tn}));return Ne._heartbeatsCache.lastSentHeartbeatDate=Ut,bt.length>0?(Ne._heartbeatsCache.heartbeats=bt,yield Ne._storage.overwrite(Ne._heartbeatsCache)):(Ne._heartbeatsCache.heartbeats=[],Ne._storage.overwrite(Ne._heartbeatsCache)),Cn})()}}function Qt(){return(new Date).toISOString().substring(0,10)}class Zr{constructor(Ne){this.app=Ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,J.hl)()&&(0,J.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ne=this;return(0,_.Z)(function*(){return(yield Ne._canUseIndexedDBPromise)&&(yield function W(We){return q.apply(this,arguments)}(Ne.app))||{heartbeats:[]}})()}overwrite(Ne){var st=this;return(0,_.Z)(function*(){var Ut;if(yield st._canUseIndexedDBPromise){const bt=yield st.read();return Re(st.app,{lastSentHeartbeatDate:null!==(Ut=Ne.lastSentHeartbeatDate)&&void 0!==Ut?Ut:bt.lastSentHeartbeatDate,heartbeats:Ne.heartbeats})}})()}add(Ne){var st=this;return(0,_.Z)(function*(){var Ut;if(yield st._canUseIndexedDBPromise){const bt=yield st.read();return Re(st.app,{lastSentHeartbeatDate:null!==(Ut=Ne.lastSentHeartbeatDate)&&void 0!==Ut?Ut:bt.lastSentHeartbeatDate,heartbeats:[...bt.heartbeats,...Ne.heartbeats]})}})()}}function Li(We){return(0,J.L)(JSON.stringify({version:2,heartbeats:We})).length}!function Pr(We){An(new re.wA("platform-logger",Ne=>new Kn(Ne),"PRIVATE")),An(new re.wA("heartbeat",Ne=>new St(Ne),"PRIVATE")),Vr(En,"0.9.23",We),Vr(En,"0.9.23","esm2017"),Vr("fire-js","")}("")},4537:(It,Fe,L)=>{L.d(Fe,{H0:()=>ye,wA:()=>he});var _=L(5861),re=L(9058);class he{constructor(ee,ce,Ee){this.name=ee,this.instanceFactory=ce,this.type=Ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const J="[DEFAULT]";class Y{constructor(ee,ce){this.name=ee,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ce=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ce)){const Ee=new re.BH;if(this.instancesDeferred.set(ce,Ee),this.isInitialized(ce)||this.shouldAutoInitialize())try{const we=this.getOrInitializeService({instanceIdentifier:ce});we&&Ee.resolve(we)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(ee){var ce;const Ee=this.normalizeInstanceIdentifier(ee?.identifier),we=null!==(ce=ee?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(Ee)&&!this.shouldAutoInitialize()){if(we)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ee})}catch(Qe){if(we)return null;throw Qe}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Ae(ge){return"EAGER"===ge.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:J})}catch{}for(const[ce,Ee]of this.instancesDeferred.entries()){const we=this.normalizeInstanceIdentifier(ce);try{const Qe=this.getOrInitializeService({instanceIdentifier:we});Ee.resolve(Qe)}catch{}}}}clearInstance(ee=J){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,_.Z)(function*(){const ce=Array.from(ee.instances.values());yield Promise.all([...ce.filter(Ee=>"INTERNAL"in Ee).map(Ee=>Ee.INTERNAL.delete()),...ce.filter(Ee=>"_delete"in Ee).map(Ee=>Ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=J){return this.instances.has(ee)}getOptions(ee=J){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ce={}}=ee,Ee=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(Ee))throw Error(`${this.name}(${Ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const we=this.getOrInitializeService({instanceIdentifier:Ee,options:ce});for(const[Qe,Le]of this.instancesDeferred.entries())Ee===this.normalizeInstanceIdentifier(Qe)&&Le.resolve(we);return we}onInit(ee,ce){var Ee;const we=this.normalizeInstanceIdentifier(ce),Qe=null!==(Ee=this.onInitCallbacks.get(we))&&void 0!==Ee?Ee:new Set;Qe.add(ee),this.onInitCallbacks.set(we,Qe);const Le=this.instances.get(we);return Le&&ee(Le,we),()=>{Qe.delete(ee)}}invokeOnInitCallbacks(ee,ce){const Ee=this.onInitCallbacks.get(ce);if(Ee)for(const we of Ee)try{we(ee,ce)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ce={}}){let Ee=this.instances.get(ee);if(!Ee&&this.component&&(Ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=ee,ge===J?void 0:ge),options:ce}),this.instances.set(ee,Ee),this.instancesOptions.set(ee,ce),this.invokeOnInitCallbacks(Ee,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,Ee)}catch{}var ge;return Ee||null}normalizeInstanceIdentifier(ee=J){return this.component?this.component.multipleInstances?ee:J:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ce=this.getProvider(ee.name);if(ce.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ce.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ce=new Y(ee,this);return this.providers.set(ee,ce),ce}getProviders(){return Array.from(this.providers.values())}}},7879:(It,Fe,L)=>{L.d(Fe,{Yd:()=>Ae,in:()=>re});const _=[];var re=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(re||{});const he={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},J=re.INFO,Y={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},ie=(ee,ce,...Ee)=>{if(ce<ee.logLevel)return;const we=(new Date).toISOString(),Qe=Y[ce];if(!Qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[Qe](`[${we}]  ${ee.name}:`,...Ee)};class Ae{constructor(ce){this.name=ce,this._logLevel=J,this._logHandler=ie,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in re))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?he[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...ce),this._logHandler(this,re.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...ce),this._logHandler(this,re.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,re.INFO,...ce),this._logHandler(this,re.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,re.WARN,...ce),this._logHandler(this,re.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...ce),this._logHandler(this,re.ERROR,...ce)}}},3182:(It,Fe,L)=>{L.d(Fe,{C6:()=>_.C6,KN:()=>_.KN,Mq:()=>_.Mq,ZF:()=>_.ZF});var _=L(534);(0,_.KN)("firebase","10.6.0","app")},2425:(It,Fe,L)=>{L.d(Fe,{FM:()=>Jt,Rh:()=>nn,_W:()=>ct});var _=L(5879),re=L(6825),he=L(6814),J=L(8645),Y=L(6593);const ie=["toast-component",""];function Ae(fe,Be){if(1&fe){const de=_.EpF();_.TgZ(0,"button",5),_.NdJ("click",function(){_.CHM(de);const be=_.oxw();return _.KtG(be.remove())}),_.TgZ(1,"span",6),_._uU(2,"\xd7"),_.qZA()()}}function ye(fe,Be){if(1&fe&&(_.ynx(0),_._uU(1),_.BQk()),2&fe){const de=_.oxw(2);_.xp6(1),_.hij("[",de.duplicatesCount+1,"]")}}function ge(fe,Be){if(1&fe&&(_.TgZ(0,"div"),_._uU(1),_.YNc(2,ye,2,1,"ng-container",4),_.qZA()),2&fe){const de=_.oxw();_.Tol(de.options.titleClass),_.uIk("aria-label",de.title),_.xp6(1),_.hij(" ",de.title," "),_.xp6(1),_.Q6J("ngIf",de.duplicatesCount)}}function ee(fe,Be){if(1&fe&&_._UZ(0,"div",7),2&fe){const de=_.oxw();_.Tol(de.options.messageClass),_.Q6J("innerHTML",de.message,_.oJD)}}function ce(fe,Be){if(1&fe&&(_.TgZ(0,"div",8),_._uU(1),_.qZA()),2&fe){const de=_.oxw();_.Tol(de.options.messageClass),_.uIk("aria-label",de.message),_.xp6(1),_.hij(" ",de.message," ")}}function Ee(fe,Be){if(1&fe&&(_.TgZ(0,"div"),_._UZ(1,"div",9),_.qZA()),2&fe){const de=_.oxw();_.xp6(1),_.Udp("width",de.width+"%")}}let Jt=(()=>{class fe{el;constructor(de){this.el=de}getContainerElement(){return this.el.nativeElement}static \u0275fac=function(Se){return new(Se||fe)(_.Y36(_.SBq))};static \u0275dir=_.lG2({type:fe,selectors:[["","toastContainer",""]],exportAs:["toastContainer"],standalone:!0})}return fe})();class Tt{_attachedHost;component;viewContainerRef;injector;constructor(Be,de){this.component=Be,this.injector=de}attach(Be,de){return this._attachedHost=Be,Be.attach(this,de)}detach(){const Be=this._attachedHost;if(Be)return this._attachedHost=void 0,Be.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Be){this._attachedHost=Be}}class le{_attachedPortal;_disposeFn;attach(Be,de){return this._attachedPortal=Be,this.attachComponentPortal(Be,de)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Be){this._disposeFn=Be}}class qe{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new J.x;_activate=new J.x;_manualClose=new J.x;_resetTimeout=new J.x;_countDuplicate=new J.x;constructor(Be){this._overlayRef=Be}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Be,de){Be&&this._resetTimeout.next(),de&&this._countDuplicate.next(++this.duplicatesCount)}}class Ce{toastId;config;message;title;toastType;toastRef;_onTap=new J.x;_onAction=new J.x;constructor(Be,de,Se,be,et,kt){this.toastId=Be,this.config=de,this.message=Se,this.title=be,this.toastType=et,this.toastRef=kt,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Be){this._onAction.next(Be)}onAction(){return this._onAction.asObservable()}}const ut=new _.OlP("ToastConfig");class lt extends le{_hostDomElement;_componentFactoryResolver;_appRef;constructor(Be,de,Se){super(),this._hostDomElement=Be,this._componentFactoryResolver=de,this._appRef=Se}attachComponentPortal(Be,de){const Se=this._componentFactoryResolver.resolveComponentFactory(Be.component);let be;return be=Se.create(Be.injector),this._appRef.attachView(be.hostView),this.setDisposeFn(()=>{this._appRef.detachView(be.hostView),be.destroy()}),de?this._hostDomElement.insertBefore(this._getComponentRootNode(be),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(be)),be}_getComponentRootNode(Be){return Be.hostView.rootNodes[0]}}let hn=(()=>{class fe{_document=(0,_.f3M)(he.K0);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const de=this._document.createElement("div");de.classList.add("overlay-container"),de.setAttribute("aria-live","polite"),this._document.body.appendChild(de),this._containerElement=de}static \u0275fac=function(Se){return new(Se||fe)};static \u0275prov=_.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})();class fn{_portalHost;constructor(Be){this._portalHost=Be}attach(Be,de=!0){return this._portalHost.attach(Be,de)}detach(){return this._portalHost.detach()}}let Kn=(()=>{class fe{_overlayContainer=(0,_.f3M)(hn);_componentFactoryResolver=(0,_.f3M)(_._Vd);_appRef=(0,_.f3M)(_.z2F);_document=(0,_.f3M)(he.K0);_paneElements=new Map;create(de,Se){return this._createOverlayRef(this.getPaneElement(de,Se))}getPaneElement(de="",Se){return this._paneElements.get(Se)||this._paneElements.set(Se,{}),this._paneElements.get(Se)[de]||(this._paneElements.get(Se)[de]=this._createPaneElement(de,Se)),this._paneElements.get(Se)[de]}_createPaneElement(de,Se){const be=this._document.createElement("div");return be.id="toast-container",be.classList.add(de),be.classList.add("toast-container"),Se?Se.getContainerElement().appendChild(be):this._overlayContainer.getContainerElement().appendChild(be),be}_createPortalHost(de){return new lt(de,this._componentFactoryResolver,this._appRef)}_createOverlayRef(de){return new fn(this._createPortalHost(de))}static \u0275fac=function(Se){return new(Se||fe)};static \u0275prov=_.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})(),ct=(()=>{class fe{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(de,Se,be,et,kt){this.overlay=Se,this._injector=be,this.sanitizer=et,this.ngZone=kt,this.toastrConfig={...de.default,...de.config},de.config.iconClasses&&(this.toastrConfig.iconClasses={...de.default.iconClasses,...de.config.iconClasses})}show(de,Se,be={},et=""){return this._preBuildNotification(et,de,Se,this.applyConfig(be))}success(de,Se,be={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",de,Se,this.applyConfig(be))}error(de,Se,be={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",de,Se,this.applyConfig(be))}info(de,Se,be={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",de,Se,this.applyConfig(be))}warning(de,Se,be={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",de,Se,this.applyConfig(be))}clear(de){for(const Se of this.toasts)if(void 0!==de){if(Se.toastId===de)return void Se.toastRef.manualClose()}else Se.toastRef.manualClose()}remove(de){const Se=this._findToast(de);if(!Se||(Se.activeToast.toastRef.close(),this.toasts.splice(Se.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const be=this.toasts[this.currentlyActive].toastRef;be.isInactive()||(this.currentlyActive=this.currentlyActive+1,be.activate())}return!0}findDuplicate(de="",Se="",be,et){const{includeTitleDuplicates:kt}=this.toastrConfig;for(const dn of this.toasts)if((!kt||kt&&dn.title===de)&&dn.message===Se)return dn.toastRef.onDuplicate(be,et),dn;return null}applyConfig(de={}){return{...this.toastrConfig,...de}}_findToast(de){for(let Se=0;Se<this.toasts.length;Se++)if(this.toasts[Se].toastId===de)return{index:Se,activeToast:this.toasts[Se]};return null}_preBuildNotification(de,Se,be,et){return et.onActivateTick?this.ngZone.run(()=>this._buildNotification(de,Se,be,et)):this._buildNotification(de,Se,be,et)}_buildNotification(de,Se,be,et){if(!et.toastComponent)throw new Error("toastComponent required");const kt=this.findDuplicate(be,Se,this.toastrConfig.resetTimeoutOnDuplicate&&et.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&be||Se)&&this.toastrConfig.preventDuplicates&&null!==kt)return kt;this.previousToastMessage=Se;let dn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(dn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Vt=this.overlay.create(et.positionClass,this.overlayContainer);this.index=this.index+1;let In=Se;Se&&et.enableHtml&&(In=this.sanitizer.sanitize(_.q3G.HTML,Se));const Tn=new qe(Vt),kn=new Ce(this.index,et,In,be,de,Tn),Fn=_.zs3.create({providers:[{provide:Ce,useValue:kn}],parent:this._injector}),sr=new Tt(et.toastComponent,Fn),qr=Vt.attach(sr,et.newestOnTop);Tn.componentInstance=qr.instance;const Kr={toastId:this.index,title:be||"",message:Se||"",toastRef:Tn,onShown:Tn.afterActivate(),onHidden:Tn.afterClosed(),onTap:kn.onTap(),onAction:kn.onAction(),portal:qr};return dn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Kr.toastRef.activate()})),this.toasts.push(Kr),Kr}static \u0275fac=function(Se){return new(Se||fe)(_.LFG(ut),_.LFG(Kn),_.LFG(_.zs3),_.LFG(Y.H7),_.LFG(_.R0b))};static \u0275prov=_.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})();const Nn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class fe{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(de,Se,be){this.toastrService=de,this.toastPackage=Se,this.ngZone=be,this.message=Se.message,this.title=Se.title,this.options=Se.config,this.originalTimeout=Se.config.timeOut,this.toastClasses=`${Se.toastType} ${Se.config.toastClass}`,this.sub=Se.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Se.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Se.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Se.toastRef.countDuplicate().subscribe(et=>{this.duplicatesCount=et}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const de=(new Date).getTime();this.width=(this.hideTime-de)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(de,Se){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(de),Se)):this.timeout=setTimeout(()=>de(),Se)}outsideInterval(de,Se){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(de),Se)):this.intervalId=setInterval(()=>de(),Se)}runInsideAngular(de){this.ngZone?this.ngZone.run(()=>de()):de()}static \u0275fac=function(Se){return new(Se||fe)(_.Y36(ct),_.Y36(Ce),_.Y36(_.R0b))};static \u0275cmp=_.Xpm({type:fe,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Se,be){1&Se&&_.NdJ("click",function(){return be.tapToast()})("mouseenter",function(){return be.stickAround()})("mouseleave",function(){return be.delayedHideToast()}),2&Se&&(_.d8E("@flyInOut",be.state),_.Tol(be.toastClasses),_.Udp("display",be.displayStyle))},standalone:!0,features:[_.jDz],attrs:ie,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Se,be){1&Se&&(_.YNc(0,Ae,3,0,"button",0),_.YNc(1,ge,3,5,"div",1),_.YNc(2,ee,1,3,"div",2),_.YNc(3,ce,2,4,"div",3),_.YNc(4,Ee,2,2,"div",4)),2&Se&&(_.Q6J("ngIf",be.options.closeButton),_.xp6(1),_.Q6J("ngIf",be.title),_.xp6(1),_.Q6J("ngIf",be.message&&be.options.enableHtml),_.xp6(1),_.Q6J("ngIf",be.message&&!be.options.enableHtml),_.xp6(1),_.Q6J("ngIf",be.options.progressBar))},dependencies:[he.O5],encapsulation:2,data:{animation:[(0,re.X$)("flyInOut",[(0,re.SB)("inactive",(0,re.oB)({opacity:0})),(0,re.SB)("active",(0,re.oB)({opacity:1})),(0,re.SB)("removed",(0,re.oB)({opacity:0})),(0,re.eR)("inactive => active",(0,re.jt)("{{ easeTime }}ms {{ easing }}")),(0,re.eR)("active => removed",(0,re.jt)("{{ easeTime }}ms {{ easing }}"))])]}})}return fe})()},Et=(fe={})=>(0,_.MR2)([{provide:ut,useValue:{default:Nn,config:fe}}]);let nn=(()=>{class fe{static forRoot(de={}){return{ngModule:fe,providers:[Et(de)]}}static \u0275fac=function(Se){return new(Se||fe)};static \u0275mod=_.oAB({type:fe});static \u0275inj=_.cJS({})}return fe})()},5861:(It,Fe,L)=>{function _(he,J,Y,ie,Ae,ye,ge){try{var ee=he[ye](ge),ce=ee.value}catch(Ee){return void Y(Ee)}ee.done?J(ce):Promise.resolve(ce).then(ie,Ae)}function re(he){return function(){var J=this,Y=arguments;return new Promise(function(ie,Ae){var ye=he.apply(J,Y);function ge(ce){_(ye,ie,Ae,ge,ee,"next",ce)}function ee(ce){_(ye,ie,Ae,ge,ee,"throw",ce)}ge(void 0)})}}L.d(Fe,{Z:()=>re})},7582:(It,Fe,L)=>{function J(Pe,Ve){var Ue={};for(var fe in Pe)Object.prototype.hasOwnProperty.call(Pe,fe)&&Ve.indexOf(fe)<0&&(Ue[fe]=Pe[fe]);if(null!=Pe&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(fe=Object.getOwnPropertySymbols(Pe);Be<fe.length;Be++)Ve.indexOf(fe[Be])<0&&Object.prototype.propertyIsEnumerable.call(Pe,fe[Be])&&(Ue[fe[Be]]=Pe[fe[Be]])}return Ue}function Ee(Pe,Ve,Ue,fe){return new(Ue||(Ue=Promise))(function(de,Se){function be(dn){try{kt(fe.next(dn))}catch(Vt){Se(Vt)}}function et(dn){try{kt(fe.throw(dn))}catch(Vt){Se(Vt)}}function kt(dn){dn.done?de(dn.value):function Be(de){return de instanceof Ue?de:new Ue(function(Se){Se(de)})}(dn.value).then(be,et)}kt((fe=fe.apply(Pe,Ve||[])).next())})}function le(Pe){return this instanceof le?(this.v=Pe,this):new le(Pe)}function qe(Pe,Ve,Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,fe=Ue.apply(Pe,Ve||[]),de=[];return Be={},Se("next"),Se("throw"),Se("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function Se(In){fe[In]&&(Be[In]=function(Tn){return new Promise(function(kn,Ln){de.push([In,Tn,kn,Ln])>1||be(In,Tn)})})}function be(In,Tn){try{!function et(In){In.value instanceof le?Promise.resolve(In.value.v).then(kt,dn):Vt(de[0][2],In)}(fe[In](Tn))}catch(kn){Vt(de[0][3],kn)}}function kt(In){be("next",In)}function dn(In){be("throw",In)}function Vt(In,Tn){In(Tn),de.shift(),de.length&&be(de[0][0],de[0][1])}}function Ye(Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,Ve=Pe[Symbol.asyncIterator];return Ve?Ve.call(Pe):(Pe=function Ze(Pe){var Ve="function"==typeof Symbol&&Symbol.iterator,Ue=Ve&&Pe[Ve],fe=0;if(Ue)return Ue.call(Pe);if(Pe&&"number"==typeof Pe.length)return{next:function(){return Pe&&fe>=Pe.length&&(Pe=void 0),{value:Pe&&Pe[fe++],done:!Pe}}};throw new TypeError(Ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(Pe),Ue={},fe("next"),fe("throw"),fe("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue);function fe(de){Ue[de]=Pe[de]&&function(Se){return new Promise(function(be,et){!function Be(de,Se,be,et){Promise.resolve(et).then(function(kt){de({value:kt,done:be})},Se)}(be,et,(Se=Pe[de](Se)).done,Se.value)})}}}L.d(Fe,{FC:()=>qe,KL:()=>Ye,_T:()=>J,mG:()=>Ee,qq:()=>le}),"function"==typeof SuppressedError&&SuppressedError}},It=>{It(It.s=6842)}]);