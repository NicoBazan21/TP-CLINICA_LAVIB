<table class="table table-dark table-hover text-center" style="opacity: 0.8;">
    <thead>
        <tr>
            <th>Fecha</th>
            <th>Hora</th>
            <th>Profesional</th>
            <th>Paciente</th>
            <th>Especialidad</th>
            <th>Estado</th>
            <th>Acciones disponibles</th>
            <th>Detalles</th>
            <th>Historia clinica</th>
        </tr>
    </thead>
    <tbody>
        <ng-container *ngFor="let item of this.turnosEncuesta">
            <tr [attr.data-filtro]="item.turno.nombreCompletoEspecialista +' '+ item.turno.especialidad + ' ' + 
                item.encuesta.altura + ' ' + item.encuesta.peso + ' ' + item.encuesta.presion + ' ' + item.encuesta.temperatura + ' ' + item.encuesta.claveUno + ' ' + item.encuesta.valorUno + ' ' + item.encuesta.claveDos + ' ' + item.encuesta.valorDos ">

                <td>{{item.turno.fecha}}</td>
                <td>{{item.turno.hora}} hs.</td>
                <td>{{item.turno.nombreCompletoEspecialista}}</td>
                <td>{{item.turno.nombreCompletoPaciente}}</td>
                <td>{{item.turno.especialidad}}</td>

                <ng-container [ngSwitch]="item.turno.estadoTurno">
                    <ng-container *ngSwitchCase="'Pendiente'">
                        <td>
                            <span style="color:#007bff;">Pendiente</span>
                        </td>
                        <td>
                            <button class="btn btn-outline-danger" (click)="cancelarTurno(item.turno.id)">Cancelar turno</button>
                            <button class="btn btn-outline-warning ms-2" (click)="aceptarTurno(item.turno.id)">Aceptar turno</button>
                        </td>
                        <td>
                            <button class="btn btn-outline-secondary">Pendiente</button>
                        </td>
                        <td>
                            <button class="btn btn-outline-secondary">N\A</button>
                        </td>
                    </ng-container>

                    <ng-container *ngSwitchCase="'Aceptado'">
                        <td>
                            <span style="color:#ffc107;">Aceptado</span>
                        <td>
                            <button class="btn btn-outline-warning" (click)="finalizar(item.turno.id)">Finalizar</button>
                        </td>
                        <td>
                            <button class="btn btn-outline-secondary">Pendiente</button>
                        </td>
                        <td>
                            <button class="btn btn-outline-secondary">N\A</button>
                        </td>
                    </ng-container>
                    
                    <ng-container *ngSwitchCase="'Finalizado'">
                        <td>
                            <span style="color:#198754;">Finalizado</span>
                        </td>
                        <td>
                            <button class="btn btn-outline-success" (click)="verResenia(item.turno.id)">Ver reseña</button>
                        </td>
                        <td>
                            <button class="btn btn-outline-secondary">N\A</button>
                        </td>
                        <td>
                            <button class="btn btn-outline-secondary" (click)="mostrar(item.turno.id)">Detalles</button>
                        </td>
                    </ng-container>
                    
                    <ng-container *ngSwitchDefault>
                        <td>
                            <span style="color:#6c757d;">Cancelado</span>
                        </td>
                        <td>
                            <button class="btn btn-outline-secondary">Turno cancelado</button>                
                        </td>
                        <td>
                            <button class="btn btn-outline-secondary" (click)="verComentarioCancelado(item.turno.id)">Comentario</button>
                        </td>
                        <td>
                            <button class="btn btn-outline-secondary">N\A</button>
                        </td>
                    </ng-container>
                </ng-container>
            </tr>
            <tr [id]="item.turno.id" style="display:none;">
                <ng-container *ngIf="item.encuesta.id != ''">
                    <td>Altura: {{item.encuesta.altura}}cm.</td>
                    <td>Peso: {{item.encuesta.peso}}kg.</td>
                    <td>Presion: {{item.encuesta.presion}}.</td>
                    <td>Temperatura: {{item.encuesta.temperatura}}º</td>
                    <td>{{item.encuesta.claveUno}}:</td>
                    <td>{{item.encuesta.valorUno}}</td>
                    <td>{{item.encuesta.claveDos}}:</td>
                    <td>{{item.encuesta.valorDos}}</td>
                    <td></td>
                </ng-container>
            </tr>
        </ng-container>

    </tbody>
</table>